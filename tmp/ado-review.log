{"timestamp":"2025-08-19T13:50:00.835Z","level":"info","message":"\u001b[34mðŸš€ Starting Azure DevOps PR Review...\u001b[39m"}
{"timestamp":"2025-08-19T13:50:00.835Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T13:50:00.836Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T13:50:00.836Z","level":"info","message":"\u001b[34m[1/8]\u001b[39m Initializing and validating options..."}
{"timestamp":"2025-08-19T13:50:00.836Z","level":"debug","message":"Starting step 1: Initialize"}
{"timestamp":"2025-08-19T13:50:00.837Z","level":"info","message":"Loading configuration..."}
{"timestamp":"2025-08-19T13:50:00.838Z","level":"debug","message":"Found .adorevrc.yaml in project root, loading configuration"}
{"timestamp":"2025-08-19T13:50:00.838Z","level":"debug","message":"Project root configuration loaded successfully"}
{"timestamp":"2025-08-19T13:50:00.838Z","level":"info","message":"Using configuration from: project-root"}
{"timestamp":"2025-08-19T13:50:00.838Z","level":"debug","message":"Log level overridden by ADO_REVIEW_LOG_LEVEL: debug"}
{"timestamp":"2025-08-19T13:50:00.838Z","level":"debug","message":"Configuration loaded and merged successfully"}
{"timestamp":"2025-08-19T13:50:00.838Z","level":"debug","message":"Gemini timeout: 120000ms"}
{"timestamp":"2025-08-19T13:50:00.839Z","level":"debug","message":"Current log level: debug"}
{"timestamp":"2025-08-19T13:50:00.840Z","level":"debug","message":"Initializing GeminiAdapter with timeout: 120000ms"}
{"timestamp":"2025-08-19T13:50:00.840Z","level":"debug","message":"GeminiAdapter initialized with default timeout: 120000ms"}
{"timestamp":"2025-08-19T13:50:00.841Z","level":"debug","message":"All components initialized successfully"}
{"timestamp":"2025-08-19T13:50:00.841Z","level":"debug","message":"Completed step 1: Initialize"}
{"timestamp":"2025-08-19T13:50:00.841Z","level":"info","message":"\u001b[34m[2/8]\u001b[39m Setting up temporary workspace..."}
{"timestamp":"2025-08-19T13:50:00.841Z","level":"debug","message":"Starting step 2: Setup workspace"}
{"timestamp":"2025-08-19T13:50:00.852Z","level":"info","message":"Workspace created: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755611400841-qhu98a"}
{"timestamp":"2025-08-19T13:50:00.852Z","level":"debug","message":"Workspace config path: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755611400841-qhu98a/.adorevrc.yaml"}
{"timestamp":"2025-08-19T13:50:00.853Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T13:50:00.853Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T13:50:00.853Z","level":"debug","message":"Completed step 2: Setup workspace"}
{"timestamp":"2025-08-19T13:50:00.853Z","level":"info","message":"\u001b[34m[3/8]\u001b[39m Fetching PR information and changes..."}
{"timestamp":"2025-08-19T13:50:00.853Z","level":"debug","message":"Starting step 3: Fetch PR info and diffs"}
{"timestamp":"2025-08-19T13:50:00.853Z","level":"debug","message":"Fetching PR 18670 info"}
{"timestamp":"2025-08-19T13:50:00.854Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18670"}
{"timestamp":"2025-08-19T13:50:01.449Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18670"}
{"timestamp":"2025-08-19T13:50:01.449Z","level":"debug","message":"Successfully fetched PR 18670 info"}
{"timestamp":"2025-08-19T13:50:01.449Z","level":"debug","message":"Response status: 200"}
{"timestamp":"2025-08-19T13:50:01.449Z","level":"debug","message":"Response data keys:"}
{"timestamp":"2025-08-19T13:50:01.450Z","level":"debug","message":"PR Info structure:"}
{"timestamp":"2025-08-19T13:50:01.450Z","level":"debug","message":"Completed fetchPRInfo"}
{"timestamp":"2025-08-19T13:50:01.450Z","level":"debug","message":"fetchDiffs - prInfo structure:"}
{"timestamp":"2025-08-19T13:50:01.450Z","level":"info","message":"Cloning repository: https://inploid@dev.azure.com/inploid/AuditReactProject/_git/AuditReactProject.RN0.71.X"}
{"timestamp":"2025-08-19T13:50:01.450Z","level":"debug","message":"Clone options: {\"branch\":\"refs/heads/feature/TDM-14369\",\"workingDirectory\":\"/var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755611400841-qhu98a/source\"}"}
{"timestamp":"2025-08-19T13:50:01.450Z","level":"debug","message":"Executing: git init "}
{"timestamp":"2025-08-19T13:50:01.470Z","level":"debug","message":"Executing: git remote add origin https://inploid@dev.azure.com/inploid/AuditReactProject/_git/AuditReactProject.RN0.71.X"}
{"timestamp":"2025-08-19T13:50:01.487Z","level":"debug","message":"Executing: git fetch origin refs/heads/feature/TDM-14369"}
{"timestamp":"2025-08-19T13:50:38.041Z","level":"debug","message":"Executing: git checkout -b local-branch origin/feature/TDM-14369"}
{"timestamp":"2025-08-19T13:50:38.643Z","level":"debug","message":"Executing: git rev-parse HEAD"}
{"timestamp":"2025-08-19T13:50:38.669Z","level":"info","message":"Successfully cloned repository to /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755611400841-qhu98a/source"}
{"timestamp":"2025-08-19T13:50:38.670Z","level":"debug","message":"Commit ID: c70bd7cc2b6f76b1771309f08669e7ab59ce20d0"}
{"timestamp":"2025-08-19T13:50:38.671Z","level":"debug","message":"Reinitializing ConfigLoader with cloned workspace directory:"}
{"timestamp":"2025-08-19T13:50:38.686Z","level":"debug","message":"Workspace config path: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755611400841-qhu98a/source/.adorevrc.yaml"}
{"timestamp":"2025-08-19T13:50:38.686Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T13:50:38.686Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T13:50:38.688Z","level":"debug","message":"Found .adorevrc.yaml in project root, loading configuration"}
{"timestamp":"2025-08-19T13:50:38.689Z","level":"debug","message":"Project root configuration loaded successfully"}
{"timestamp":"2025-08-19T13:50:38.689Z","level":"info","message":"Using configuration from: project-root"}
{"timestamp":"2025-08-19T13:50:38.689Z","level":"debug","message":"Log level overridden by ADO_REVIEW_LOG_LEVEL: debug"}
{"timestamp":"2025-08-19T13:50:38.689Z","level":"debug","message":"Configuration loaded and merged successfully"}
{"timestamp":"2025-08-19T13:50:38.689Z","level":"debug","message":"Gemini timeout: 120000ms"}
{"timestamp":"2025-08-19T13:50:38.689Z","level":"debug","message":"Current log level: debug"}
{"timestamp":"2025-08-19T13:50:38.689Z","level":"debug","message":"Reloaded configuration from workspace:"}
{"timestamp":"2025-08-19T13:50:38.695Z","level":"info","message":"Fetching iteration changes for PR 18670"}
{"timestamp":"2025-08-19T13:50:38.695Z","level":"debug","message":"Fetching PR 18670 iterations"}
{"timestamp":"2025-08-19T13:50:38.696Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18670/iterations"}
{"timestamp":"2025-08-19T13:50:38.922Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18670/iterations"}
{"timestamp":"2025-08-19T13:50:38.922Z","level":"debug","message":"Successfully fetched 2 iterations"}
{"timestamp":"2025-08-19T13:50:38.922Z","level":"debug","message":"Fetching changes for iteration 2"}
{"timestamp":"2025-08-19T13:50:38.923Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18670/iterations/2/changes"}
{"timestamp":"2025-08-19T13:50:39.108Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18670/iterations/2/changes"}
{"timestamp":"2025-08-19T13:50:39.108Z","level":"debug","message":"Successfully fetched 5 changes"}
{"timestamp":"2025-08-19T13:50:39.108Z","level":"debug","message":"Processing iteration changes with 5 file changes"}
{"timestamp":"2025-08-19T13:50:39.108Z","level":"debug","message":"Processing iteration change for file: /__mocks__/@react-native-community/geolocation.js"}
{"timestamp":"2025-08-19T13:50:39.109Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to c70bd7cc2b6f76b1771309f08669e7ab59ce20d0"}
{"timestamp":"2025-08-19T13:50:39.109Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 c70bd7cc2b6f76b1771309f08669e7ab59ce20d0 -- __mocks__/@react-native-community/geolocation.js"}
{"timestamp":"2025-08-19T13:50:39.125Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T13:50:39.125Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/location-helper.test.ts"}
{"timestamp":"2025-08-19T13:50:39.125Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to c70bd7cc2b6f76b1771309f08669e7ab59ce20d0"}
{"timestamp":"2025-08-19T13:50:39.125Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 c70bd7cc2b6f76b1771309f08669e7ab59ce20d0 -- __tests__/app/lib/location-helper.test.ts"}
{"timestamp":"2025-08-19T13:50:39.138Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T13:50:39.139Z","level":"debug","message":"Processing iteration change for file: /app/lib/location-helper.ts"}
{"timestamp":"2025-08-19T13:50:39.139Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to c70bd7cc2b6f76b1771309f08669e7ab59ce20d0"}
{"timestamp":"2025-08-19T13:50:39.139Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 c70bd7cc2b6f76b1771309f08669e7ab59ce20d0 -- app/lib/location-helper.ts"}
{"timestamp":"2025-08-19T13:50:39.150Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T13:50:39.151Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/orientation.test.ts"}
{"timestamp":"2025-08-19T13:50:39.151Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to c70bd7cc2b6f76b1771309f08669e7ab59ce20d0"}
{"timestamp":"2025-08-19T13:50:39.151Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 c70bd7cc2b6f76b1771309f08669e7ab59ce20d0 -- __tests__/app/lib/orientation.test.ts"}
{"timestamp":"2025-08-19T13:50:39.161Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T13:50:39.161Z","level":"debug","message":"Processing iteration change for file: /app/lib/orientation.ts"}
{"timestamp":"2025-08-19T13:50:39.161Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to c70bd7cc2b6f76b1771309f08669e7ab59ce20d0"}
{"timestamp":"2025-08-19T13:50:39.161Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 c70bd7cc2b6f76b1771309f08669e7ab59ce20d0 -- app/lib/orientation.ts"}
{"timestamp":"2025-08-19T13:50:39.172Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T13:50:39.172Z","level":"info","message":"Successfully fetched diff: 5 files, +734/-65 lines"}
{"timestamp":"2025-08-19T13:50:39.173Z","level":"debug","message":"Diff data saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755611400841-qhu98a/logs/diffs/diff-pr-pr-18670-2025-08-19T13-50-39-172Z.txt"}
{"timestamp":"2025-08-19T13:50:39.173Z","level":"debug","message":"Completed step 3: Fetch PR info and diffs"}
{"timestamp":"2025-08-19T13:50:39.173Z","level":"info","message":"\u001b[34m[4/8]\u001b[39m Loading rules and building review context..."}
{"timestamp":"2025-08-19T13:50:39.173Z","level":"debug","message":"Starting step 4: Load rules and build context"}
{"timestamp":"2025-08-19T13:50:39.173Z","level":"info","message":"Loading review rules and guidelines"}
{"timestamp":"2025-08-19T13:50:39.173Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T13:50:39.174Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T13:50:39.176Z","level":"warn","message":"No rules found in /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T13:50:39.176Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T13:50:39.176Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T13:50:39.178Z","level":"debug","message":"Loaded 28 rules from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T13:50:39.178Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T13:50:39.178Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T13:50:39.179Z","level":"debug","message":"Loaded guideline \"Azure DevOps Review Rules\" from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T13:50:39.179Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T13:50:39.180Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T13:50:39.180Z","level":"debug","message":"Loaded guideline \"React Native Field App - Architecture Guide\" from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T13:50:39.180Z","level":"info","message":"Loaded 1 rule sets, 28 total rules (28 enabled), 2 guidelines"}
{"timestamp":"2025-08-19T13:50:39.180Z","level":"debug","message":"Completed loadRules"}
{"timestamp":"2025-08-19T13:50:39.181Z","level":"info","message":"Building review context"}
{"timestamp":"2025-08-19T13:50:39.181Z","level":"info","message":"Context built: 5 files, 12 hunks, 28 rules, 2 guidelines"}
{"timestamp":"2025-08-19T13:50:39.181Z","level":"debug","message":"Completed step 4: Load rules and build context"}
{"timestamp":"2025-08-19T13:50:39.181Z","level":"info","message":"\u001b[34m[5/8]\u001b[39m Planning and executing AI review..."}
{"timestamp":"2025-08-19T13:50:39.182Z","level":"debug","message":"Starting step 5: Plan and execute review"}
{"timestamp":"2025-08-19T13:50:39.182Z","level":"info","message":"Creating review plan"}
{"timestamp":"2025-08-19T13:50:39.182Z","level":"debug","message":"Completed planReview"}
{"timestamp":"2025-08-19T13:50:39.182Z","level":"debug","message":"Executing Gemini review with plan"}
{"timestamp":"2025-08-19T13:50:39.182Z","level":"info","message":"Executing single batch review"}
{"timestamp":"2025-08-19T13:50:39.182Z","level":"info","message":"Starting Gemini review with model: gemini-pro"}
{"timestamp":"2025-08-19T13:50:39.182Z","level":"debug","message":"Prompt data saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755611400841-qhu98a/logs/prompts/prompt-pr-review-2025-08-19T13-50-39-182Z.txt"}
{"timestamp":"2025-08-19T13:50:39.183Z","level":"debug","message":"Spawning Gemini CLI with stdin approach"}
{"timestamp":"2025-08-19T13:50:40.086Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T13:50:40.172Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T13:50:40.201Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T13:51:07.397Z","level":"debug","message":"Gemini CLI stdout: ```json\n{\n  \"findings\": [\n    {\n      \"file\": \"app/lib/location-helper.ts\",\n      \"line\": 273,\n      \"endLine\": 284,\n      \"severity\": \"warning\",\n      \"message\": \"Yan"}
{"timestamp":"2025-08-19T13:51:07.444Z","level":"debug","message":"Gemini CLI stdout: lÄ±ÅŸ yerleÅŸtirilmiÅŸ JSDoc bloÄŸu. Bu yorum `calculateLatitudeLongitudeAverageAndDelta` fonksiyonuna ait gibi gÃ¶rÃ¼nÃ¼rken, `addDistanceToEachDestination` fonksiyonunun Ã¼zerinde yer alÄ±yor.\",\n      \"suggestion\": \"LÃ¼tfen JSDoc bloÄŸunu doÄŸru fonksiyon olan `calculateLatitudeLongitudeAverageAndDelta"}
{"timestamp":"2025-08-19T13:51:07.526Z","level":"debug","message":"Gemini CLI stdout: `'nÄ±n Ã¼zerine taÅŸÄ±yÄ±n. Bu, kodun okunabilirliÄŸini ve bakÄ±mÄ±nÄ± kolaylaÅŸtÄ±racaktÄ±r.\",\n      \"ruleId\": \"component-structure\",\n      \"category\": \"code-quality\"\n    }\n  ],\n  \"summary\": \"DeÄŸiÅŸiklikler genel olarak olumlu."}
{"timestamp":"2025-08-19T13:51:07.932Z","level":"debug","message":"Gemini CLI stdout: `location-helper` iÃ§in kapsamlÄ± testler eklenmiÅŸ ve `orientation` ile `location-helper` dosyalarÄ±na JSDoc yorumlarÄ± eklenerek kod dokÃ¼mantasyonu iyileÅŸtirilmiÅŸ. Ancak, `location-helper.ts` dosyasÄ±nda bir JSDoc yorumunun yanlÄ±ÅŸ fonks"}
{"timestamp":"2025-08-19T13:51:08.137Z","level":"debug","message":"Gemini CLI stdout: iyona eklendiÄŸi tespit edildi. Bu kÃ¼Ã§Ã¼k hatanÄ±n dÃ¼zeltilmesi gerekiyor.\"\n}\n```"}
{"timestamp":"2025-08-19T13:51:08.147Z","level":"debug","message":"Gemini CLI stdout: "}
{"timestamp":"2025-08-19T13:51:08.160Z","level":"debug","message":"Gemini CLI exited with code: 0"}
{"timestamp":"2025-08-19T13:51:08.161Z","level":"debug","message":"Gemini CLI final stdout: [dotenv@16.6.0] injecting env (9) from .env\n[dotenv@16.6.0] injecting env (9) from .env\n[dotenv@16.6.0] injecting env (9) from .env\n```json\n{\n  \"findings\": [\n    {\n      \"file\": \"app/lib/location-helper.ts\",\n      \"line\": 273,\n      \"endLine\": 284,\n      \"severity\": \"warning\",\n      \"message\": \"YanlÄ±ÅŸ yerleÅŸtirilmiÅŸ JSDoc bloÄŸu. Bu yorum `calculateLatitudeLongitudeAverageAndDelta` fonksiyonuna ait gibi gÃ¶rÃ¼nÃ¼rken, `addDistanceToEachDestination` fonksiyonunun Ã¼zerinde yer alÄ±yor.\",\n      \"suggestion\": \"LÃ¼tfen JSDoc bloÄŸunu doÄŸru fonksiyon olan `calculateLatitudeLongitudeAverageAndDelta`'nÄ±n Ã¼zerine taÅŸÄ±yÄ±n. Bu, kodun okunabilirliÄŸini ve bakÄ±mÄ±nÄ± kolaylaÅŸtÄ±racaktÄ±r.\",\n      \"ruleId\": \"component-structure\",\n      \"category\": \"code-quality\"\n    }\n  ],\n  \"summary\": \"DeÄŸiÅŸiklikler genel olarak olumlu. `location-helper` iÃ§in kapsamlÄ± testler eklenmiÅŸ ve `orientation` ile `location-helper` dosyalarÄ±na JSDoc yorumlarÄ± eklenerek kod dokÃ¼mantasyonu iyileÅŸtirilmiÅŸ. Ancak, `location-helper.ts` dosyasÄ±nda bir JSDoc yorumunun yanlÄ±ÅŸ fonksiyona eklendiÄŸi tespit edildi. Bu kÃ¼Ã§Ã¼k hatanÄ±n dÃ¼zeltilmesi gerekiyor.\"\n}\n```"}
{"timestamp":"2025-08-19T13:51:08.161Z","level":"debug","message":"Gemini CLI final stderr: "}
{"timestamp":"2025-08-19T13:51:08.162Z","level":"debug","message":"Gemini response saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755611400841-qhu98a/logs/responses/gemini-response-pr-req-1755611439182-6juhj7wxk-2025-08-19T13-51-08-161Z.json"}
{"timestamp":"2025-08-19T13:51:08.163Z","level":"info","message":"Review completed: 1 findings"}
{"timestamp":"2025-08-19T13:51:08.163Z","level":"debug","message":"Completed step 5: Plan and execute review"}
{"timestamp":"2025-08-19T13:51:08.163Z","level":"info","message":"\u001b[34m[6/8]\u001b[39m Processing and filtering findings..."}
{"timestamp":"2025-08-19T13:51:08.163Z","level":"debug","message":"Starting step 6: Process findings"}
{"timestamp":"2025-08-19T13:51:08.163Z","level":"info","message":"Found 1 total findings, 1 above threshold"}
{"timestamp":"2025-08-19T13:51:08.163Z","level":"debug","message":"Completed step 6: Process findings"}
{"timestamp":"2025-08-19T13:51:08.163Z","level":"info","message":"\u001b[34m[7/8]\u001b[39m Getting approval and posting comments..."}
{"timestamp":"2025-08-19T13:51:08.164Z","level":"debug","message":"Starting step 7: Get approval and post comments"}
{"timestamp":"2025-08-19T13:51:08.164Z","level":"info","message":"File                       | Line | Severity | Message                                                                                                                                                                                     | Rule               "}
{"timestamp":"2025-08-19T13:51:08.164Z","level":"info","message":"---------------------------+------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------"}
{"timestamp":"2025-08-19T13:51:08.164Z","level":"info","message":"app/lib/location-helper.ts | 273  | WARNING  | YanlÄ±ÅŸ yerleÅŸtirilmiÅŸ JSDoc bloÄŸu. Bu yorum `calculateLatitudeLongitudeAverageAndDelta` fonksiyonuna ait gibi gÃ¶rÃ¼nÃ¼rken, `addDistanceToEachDestination` fonksiyonunun Ã¼zerinde yer alÄ±yor. | component-structure"}
{"timestamp":"2025-08-19T13:52:42.352Z","level":"debug","message":"Completed getApproval"}
{"timestamp":"2025-08-19T13:52:42.353Z","level":"info","message":"Mapping 1 findings to ADO comment threads"}
{"timestamp":"2025-08-19T13:52:42.354Z","level":"info","message":"Mapping completed: 1 threads, 1 comments"}
{"timestamp":"2025-08-19T13:52:42.354Z","level":"info","message":"Posting 1 comment threads to PR 18670"}
{"timestamp":"2025-08-19T13:52:42.355Z","level":"debug","message":"Fetching comment threads for PR 18670"}
{"timestamp":"2025-08-19T13:52:42.356Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18670/threads"}
{"timestamp":"2025-08-19T13:52:42.788Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18670/threads"}
{"timestamp":"2025-08-19T13:52:42.788Z","level":"debug","message":"Successfully fetched 1 comment threads"}
{"timestamp":"2025-08-19T13:52:42.788Z","level":"debug","message":"Found 1 existing comment threads"}
{"timestamp":"2025-08-19T13:52:42.788Z","level":"debug","message":"Processing batch 1/1 (1 threads)"}
{"timestamp":"2025-08-19T13:52:42.788Z","level":"debug","message":"Creating new thread at app/lib/location-helper.ts:273"}
{"timestamp":"2025-08-19T13:52:42.788Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T13:52:42.789Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18670/threads"}
{"timestamp":"2025-08-19T13:52:43.034Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18670/threads"}
{"timestamp":"2025-08-19T13:52:43.034Z","level":"debug","message":"Successfully created comment thread 61407"}
{"timestamp":"2025-08-19T13:52:43.034Z","level":"info","message":"Comment posting completed: 1 threads created, 1 comments created"}
{"timestamp":"2025-08-19T13:52:43.034Z","level":"debug","message":"Completed step 7: Get approval and post comments"}
{"timestamp":"2025-08-19T13:52:43.035Z","level":"info","message":"\u001b[34m[8/8]\u001b[39m Updating PR status and cleaning up..."}
{"timestamp":"2025-08-19T13:52:43.035Z","level":"debug","message":"Starting step 8: Update PR status"}
{"timestamp":"2025-08-19T13:52:43.035Z","level":"debug","message":"Completed step 8: Update PR status"}
{"timestamp":"2025-08-19T13:52:43.035Z","level":"info","message":"\u001b[32mâœ… Review completed successfully in 162199ms\u001b[39m"}
{"timestamp":"2025-08-19T13:52:43.036Z","level":"info","message":"Cleaning up workspace: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755611400841-qhu98a"}
{"timestamp":"2025-08-19T13:52:43.677Z","level":"info","message":"Workspace cleanup completed: 3970 files, 982 directories deleted"}
{"timestamp":"2025-08-19T14:00:05.022Z","level":"info","message":"\u001b[34mðŸš€ Starting Azure DevOps PR Review...\u001b[39m"}
{"timestamp":"2025-08-19T14:00:05.023Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T14:00:05.023Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T14:00:05.024Z","level":"info","message":"\u001b[34m[1/8]\u001b[39m Initializing and validating options..."}
{"timestamp":"2025-08-19T14:00:05.024Z","level":"debug","message":"Starting step 1: Initialize"}
{"timestamp":"2025-08-19T14:00:05.025Z","level":"warn","message":"Unknown Gemini model: gemini-2.0-flash. Supported models: gemini-pro, gemini-pro-vision, gemini-1.5-pro, gemini-1.5-flash"}
{"timestamp":"2025-08-19T14:00:05.025Z","level":"info","message":"Loading configuration..."}
{"timestamp":"2025-08-19T14:00:05.026Z","level":"debug","message":"Found .adorevrc.yaml in project root, loading configuration"}
{"timestamp":"2025-08-19T14:00:05.026Z","level":"debug","message":"Project root configuration loaded successfully"}
{"timestamp":"2025-08-19T14:00:05.026Z","level":"info","message":"Using configuration from: project-root"}
{"timestamp":"2025-08-19T14:00:05.027Z","level":"debug","message":"Log level overridden by ADO_REVIEW_LOG_LEVEL: debug"}
{"timestamp":"2025-08-19T14:00:05.027Z","level":"debug","message":"Configuration loaded and merged successfully"}
{"timestamp":"2025-08-19T14:00:05.027Z","level":"debug","message":"Gemini timeout: 120000ms"}
{"timestamp":"2025-08-19T14:00:05.027Z","level":"debug","message":"Current log level: debug"}
{"timestamp":"2025-08-19T14:00:05.028Z","level":"debug","message":"Initializing GeminiAdapter with timeout: 120000ms"}
{"timestamp":"2025-08-19T14:00:05.028Z","level":"debug","message":"GeminiAdapter initialized with default timeout: 120000ms"}
{"timestamp":"2025-08-19T14:00:05.028Z","level":"debug","message":"All components initialized successfully"}
{"timestamp":"2025-08-19T14:00:05.028Z","level":"debug","message":"Completed step 1: Initialize"}
{"timestamp":"2025-08-19T14:00:05.028Z","level":"info","message":"\u001b[34m[2/8]\u001b[39m Setting up temporary workspace..."}
{"timestamp":"2025-08-19T14:00:05.028Z","level":"debug","message":"Starting step 2: Setup workspace"}
{"timestamp":"2025-08-19T14:00:05.032Z","level":"info","message":"Workspace created: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755612005029-qrvexb"}
{"timestamp":"2025-08-19T14:00:05.033Z","level":"debug","message":"Workspace config path: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755612005029-qrvexb/.adorevrc.yaml"}
{"timestamp":"2025-08-19T14:00:05.033Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T14:00:05.033Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T14:00:05.033Z","level":"debug","message":"Completed step 2: Setup workspace"}
{"timestamp":"2025-08-19T14:00:05.033Z","level":"info","message":"\u001b[34m[3/8]\u001b[39m Fetching PR information and changes..."}
{"timestamp":"2025-08-19T14:00:05.033Z","level":"debug","message":"Starting step 3: Fetch PR info and diffs"}
{"timestamp":"2025-08-19T14:00:05.033Z","level":"debug","message":"Fetching PR 18693 info"}
{"timestamp":"2025-08-19T14:00:05.034Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18693"}
{"timestamp":"2025-08-19T14:00:05.586Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18693"}
{"timestamp":"2025-08-19T14:00:05.586Z","level":"debug","message":"Successfully fetched PR 18693 info"}
{"timestamp":"2025-08-19T14:00:05.586Z","level":"debug","message":"Response status: 200"}
{"timestamp":"2025-08-19T14:00:05.586Z","level":"debug","message":"Response data keys:"}
{"timestamp":"2025-08-19T14:00:05.586Z","level":"debug","message":"PR Info structure:"}
{"timestamp":"2025-08-19T14:00:05.586Z","level":"debug","message":"Completed fetchPRInfo"}
{"timestamp":"2025-08-19T14:00:05.587Z","level":"debug","message":"fetchDiffs - prInfo structure:"}
{"timestamp":"2025-08-19T14:00:05.587Z","level":"info","message":"Cloning repository: https://inploid@dev.azure.com/inploid/AuditReactProject/_git/AuditReactProject.RN0.71.X"}
{"timestamp":"2025-08-19T14:00:05.587Z","level":"debug","message":"Clone options: {\"branch\":\"refs/heads/feature/TDM-14370\",\"workingDirectory\":\"/var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755612005029-qrvexb/source\"}"}
{"timestamp":"2025-08-19T14:00:05.587Z","level":"debug","message":"Executing: git init "}
{"timestamp":"2025-08-19T14:00:05.608Z","level":"debug","message":"Executing: git remote add origin https://inploid@dev.azure.com/inploid/AuditReactProject/_git/AuditReactProject.RN0.71.X"}
{"timestamp":"2025-08-19T14:00:05.619Z","level":"debug","message":"Executing: git fetch origin refs/heads/feature/TDM-14370"}
{"timestamp":"2025-08-19T14:03:01.391Z","level":"debug","message":"Executing: git checkout -b local-branch origin/feature/TDM-14370"}
{"timestamp":"2025-08-19T14:03:02.059Z","level":"debug","message":"Executing: git rev-parse HEAD"}
{"timestamp":"2025-08-19T14:03:02.069Z","level":"info","message":"Successfully cloned repository to /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755612005029-qrvexb/source"}
{"timestamp":"2025-08-19T14:03:02.069Z","level":"debug","message":"Commit ID: 5cc65bf572a8a232c1cbe3e976c301575735b641"}
{"timestamp":"2025-08-19T14:03:02.069Z","level":"debug","message":"Reinitializing ConfigLoader with cloned workspace directory:"}
{"timestamp":"2025-08-19T14:03:02.069Z","level":"debug","message":"Workspace config path: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755612005029-qrvexb/source/.adorevrc.yaml"}
{"timestamp":"2025-08-19T14:03:02.069Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T14:03:02.069Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T14:03:02.070Z","level":"debug","message":"Found .adorevrc.yaml in project root, loading configuration"}
{"timestamp":"2025-08-19T14:03:02.071Z","level":"debug","message":"Project root configuration loaded successfully"}
{"timestamp":"2025-08-19T14:03:02.071Z","level":"info","message":"Using configuration from: project-root"}
{"timestamp":"2025-08-19T14:03:02.071Z","level":"debug","message":"Log level overridden by ADO_REVIEW_LOG_LEVEL: debug"}
{"timestamp":"2025-08-19T14:03:02.071Z","level":"debug","message":"Configuration loaded and merged successfully"}
{"timestamp":"2025-08-19T14:03:02.071Z","level":"debug","message":"Gemini timeout: 120000ms"}
{"timestamp":"2025-08-19T14:03:02.071Z","level":"debug","message":"Current log level: debug"}
{"timestamp":"2025-08-19T14:03:02.071Z","level":"debug","message":"Reloaded configuration from workspace:"}
{"timestamp":"2025-08-19T14:03:02.071Z","level":"info","message":"Fetching iteration changes for PR 18693"}
{"timestamp":"2025-08-19T14:03:02.071Z","level":"debug","message":"Fetching PR 18693 iterations"}
{"timestamp":"2025-08-19T14:03:02.072Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18693/iterations"}
{"timestamp":"2025-08-19T14:03:02.075Z","level":"warn","message":"HTTP EPIPE error from /git/repositories/AuditReactProject.RN0.71.X/pullrequests/18693/iterations: write EPIPE. Retrying in 1000ms (attempt 1/3)"}
{"timestamp":"2025-08-19T14:03:03.077Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18693/iterations"}
{"timestamp":"2025-08-19T14:03:03.519Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18693/iterations"}
{"timestamp":"2025-08-19T14:03:03.520Z","level":"debug","message":"Successfully fetched 2 iterations"}
{"timestamp":"2025-08-19T14:03:03.520Z","level":"debug","message":"Fetching changes for iteration 2"}
{"timestamp":"2025-08-19T14:03:03.521Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18693/iterations/2/changes"}
{"timestamp":"2025-08-19T14:03:03.743Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18693/iterations/2/changes"}
{"timestamp":"2025-08-19T14:03:03.743Z","level":"debug","message":"Successfully fetched 7 changes"}
{"timestamp":"2025-08-19T14:03:03.743Z","level":"debug","message":"Processing iteration changes with 7 file changes"}
{"timestamp":"2025-08-19T14:03:03.744Z","level":"debug","message":"Processing iteration change for file: /__mocks__/@react-native-community/geolocation.js"}
{"timestamp":"2025-08-19T14:03:03.744Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 5cc65bf572a8a232c1cbe3e976c301575735b641"}
{"timestamp":"2025-08-19T14:03:03.744Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 5cc65bf572a8a232c1cbe3e976c301575735b641 -- __mocks__/@react-native-community/geolocation.js"}
{"timestamp":"2025-08-19T14:03:03.757Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T14:03:03.758Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/location-helper.test.ts"}
{"timestamp":"2025-08-19T14:03:03.758Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 5cc65bf572a8a232c1cbe3e976c301575735b641"}
{"timestamp":"2025-08-19T14:03:03.758Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 5cc65bf572a8a232c1cbe3e976c301575735b641 -- __tests__/app/lib/location-helper.test.ts"}
{"timestamp":"2025-08-19T14:03:03.769Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T14:03:03.769Z","level":"debug","message":"Processing iteration change for file: /app/lib/orientation.ts"}
{"timestamp":"2025-08-19T14:03:03.770Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 5cc65bf572a8a232c1cbe3e976c301575735b641"}
{"timestamp":"2025-08-19T14:03:03.770Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 5cc65bf572a8a232c1cbe3e976c301575735b641 -- app/lib/orientation.ts"}
{"timestamp":"2025-08-19T14:03:03.781Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T14:03:03.781Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/print-provider.test.ts"}
{"timestamp":"2025-08-19T14:03:03.781Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 5cc65bf572a8a232c1cbe3e976c301575735b641"}
{"timestamp":"2025-08-19T14:03:03.781Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 5cc65bf572a8a232c1cbe3e976c301575735b641 -- __tests__/app/lib/print-provider.test.ts"}
{"timestamp":"2025-08-19T14:03:03.791Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T14:03:03.791Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/orientation.test.ts"}
{"timestamp":"2025-08-19T14:03:03.791Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 5cc65bf572a8a232c1cbe3e976c301575735b641"}
{"timestamp":"2025-08-19T14:03:03.791Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 5cc65bf572a8a232c1cbe3e976c301575735b641 -- __tests__/app/lib/orientation.test.ts"}
{"timestamp":"2025-08-19T14:03:03.801Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T14:03:03.801Z","level":"debug","message":"Processing iteration change for file: /app/lib/location-helper.ts"}
{"timestamp":"2025-08-19T14:03:03.801Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 5cc65bf572a8a232c1cbe3e976c301575735b641"}
{"timestamp":"2025-08-19T14:03:03.801Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 5cc65bf572a8a232c1cbe3e976c301575735b641 -- app/lib/location-helper.ts"}
{"timestamp":"2025-08-19T14:03:03.812Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T14:03:03.812Z","level":"debug","message":"Processing iteration change for file: /app/lib/print-provider.ts"}
{"timestamp":"2025-08-19T14:03:03.812Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 5cc65bf572a8a232c1cbe3e976c301575735b641"}
{"timestamp":"2025-08-19T14:03:03.812Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 5cc65bf572a8a232c1cbe3e976c301575735b641 -- app/lib/print-provider.ts"}
{"timestamp":"2025-08-19T14:03:03.822Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T14:03:03.822Z","level":"info","message":"Successfully fetched diff: 7 files, +887/-65 lines"}
{"timestamp":"2025-08-19T14:03:03.823Z","level":"debug","message":"Diff data saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755612005029-qrvexb/logs/diffs/diff-pr-pr-18693-2025-08-19T14-03-03-823Z.txt"}
{"timestamp":"2025-08-19T14:03:03.824Z","level":"debug","message":"Completed step 3: Fetch PR info and diffs"}
{"timestamp":"2025-08-19T14:03:03.824Z","level":"info","message":"\u001b[34m[4/8]\u001b[39m Loading rules and building review context..."}
{"timestamp":"2025-08-19T14:03:03.824Z","level":"debug","message":"Starting step 4: Load rules and build context"}
{"timestamp":"2025-08-19T14:03:03.824Z","level":"info","message":"Loading review rules and guidelines"}
{"timestamp":"2025-08-19T14:03:03.824Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T14:03:03.824Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T14:03:03.826Z","level":"warn","message":"No rules found in /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T14:03:03.826Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T14:03:03.827Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T14:03:03.828Z","level":"debug","message":"Loaded 28 rules from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T14:03:03.828Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T14:03:03.829Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T14:03:03.829Z","level":"debug","message":"Loaded guideline \"Azure DevOps Review Rules\" from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T14:03:03.829Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T14:03:03.830Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T14:03:03.830Z","level":"debug","message":"Loaded guideline \"React Native Field App - Architecture Guide\" from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T14:03:03.830Z","level":"info","message":"Loaded 1 rule sets, 28 total rules (28 enabled), 2 guidelines"}
{"timestamp":"2025-08-19T14:03:03.830Z","level":"debug","message":"Completed loadRules"}
{"timestamp":"2025-08-19T14:03:03.830Z","level":"info","message":"Building review context"}
{"timestamp":"2025-08-19T14:03:03.831Z","level":"info","message":"Context built: 7 files, 15 hunks, 28 rules, 2 guidelines"}
{"timestamp":"2025-08-19T14:03:03.831Z","level":"debug","message":"Completed step 4: Load rules and build context"}
{"timestamp":"2025-08-19T14:03:03.831Z","level":"info","message":"\u001b[34m[5/8]\u001b[39m Planning and executing AI review..."}
{"timestamp":"2025-08-19T14:03:03.831Z","level":"debug","message":"Starting step 5: Plan and execute review"}
{"timestamp":"2025-08-19T14:03:03.831Z","level":"info","message":"Creating review plan"}
{"timestamp":"2025-08-19T14:03:03.831Z","level":"debug","message":"Completed planReview"}
{"timestamp":"2025-08-19T14:03:03.831Z","level":"debug","message":"Executing Gemini review with plan"}
{"timestamp":"2025-08-19T14:03:03.831Z","level":"info","message":"Executing single batch review"}
{"timestamp":"2025-08-19T14:03:03.831Z","level":"info","message":"Starting Gemini review with model: gemini-2.0-flash"}
{"timestamp":"2025-08-19T14:03:03.832Z","level":"debug","message":"Prompt data saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755612005029-qrvexb/logs/prompts/prompt-pr-review-2025-08-19T14-03-03-831Z.txt"}
{"timestamp":"2025-08-19T14:03:03.833Z","level":"debug","message":"Spawning Gemini CLI with stdin approach"}
{"timestamp":"2025-08-19T14:03:04.697Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T14:03:04.782Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T14:03:04.809Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T14:03:35.013Z","level":"debug","message":"Gemini CLI stdout: ```json\n{\n  \"findings\": [\n    {\n      \"file\": \"app/lib/location-helper.ts\",\n      \"line\": 272,\n      \"endLine\": 284,\n      \"severity\": \"warning\",\n      \"message\": \"Yan"}
{"timestamp":"2025-08-19T14:03:35.047Z","level":"debug","message":"Gemini CLI stdout: lÄ±ÅŸ yerleÅŸtirilmiÅŸ JSDoc yorumu. Bu yorum `calculateLatitudeLongitudeAverageAndDelta` fonksiyonunu aÃ§Ä±klamasÄ±na raÄŸmen `addDistanceToEachDestination` fonksiyonunun Ã¼zerine yerleÅŸtirilmiÅŸ.\",\n      \"suggestion\": \"Bu JSDoc bloÄŸunu, tanÄ±mladÄ±ÄŸÄ± `calculateLatitudeLongitudeAverageAndDelta` fonksiyon"}
{"timestamp":"2025-08-19T14:03:35.536Z","level":"debug","message":"Gemini CLI stdout: unun hemen Ã¼zerine taÅŸÄ±yÄ±n. Bu, dokÃ¼mantasyonun aÃ§Ä±kladÄ±ÄŸÄ± kodla tutarlÄ± olmasÄ±nÄ± saÄŸlar.\",\n      \"ruleId\": \"component-structure\",\n      \"category\": \"code-quality\"\n    },\n    {\n      \"file\": \"/__tests__/app/lib/location"}
{"timestamp":"2025-08-19T14:03:36.117Z","level":"debug","message":"Gemini CLI stdout: -helper.test.ts\",\n      \"line\": 1,\n      \"endLine\": 591,\n      \"severity\": \"info\",\n      \"message\": \"Test kapsamÄ± bÃ¼yÃ¼k Ã¶lÃ§Ã¼de artÄ±rÄ±lmÄ±ÅŸ ve `location-helper` iÃ§erisindeki fonksiyonlar iÃ§in detaylÄ± test sen"}
{"timestamp":"2025-08-19T14:03:36.726Z","level":"debug","message":"Gemini CLI stdout: aryolarÄ± eklenmiÅŸ. Bu, kod kalitesini ve gÃ¼venilirliÄŸini artÄ±ran Ã§ok olumlu bir deÄŸiÅŸikliktir.\",\n      \"suggestion\": \"Mevcut testler, konum servislerinin farklÄ± durumlarÄ±nÄ± (izin reddi, servis kapalÄ±lÄ±ÄŸÄ± vb.) ve platforma Ã¶zgÃ¼ (iOS/Android)"}
{"timestamp":"2025-08-19T14:03:37.214Z","level":"debug","message":"Gemini CLI stdout: davranÄ±ÅŸlarÄ± kapsamlÄ± bir ÅŸekilde ele alÄ±yor. Bu baÅŸarÄ±lÄ± test yapÄ±sÄ±nÄ± projenin diÄŸer modÃ¼llerinde de uygulamaya devam edin.\",\n      \"ruleId\": \"unit-test-coverage\",\n      \"category\": \"testing\"\n    },\n    {\n      \"file\": \"app/lib/orientation."}
{"timestamp":"2025-08-19T14:03:37.815Z","level":"debug","message":"Gemini CLI stdout: ts\",\n      \"line\": 7,\n      \"endLine\": 22,\n      \"severity\": \"info\",\n      \"message\": \"Hook'lar iÃ§in eklenen JSDoc aÃ§Ä±klamalarÄ±, kodun anlaÅŸÄ±labilirliÄŸini ve bakÄ±mÄ±nÄ± kolaylaÅŸtÄ±rÄ±yor.\",\n      \"suggestion\": \"Fon"}
{"timestamp":"2025-08-19T14:03:38.332Z","level":"debug","message":"Gemini CLI stdout: ksiyonlarÄ±n ve hook'larÄ±n ne iÅŸe yaradÄ±ÄŸÄ±nÄ±, hangi parametreleri aldÄ±ÄŸÄ±nÄ± ve ne dÃ¶ndÃ¼rdÃ¼ÄŸÃ¼nÃ¼ aÃ§Ä±klayan bu tÃ¼r dokÃ¼mantasyonlarÄ± projenin genelinde standart hale getirmek faydalÄ± olacaktÄ±r.\",\n      \"ruleId\": \"component-structure\",\n      \"category"}
{"timestamp":"2025-08-19T14:03:38.803Z","level":"debug","message":"Gemini CLI stdout: \": \"code-quality\"\n    }\n  ],\n  \"summary\": \"Genel olarak, yapÄ±lan deÄŸiÅŸiklikler kod kalitesini Ã¶nemli Ã¶lÃ§Ã¼de artÄ±rmaktadÄ±r. Ã–zellikle `location-helper` iÃ§in eklenen kapsamlÄ± testler takdire ÅŸayan. Kod dokÃ¼mantasyonu (JSDoc)"}
{"timestamp":"2025-08-19T14:03:39.406Z","level":"debug","message":"Gemini CLI stdout: eklenmesi de olumlu bir geliÅŸme. GÃ¶zden geÃ§irme sÄ±rasÄ±nda yalnÄ±zca bir adet kÃ¼Ã§Ã¼k, dokÃ¼mantasyonla ilgili bir sorun tespit edildi. Bu dÃ¼zeltme ile birlikte deÄŸiÅŸiklikler onaylanabilir.\"\n}\n```"}
{"timestamp":"2025-08-19T14:03:39.412Z","level":"debug","message":"Gemini CLI stdout: "}
{"timestamp":"2025-08-19T14:03:39.421Z","level":"debug","message":"Gemini CLI exited with code: 0"}
{"timestamp":"2025-08-19T14:03:39.421Z","level":"debug","message":"Gemini CLI final stdout: [dotenv@16.6.0] injecting env (9) from .env\n[dotenv@16.6.0] injecting env (9) from .env\n[dotenv@16.6.0] injecting env (9) from .env\n```json\n{\n  \"findings\": [\n    {\n      \"file\": \"app/lib/location-helper.ts\",\n      \"line\": 272,\n      \"endLine\": 284,\n      \"severity\": \"warning\",\n      \"message\": \"YanlÄ±ÅŸ yerleÅŸtirilmiÅŸ JSDoc yorumu. Bu yorum `calculateLatitudeLongitudeAverageAndDelta` fonksiyonunu aÃ§Ä±klamasÄ±na raÄŸmen `addDistanceToEachDestination` fonksiyonunun Ã¼zerine yerleÅŸtirilmiÅŸ.\",\n      \"suggestion\": \"Bu JSDoc bloÄŸunu, tanÄ±mladÄ±ÄŸÄ± `calculateLatitudeLongitudeAverageAndDelta` fonksiyonunun hemen Ã¼zerine taÅŸÄ±yÄ±n. Bu, dokÃ¼mantasyonun aÃ§Ä±kladÄ±ÄŸÄ± kodla tutarlÄ± olmasÄ±nÄ± saÄŸlar.\",\n      \"ruleId\": \"component-structure\",\n      \"category\": \"code-quality\"\n    },\n    {\n      \"file\": \"/__tests__/app/lib/location-helper.test.ts\",\n      \"line\": 1,\n      \"endLine\": 591,\n      \"severity\": \"info\",\n      \"message\": \"Test kapsamÄ± bÃ¼yÃ¼k Ã¶lÃ§Ã¼de artÄ±rÄ±lmÄ±ÅŸ ve `location-helper` iÃ§erisindeki fonksiyonlar iÃ§in detaylÄ± test senaryolarÄ± eklenmiÅŸ. Bu, kod kalitesini ve gÃ¼venilirliÄŸini artÄ±ran Ã§ok olumlu bir deÄŸiÅŸikliktir.\",\n      \"suggestion\": \"Mevcut testler, konum servislerinin farklÄ± durumlarÄ±nÄ± (izin reddi, servis kapalÄ±lÄ±ÄŸÄ± vb.) ve platforma Ã¶zgÃ¼ (iOS/Android) davranÄ±ÅŸlarÄ± kapsamlÄ± bir ÅŸekilde ele alÄ±yor. Bu baÅŸarÄ±lÄ± test yapÄ±sÄ±nÄ± projenin diÄŸer modÃ¼llerinde de uygulamaya devam edin.\",\n      \"ruleId\": \"unit-test-coverage\",\n      \"category\": \"testing\"\n    },\n    {\n      \"file\": \"app/lib/orientation.ts\",\n      \"line\": 7,\n      \"endLine\": 22,\n      \"severity\": \"info\",\n      \"message\": \"Hook'lar iÃ§in eklenen JSDoc aÃ§Ä±klamalarÄ±, kodun anlaÅŸÄ±labilirliÄŸini ve bakÄ±mÄ±nÄ± kolaylaÅŸtÄ±rÄ±yor.\",\n      \"suggestion\": \"FonksiyonlarÄ±n ve hook'larÄ±n ne iÅŸe yaradÄ±ÄŸÄ±nÄ±, hangi parametreleri aldÄ±ÄŸÄ±nÄ± ve ne dÃ¶ndÃ¼rdÃ¼ÄŸÃ¼nÃ¼ aÃ§Ä±klayan bu tÃ¼r dokÃ¼mantasyonlarÄ± projenin genelinde standart hale getirmek faydalÄ± olacaktÄ±r.\",\n      \"ruleId\": \"component-structure\",\n      \"category\": \"code-quality\"\n    }\n  ],\n  \"summary\": \"Genel olarak, yapÄ±lan deÄŸiÅŸiklikler kod kalitesini Ã¶nemli Ã¶lÃ§Ã¼de artÄ±rmaktadÄ±r. Ã–zellikle `location-helper` iÃ§in eklenen kapsamlÄ± testler takdire ÅŸayan. Kod dokÃ¼mantasyonu (JSDoc) eklenmesi de olumlu bir geliÅŸme. GÃ¶zden geÃ§irme sÄ±rasÄ±nda yalnÄ±zca bir adet kÃ¼Ã§Ã¼k, dokÃ¼mantasyonla ilgili bir sorun tespit edildi. Bu dÃ¼zeltme ile birlikte deÄŸiÅŸiklikler onaylanabilir.\"\n}\n```"}
{"timestamp":"2025-08-19T14:03:39.421Z","level":"debug","message":"Gemini CLI final stderr: "}
{"timestamp":"2025-08-19T14:03:39.422Z","level":"debug","message":"Gemini response saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755612005029-qrvexb/logs/responses/gemini-response-pr-req-1755612183831-zl9ack3ot-2025-08-19T14-03-39-422Z.json"}
{"timestamp":"2025-08-19T14:03:39.423Z","level":"info","message":"Review completed: 3 findings"}
{"timestamp":"2025-08-19T14:03:39.423Z","level":"debug","message":"Completed step 5: Plan and execute review"}
{"timestamp":"2025-08-19T14:03:39.423Z","level":"info","message":"\u001b[34m[6/8]\u001b[39m Processing and filtering findings..."}
{"timestamp":"2025-08-19T14:03:39.423Z","level":"debug","message":"Starting step 6: Process findings"}
{"timestamp":"2025-08-19T14:03:39.423Z","level":"info","message":"Found 3 total findings, 3 above threshold"}
{"timestamp":"2025-08-19T14:03:39.423Z","level":"debug","message":"Completed step 6: Process findings"}
{"timestamp":"2025-08-19T14:03:39.423Z","level":"info","message":"\u001b[34m[7/8]\u001b[39m Getting approval and posting comments..."}
{"timestamp":"2025-08-19T14:03:39.423Z","level":"debug","message":"Starting step 7: Get approval and post comments"}
{"timestamp":"2025-08-19T14:03:39.424Z","level":"info","message":"File                                       | Line | Severity | Message                                                                                                                                                                                                 | Rule               "}
{"timestamp":"2025-08-19T14:03:39.424Z","level":"info","message":"-------------------------------------------+------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------"}
{"timestamp":"2025-08-19T14:03:39.424Z","level":"info","message":"app/lib/location-helper.ts                 | 272  | WARNING  | YanlÄ±ÅŸ yerleÅŸtirilmiÅŸ JSDoc yorumu. Bu yorum `calculateLatitudeLongitudeAverageAndDelta` fonksiyonunu aÃ§Ä±klamasÄ±na raÄŸmen `addDistanceToEachDestination` fonksiyonunun Ã¼zerine yerleÅŸtirilmiÅŸ.          | component-structure"}
{"timestamp":"2025-08-19T14:03:39.424Z","level":"info","message":"/__tests__/app/lib/location-helper.test.ts | 1    | INFO     | Test kapsamÄ± bÃ¼yÃ¼k Ã¶lÃ§Ã¼de artÄ±rÄ±lmÄ±ÅŸ ve `location-helper` iÃ§erisindeki fonksiyonlar iÃ§in detaylÄ± test senaryolarÄ± eklenmiÅŸ. Bu, kod kalitesini ve gÃ¼venilirliÄŸini artÄ±ran Ã§ok olumlu bir deÄŸiÅŸikliktir. | unit-test-coverage "}
{"timestamp":"2025-08-19T14:03:39.424Z","level":"info","message":"app/lib/orientation.ts                     | 7    | INFO     | Hook'lar iÃ§in eklenen JSDoc aÃ§Ä±klamalarÄ±, kodun anlaÅŸÄ±labilirliÄŸini ve bakÄ±mÄ±nÄ± kolaylaÅŸtÄ±rÄ±yor.                                                                                                        | component-structure"}
{"timestamp":"2025-08-19T14:38:16.414Z","level":"debug","message":"Completed getApproval"}
{"timestamp":"2025-08-19T14:38:16.416Z","level":"info","message":"Mapping 3 findings to ADO comment threads"}
{"timestamp":"2025-08-19T14:38:16.439Z","level":"info","message":"Mapping completed: 3 threads, 3 comments"}
{"timestamp":"2025-08-19T14:38:16.440Z","level":"info","message":"Posting 3 comment threads to PR 18693"}
{"timestamp":"2025-08-19T14:38:16.440Z","level":"debug","message":"Fetching comment threads for PR 18693"}
{"timestamp":"2025-08-19T14:38:16.441Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18693/threads"}
{"timestamp":"2025-08-19T14:38:16.894Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18693/threads"}
{"timestamp":"2025-08-19T14:38:16.895Z","level":"debug","message":"Successfully fetched 1 comment threads"}
{"timestamp":"2025-08-19T14:38:16.895Z","level":"debug","message":"Found 1 existing comment threads"}
{"timestamp":"2025-08-19T14:38:16.895Z","level":"debug","message":"Processing batch 1/1 (3 threads)"}
{"timestamp":"2025-08-19T14:38:16.895Z","level":"debug","message":"Creating new thread at app/lib/location-helper.ts:272"}
{"timestamp":"2025-08-19T14:38:16.896Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T14:38:16.896Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18693/threads"}
{"timestamp":"2025-08-19T14:38:17.128Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18693/threads"}
{"timestamp":"2025-08-19T14:38:17.129Z","level":"debug","message":"Successfully created comment thread 61408"}
{"timestamp":"2025-08-19T14:38:17.129Z","level":"debug","message":"Creating new thread at /__tests__/app/lib/location-helper.test.ts:1"}
{"timestamp":"2025-08-19T14:38:17.129Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T14:38:17.129Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18693/threads"}
{"timestamp":"2025-08-19T14:38:17.414Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18693/threads"}
{"timestamp":"2025-08-19T14:38:17.414Z","level":"debug","message":"Successfully created comment thread 61409"}
{"timestamp":"2025-08-19T14:38:17.414Z","level":"debug","message":"Creating new thread at app/lib/orientation.ts:7"}
{"timestamp":"2025-08-19T14:38:17.414Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T14:38:17.415Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18693/threads"}
{"timestamp":"2025-08-19T14:38:17.696Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18693/threads"}
{"timestamp":"2025-08-19T14:38:17.696Z","level":"debug","message":"Successfully created comment thread 61410"}
{"timestamp":"2025-08-19T14:38:17.696Z","level":"info","message":"Comment posting completed: 3 threads created, 3 comments created"}
{"timestamp":"2025-08-19T14:38:17.696Z","level":"debug","message":"Completed step 7: Get approval and post comments"}
{"timestamp":"2025-08-19T14:38:17.696Z","level":"info","message":"\u001b[34m[8/8]\u001b[39m Updating PR status and cleaning up..."}
{"timestamp":"2025-08-19T14:38:17.696Z","level":"debug","message":"Starting step 8: Update PR status"}
{"timestamp":"2025-08-19T14:38:17.696Z","level":"debug","message":"Completed step 8: Update PR status"}
{"timestamp":"2025-08-19T14:38:17.696Z","level":"info","message":"\u001b[32mâœ… Review completed successfully in 2292672ms\u001b[39m"}
{"timestamp":"2025-08-19T14:38:17.696Z","level":"info","message":"Cleaning up workspace: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755612005029-qrvexb"}
{"timestamp":"2025-08-19T14:38:18.542Z","level":"info","message":"Workspace cleanup completed: 3971 files, 982 directories deleted"}
{"timestamp":"2025-08-19T14:39:58.224Z","level":"info","message":"\u001b[34mðŸš€ Starting Azure DevOps PR Review...\u001b[39m"}
{"timestamp":"2025-08-19T14:39:58.224Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T14:39:58.224Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T14:39:58.225Z","level":"info","message":"\u001b[34m[1/8]\u001b[39m Initializing and validating options..."}
{"timestamp":"2025-08-19T14:39:58.225Z","level":"debug","message":"Starting step 1: Initialize"}
{"timestamp":"2025-08-19T14:39:58.225Z","level":"warn","message":"Unknown Gemini model: gemini-2.0-flash. Supported models: gemini-pro, gemini-pro-vision, gemini-1.5-pro, gemini-1.5-flash"}
{"timestamp":"2025-08-19T14:39:58.225Z","level":"info","message":"Loading configuration..."}
{"timestamp":"2025-08-19T14:39:58.227Z","level":"debug","message":"Found .adorevrc.yaml in project root, loading configuration"}
{"timestamp":"2025-08-19T14:39:58.227Z","level":"debug","message":"Project root configuration loaded successfully"}
{"timestamp":"2025-08-19T14:39:58.227Z","level":"info","message":"Using configuration from: project-root"}
{"timestamp":"2025-08-19T14:39:58.227Z","level":"debug","message":"Log level overridden by ADO_REVIEW_LOG_LEVEL: debug"}
{"timestamp":"2025-08-19T14:39:58.227Z","level":"debug","message":"Configuration loaded and merged successfully"}
{"timestamp":"2025-08-19T14:39:58.227Z","level":"debug","message":"Gemini timeout: 120000ms"}
{"timestamp":"2025-08-19T14:39:58.227Z","level":"debug","message":"Current log level: debug"}
{"timestamp":"2025-08-19T14:39:58.228Z","level":"debug","message":"Initializing GeminiAdapter with timeout: 120000ms"}
{"timestamp":"2025-08-19T14:39:58.228Z","level":"debug","message":"GeminiAdapter initialized with default timeout: 120000ms"}
{"timestamp":"2025-08-19T14:39:58.229Z","level":"debug","message":"All components initialized successfully"}
{"timestamp":"2025-08-19T14:39:58.229Z","level":"debug","message":"Completed step 1: Initialize"}
{"timestamp":"2025-08-19T14:39:58.229Z","level":"info","message":"\u001b[34m[2/8]\u001b[39m Setting up temporary workspace..."}
{"timestamp":"2025-08-19T14:39:58.229Z","level":"debug","message":"Starting step 2: Setup workspace"}
{"timestamp":"2025-08-19T14:39:58.236Z","level":"info","message":"Workspace created: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755614398229-ye3hif"}
{"timestamp":"2025-08-19T14:39:58.236Z","level":"debug","message":"Workspace config path: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755614398229-ye3hif/.adorevrc.yaml"}
{"timestamp":"2025-08-19T14:39:58.236Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T14:39:58.236Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T14:39:58.236Z","level":"debug","message":"Completed step 2: Setup workspace"}
{"timestamp":"2025-08-19T14:39:58.236Z","level":"info","message":"\u001b[34m[3/8]\u001b[39m Fetching PR information and changes..."}
{"timestamp":"2025-08-19T14:39:58.236Z","level":"debug","message":"Starting step 3: Fetch PR info and diffs"}
{"timestamp":"2025-08-19T14:39:58.236Z","level":"debug","message":"Fetching PR 18705 info"}
{"timestamp":"2025-08-19T14:39:58.237Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18705"}
{"timestamp":"2025-08-19T14:39:58.648Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18705"}
{"timestamp":"2025-08-19T14:39:58.648Z","level":"debug","message":"Successfully fetched PR 18705 info"}
{"timestamp":"2025-08-19T14:39:58.648Z","level":"debug","message":"Response status: 200"}
{"timestamp":"2025-08-19T14:39:58.648Z","level":"debug","message":"Response data keys:"}
{"timestamp":"2025-08-19T14:39:58.648Z","level":"debug","message":"PR Info structure:"}
{"timestamp":"2025-08-19T14:39:58.648Z","level":"debug","message":"Completed fetchPRInfo"}
{"timestamp":"2025-08-19T14:39:58.648Z","level":"debug","message":"fetchDiffs - prInfo structure:"}
{"timestamp":"2025-08-19T14:39:58.649Z","level":"info","message":"Cloning repository: https://inploid@dev.azure.com/inploid/AuditReactProject/_git/AuditReactProject.RN0.71.X"}
{"timestamp":"2025-08-19T14:39:58.649Z","level":"debug","message":"Clone options: {\"branch\":\"refs/heads/feature/TDM-14371\",\"workingDirectory\":\"/var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755614398229-ye3hif/source\"}"}
{"timestamp":"2025-08-19T14:39:58.649Z","level":"debug","message":"Executing: git init "}
{"timestamp":"2025-08-19T14:39:58.679Z","level":"debug","message":"Executing: git remote add origin https://inploid@dev.azure.com/inploid/AuditReactProject/_git/AuditReactProject.RN0.71.X"}
{"timestamp":"2025-08-19T14:39:58.690Z","level":"debug","message":"Executing: git fetch origin refs/heads/feature/TDM-14371"}
{"timestamp":"2025-08-19T14:40:03.765Z","level":"error","message":"Git command failed: git fetch origin refs/heads/feature/TDM-14371"}
{"timestamp":"2025-08-19T14:40:03.765Z","level":"error","message":"Error: Command failed: git fetch origin refs/heads/feature/TDM-14371"}
{"timestamp":"2025-08-19T14:40:03.766Z","level":"error","message":"Error occurred during review process:"}
{"timestamp":"2025-08-19T14:40:03.766Z","level":"info","message":"Cleaning up workspace: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755614398229-ye3hif"}
{"timestamp":"2025-08-19T14:40:03.768Z","level":"info","message":"Cleaning up workspace: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755614398229-ye3hif"}
{"timestamp":"2025-08-19T14:40:03.768Z","level":"info","message":"Cleaning up workspace: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755614398229-ye3hif"}
{"timestamp":"2025-08-19T14:40:03.788Z","level":"warn","message":"Workspace cleanup completed with 6 errors"}
{"timestamp":"2025-08-19T15:09:53.246Z","level":"info","message":"\u001b[34mðŸš€ Starting Azure DevOps PR Review...\u001b[39m"}
{"timestamp":"2025-08-19T15:09:53.246Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T15:09:53.247Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T15:09:53.247Z","level":"info","message":"\u001b[34m[1/8]\u001b[39m Initializing and validating options..."}
{"timestamp":"2025-08-19T15:09:53.247Z","level":"debug","message":"Starting step 1: Initialize"}
{"timestamp":"2025-08-19T15:09:53.249Z","level":"info","message":"Loading configuration..."}
{"timestamp":"2025-08-19T15:09:53.249Z","level":"debug","message":"Found .adorevrc.yaml in project root, loading configuration"}
{"timestamp":"2025-08-19T15:09:53.250Z","level":"debug","message":"Project root configuration loaded successfully"}
{"timestamp":"2025-08-19T15:09:53.250Z","level":"info","message":"Using configuration from: project-root"}
{"timestamp":"2025-08-19T15:09:53.250Z","level":"debug","message":"Log level overridden by ADO_REVIEW_LOG_LEVEL: debug"}
{"timestamp":"2025-08-19T15:09:53.250Z","level":"debug","message":"Configuration loaded and merged successfully"}
{"timestamp":"2025-08-19T15:09:53.250Z","level":"debug","message":"Gemini timeout: 120000ms"}
{"timestamp":"2025-08-19T15:09:53.250Z","level":"debug","message":"Current log level: debug"}
{"timestamp":"2025-08-19T15:09:53.251Z","level":"debug","message":"Initializing GeminiAdapter with timeout: 120000ms"}
{"timestamp":"2025-08-19T15:09:53.251Z","level":"debug","message":"GeminiAdapter initialized with default timeout: 120000ms"}
{"timestamp":"2025-08-19T15:09:53.252Z","level":"debug","message":"All components initialized successfully"}
{"timestamp":"2025-08-19T15:09:53.253Z","level":"debug","message":"Completed step 1: Initialize"}
{"timestamp":"2025-08-19T15:09:53.253Z","level":"info","message":"\u001b[34m[2/8]\u001b[39m Setting up temporary workspace..."}
{"timestamp":"2025-08-19T15:09:53.253Z","level":"debug","message":"Starting step 2: Setup workspace"}
{"timestamp":"2025-08-19T15:09:53.261Z","level":"info","message":"Workspace created: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755616193253-0i3kgk"}
{"timestamp":"2025-08-19T15:09:53.261Z","level":"debug","message":"Workspace config path: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755616193253-0i3kgk/.adorevrc.yaml"}
{"timestamp":"2025-08-19T15:09:53.261Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T15:09:53.261Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T15:09:53.261Z","level":"debug","message":"Completed step 2: Setup workspace"}
{"timestamp":"2025-08-19T15:09:53.261Z","level":"info","message":"\u001b[34m[3/8]\u001b[39m Fetching PR information and changes..."}
{"timestamp":"2025-08-19T15:09:53.261Z","level":"debug","message":"Starting step 3: Fetch PR info and diffs"}
{"timestamp":"2025-08-19T15:09:53.261Z","level":"debug","message":"Fetching PR 18670 info"}
{"timestamp":"2025-08-19T15:09:53.262Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18670"}
{"timestamp":"2025-08-19T15:09:53.913Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18670"}
{"timestamp":"2025-08-19T15:09:53.913Z","level":"debug","message":"Successfully fetched PR 18670 info"}
{"timestamp":"2025-08-19T15:09:53.913Z","level":"debug","message":"Response status: 200"}
{"timestamp":"2025-08-19T15:09:53.913Z","level":"debug","message":"Response data keys:"}
{"timestamp":"2025-08-19T15:09:53.914Z","level":"debug","message":"PR Info structure:"}
{"timestamp":"2025-08-19T15:09:53.914Z","level":"debug","message":"Completed fetchPRInfo"}
{"timestamp":"2025-08-19T15:09:53.914Z","level":"debug","message":"fetchDiffs - prInfo structure:"}
{"timestamp":"2025-08-19T15:09:53.915Z","level":"info","message":"Cloning repository: https://inploid@dev.azure.com/inploid/AuditReactProject/_git/AuditReactProject.RN0.71.X"}
{"timestamp":"2025-08-19T15:09:53.915Z","level":"debug","message":"Clone options: {\"branch\":\"refs/heads/feature/TDM-14369\",\"workingDirectory\":\"/var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755616193253-0i3kgk/source\"}"}
{"timestamp":"2025-08-19T15:09:53.915Z","level":"debug","message":"Executing: git init "}
{"timestamp":"2025-08-19T15:09:53.952Z","level":"debug","message":"Executing: git remote add origin https://inploid@dev.azure.com/inploid/AuditReactProject/_git/AuditReactProject.RN0.71.X"}
{"timestamp":"2025-08-19T15:09:53.968Z","level":"debug","message":"Executing: git fetch origin refs/heads/feature/TDM-14369"}
{"timestamp":"2025-08-19T15:12:45.754Z","level":"debug","message":"Executing: git checkout -b local-branch origin/feature/TDM-14369"}
{"timestamp":"2025-08-19T15:12:46.362Z","level":"debug","message":"Executing: git rev-parse HEAD"}
{"timestamp":"2025-08-19T15:12:46.372Z","level":"info","message":"Successfully cloned repository to /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755616193253-0i3kgk/source"}
{"timestamp":"2025-08-19T15:12:46.372Z","level":"debug","message":"Commit ID: c70bd7cc2b6f76b1771309f08669e7ab59ce20d0"}
{"timestamp":"2025-08-19T15:12:46.372Z","level":"debug","message":"Reinitializing ConfigLoader with cloned workspace directory:"}
{"timestamp":"2025-08-19T15:12:46.372Z","level":"debug","message":"Workspace config path: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755616193253-0i3kgk/source/.adorevrc.yaml"}
{"timestamp":"2025-08-19T15:12:46.372Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T15:12:46.372Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T15:12:46.375Z","level":"debug","message":"Found .adorevrc.yaml in project root, loading configuration"}
{"timestamp":"2025-08-19T15:12:46.375Z","level":"debug","message":"Project root configuration loaded successfully"}
{"timestamp":"2025-08-19T15:12:46.375Z","level":"info","message":"Using configuration from: project-root"}
{"timestamp":"2025-08-19T15:12:46.375Z","level":"debug","message":"Log level overridden by ADO_REVIEW_LOG_LEVEL: debug"}
{"timestamp":"2025-08-19T15:12:46.375Z","level":"debug","message":"Configuration loaded and merged successfully"}
{"timestamp":"2025-08-19T15:12:46.375Z","level":"debug","message":"Gemini timeout: 120000ms"}
{"timestamp":"2025-08-19T15:12:46.375Z","level":"debug","message":"Current log level: debug"}
{"timestamp":"2025-08-19T15:12:46.375Z","level":"debug","message":"Reloaded configuration from workspace:"}
{"timestamp":"2025-08-19T15:12:46.376Z","level":"info","message":"Fetching iteration changes for PR 18670"}
{"timestamp":"2025-08-19T15:12:46.376Z","level":"debug","message":"Fetching PR 18670 iterations"}
{"timestamp":"2025-08-19T15:12:46.376Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18670/iterations"}
{"timestamp":"2025-08-19T15:12:46.379Z","level":"warn","message":"HTTP EPIPE error from /git/repositories/AuditReactProject.RN0.71.X/pullrequests/18670/iterations: write EPIPE. Retrying in 1000ms (attempt 1/3)"}
{"timestamp":"2025-08-19T15:12:47.381Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18670/iterations"}
{"timestamp":"2025-08-19T15:12:47.834Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18670/iterations"}
{"timestamp":"2025-08-19T15:12:47.835Z","level":"debug","message":"Successfully fetched 2 iterations"}
{"timestamp":"2025-08-19T15:12:47.835Z","level":"debug","message":"Fetching changes for iteration 2"}
{"timestamp":"2025-08-19T15:12:47.835Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18670/iterations/2/changes"}
{"timestamp":"2025-08-19T15:12:48.021Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18670/iterations/2/changes"}
{"timestamp":"2025-08-19T15:12:48.021Z","level":"debug","message":"Successfully fetched 5 changes"}
{"timestamp":"2025-08-19T15:12:48.021Z","level":"debug","message":"Processing iteration changes with 5 file changes"}
{"timestamp":"2025-08-19T15:12:48.022Z","level":"debug","message":"Processing iteration change for file: /__mocks__/@react-native-community/geolocation.js"}
{"timestamp":"2025-08-19T15:12:48.022Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to c70bd7cc2b6f76b1771309f08669e7ab59ce20d0"}
{"timestamp":"2025-08-19T15:12:48.022Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 c70bd7cc2b6f76b1771309f08669e7ab59ce20d0 -- __mocks__/@react-native-community/geolocation.js"}
{"timestamp":"2025-08-19T15:12:48.051Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T15:12:48.051Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/location-helper.test.ts"}
{"timestamp":"2025-08-19T15:12:48.051Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to c70bd7cc2b6f76b1771309f08669e7ab59ce20d0"}
{"timestamp":"2025-08-19T15:12:48.051Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 c70bd7cc2b6f76b1771309f08669e7ab59ce20d0 -- __tests__/app/lib/location-helper.test.ts"}
{"timestamp":"2025-08-19T15:12:48.070Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T15:12:48.071Z","level":"debug","message":"Processing iteration change for file: /app/lib/location-helper.ts"}
{"timestamp":"2025-08-19T15:12:48.071Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to c70bd7cc2b6f76b1771309f08669e7ab59ce20d0"}
{"timestamp":"2025-08-19T15:12:48.071Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 c70bd7cc2b6f76b1771309f08669e7ab59ce20d0 -- app/lib/location-helper.ts"}
{"timestamp":"2025-08-19T15:12:48.083Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T15:12:48.083Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/orientation.test.ts"}
{"timestamp":"2025-08-19T15:12:48.083Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to c70bd7cc2b6f76b1771309f08669e7ab59ce20d0"}
{"timestamp":"2025-08-19T15:12:48.083Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 c70bd7cc2b6f76b1771309f08669e7ab59ce20d0 -- __tests__/app/lib/orientation.test.ts"}
{"timestamp":"2025-08-19T15:12:48.094Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T15:12:48.095Z","level":"debug","message":"Processing iteration change for file: /app/lib/orientation.ts"}
{"timestamp":"2025-08-19T15:12:48.095Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to c70bd7cc2b6f76b1771309f08669e7ab59ce20d0"}
{"timestamp":"2025-08-19T15:12:48.095Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 c70bd7cc2b6f76b1771309f08669e7ab59ce20d0 -- app/lib/orientation.ts"}
{"timestamp":"2025-08-19T15:12:48.107Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T15:12:48.107Z","level":"info","message":"Successfully fetched diff: 5 files, +734/-65 lines"}
{"timestamp":"2025-08-19T15:12:48.108Z","level":"debug","message":"Diff data saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755616193253-0i3kgk/logs/diffs/diff-pr-pr-18670-2025-08-19T15-12-48-108Z.txt"}
{"timestamp":"2025-08-19T15:12:48.108Z","level":"debug","message":"Completed step 3: Fetch PR info and diffs"}
{"timestamp":"2025-08-19T15:12:48.108Z","level":"info","message":"\u001b[34m[4/8]\u001b[39m Loading rules and building review context..."}
{"timestamp":"2025-08-19T15:12:48.108Z","level":"debug","message":"Starting step 4: Load rules and build context"}
{"timestamp":"2025-08-19T15:12:48.109Z","level":"info","message":"Loading review rules and guidelines"}
{"timestamp":"2025-08-19T15:12:48.109Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T15:12:48.109Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T15:12:48.112Z","level":"warn","message":"No rules found in /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T15:12:48.112Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T15:12:48.113Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T15:12:48.115Z","level":"debug","message":"Loaded 28 rules from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T15:12:48.115Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T15:12:48.115Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T15:12:48.115Z","level":"debug","message":"Loaded guideline \"Azure DevOps Review Rules\" from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T15:12:48.115Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T15:12:48.116Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T15:12:48.116Z","level":"debug","message":"Loaded guideline \"React Native Field App - Architecture Guide\" from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T15:12:48.117Z","level":"info","message":"Loaded 1 rule sets, 28 total rules (28 enabled), 2 guidelines"}
{"timestamp":"2025-08-19T15:12:48.117Z","level":"debug","message":"Completed loadRules"}
{"timestamp":"2025-08-19T15:12:48.117Z","level":"info","message":"Building review context"}
{"timestamp":"2025-08-19T15:12:48.118Z","level":"info","message":"Context built: 5 files, 12 hunks, 28 rules, 2 guidelines"}
{"timestamp":"2025-08-19T15:12:48.118Z","level":"debug","message":"Completed step 4: Load rules and build context"}
{"timestamp":"2025-08-19T15:12:48.118Z","level":"info","message":"\u001b[34m[5/8]\u001b[39m Planning and executing AI review..."}
{"timestamp":"2025-08-19T15:12:48.118Z","level":"debug","message":"Starting step 5: Plan and execute review"}
{"timestamp":"2025-08-19T15:12:48.118Z","level":"info","message":"Creating review plan"}
{"timestamp":"2025-08-19T15:12:48.118Z","level":"debug","message":"Completed planReview"}
{"timestamp":"2025-08-19T15:12:48.118Z","level":"debug","message":"Executing Gemini review with plan"}
{"timestamp":"2025-08-19T15:12:48.118Z","level":"info","message":"Executing single batch review"}
{"timestamp":"2025-08-19T15:12:48.118Z","level":"info","message":"Starting Gemini review with model: gemini-2.0-flash"}
{"timestamp":"2025-08-19T15:12:48.119Z","level":"debug","message":"Prompt data saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755616193253-0i3kgk/logs/prompts/prompt-pr-review-2025-08-19T15-12-48-118Z.txt"}
{"timestamp":"2025-08-19T15:12:48.119Z","level":"debug","message":"Spawning Gemini CLI with stdin approach"}
{"timestamp":"2025-08-19T15:12:49.010Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T15:12:49.083Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T15:12:49.112Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T15:13:37.611Z","level":"debug","message":"Gemini CLI stdout: ```json\n{\n  \"findings\": [\n    {\n      \"file\": \"/__tests__/app/lib/location-helper.test.ts\",\n      \"line\": 145,\n      \"endLine\": 145,\n      \"severity\": \"error\",\n      \"message"}
{"timestamp":"2025-08-19T15:13:37.621Z","level":"debug","message":"Gemini CLI stdout: \": \"Test kodunda `mockApiResponseContext` tanÄ±mlanÄ±rken `state` iÃ§in `as any` tÃ¼r dÃ¶nÃ¼ÅŸÃ¼mÃ¼ kullanÄ±lÄ±yor. Bu, `no-any-type` kuralÄ±nÄ± ihlal eder ve tip gÃ¼venliÄŸini zayÄ±flatÄ±r.\",\n      \"suggestion\": \"`any` kullanmak yerine, `state"}
{"timestamp":"2025-08-19T15:13:37.730Z","level":"debug","message":"Gemini CLI stdout: ` iÃ§in uygun bir tip tanÄ±mlayÄ±n veya `Partial<T>` gibi yardÄ±mcÄ± tipler kullanarak mock nesnesini oluÅŸturun.\",\n      \"ruleId\": \"no-any-type\",\n      \"category\": \"typescript\"\n    },\n    {\n      \"file\": \"/app/lib/location-helper"}
{"timestamp":"2025-08-19T15:13:38.262Z","level":"debug","message":"Gemini CLI stdout: .ts\",\n      \"line\": 167,\n      \"endLine\": 168,\n      \"severity\": \"error\",\n      \"message\": \"`getCityAndDistrictNameByCoordinate` fonksiyonu, `getStaticText` parametresini genel `Function` tipi ile alÄ±yor."}
{"timestamp":"2025-08-19T15:13:38.758Z","level":"debug","message":"Gemini CLI stdout: Bu, tip gÃ¼venli deÄŸildir.\",\n      \"suggestion\": \"Fonksiyonun imzasÄ±nÄ± daha spesifik hale getirin. Ã–rneÄŸin: `getStaticText: (key: string) => string`.\",\n      \"ruleId\": \"no-any-type\",\n      \"category\": \"typescript\""}
{"timestamp":"2025-08-19T15:13:39.202Z","level":"debug","message":"Gemini CLI stdout: },\n    {\n      \"file\": \"/app/lib/location-helper.ts\",\n      \"line\": 236,\n      \"endLine\": 236,\n      \"severity\": \"error\",\n      \"message\": \"`findCityOrDistrictcByName` fonksiyon"}
{"timestamp":"2025-08-19T15:13:39.706Z","level":"debug","message":"Gemini CLI stdout: u, `areaList` parametresini `any[]` olarak alÄ±yor. Bu, `no-any-type` kuralÄ±nÄ± ihlal eder.\",\n      \"suggestion\": \"Liste elemanlarÄ± iÃ§in bir `interface` tanÄ±mlayarak (Ã¶rneÄŸin `interface Area { id: number; name"}
{"timestamp":"2025-08-19T15:13:40.129Z","level":"debug","message":"Gemini CLI stdout: : string; }`) parametreyi `Area[]` olarak tipleyin.\",\n      \"ruleId\": \"no-any-type\",\n      \"category\": \"typescript\"\n    },\n    {\n      \"file\": \"/app/lib/location-helper.ts\",\n      \"line\":"}
{"timestamp":"2025-08-19T15:13:40.669Z","level":"debug","message":"Gemini CLI stdout: 347,\n      \"endLine\": 347,\n      \"severity\": \"error\",\n      \"message\": \"`getDestinationsAndWaypoints` fonksiyonu, `destinations` parametresini `any[]` olarak alÄ±yor. Bu, `no-any-type"}
{"timestamp":"2025-08-19T15:13:41.313Z","level":"debug","message":"Gemini CLI stdout: ` kuralÄ±nÄ± ihlal eder.\",\n      \"suggestion\": \"Fonksiyon iÃ§indeki kullanÄ±ma ve projedeki diÄŸer modellere bakarak `destinations` iÃ§in `RoutesAuditModel[]` gibi daha spesifik bir tip belirleyin.\",\n      \"ruleId\": \"no-any-type\",\n      \"category\":"}
{"timestamp":"2025-08-19T15:13:41.676Z","level":"debug","message":"Gemini CLI stdout: \"typescript\"\n    }\n  ],\n  \"summary\": \"Kod deÄŸiÅŸiklikleri genel olarak olumlu; Ã¶zellikle `location-helper` ve `orientation` modÃ¼lleri iÃ§in test kapsamÄ±nÄ±n artÄ±rÄ±lmasÄ± ve JSDoc ile dokÃ¼mantasyonun iyileÅŸtirilmesi deÄŸerli. Ancak, `location-"}
{"timestamp":"2025-08-19T15:13:42.152Z","level":"debug","message":"Gemini CLI stdout: helper.ts` dosyasÄ±ndaki bazÄ± fonksiyonlarda ve ilgili test dosyasÄ±nda `any` tipinin kullanÄ±mÄ± `no-any-type` kuralÄ±nÄ± ihlal etmektedir. Tip gÃ¼venliÄŸini artÄ±rmak ve kodun sÃ¼rdÃ¼rÃ¼lebilirliÄŸini saÄŸlamak iÃ§in bu `any` kullanÄ±mlarÄ±nÄ±n dÃ¼zeltilmesi gerekmektedir.\""}
{"timestamp":"2025-08-19T15:13:42.206Z","level":"debug","message":"Gemini CLI stdout: }\n```"}
{"timestamp":"2025-08-19T15:13:42.217Z","level":"debug","message":"Gemini CLI stdout: "}
{"timestamp":"2025-08-19T15:13:42.230Z","level":"debug","message":"Gemini CLI exited with code: 0"}
{"timestamp":"2025-08-19T15:13:42.230Z","level":"debug","message":"Gemini CLI final stdout: [dotenv@16.6.0] injecting env (9) from .env\n[dotenv@16.6.0] injecting env (9) from .env\n[dotenv@16.6.0] injecting env (9) from .env\n```json\n{\n  \"findings\": [\n    {\n      \"file\": \"/__tests__/app/lib/location-helper.test.ts\",\n      \"line\": 145,\n      \"endLine\": 145,\n      \"severity\": \"error\",\n      \"message\": \"Test kodunda `mockApiResponseContext` tanÄ±mlanÄ±rken `state` iÃ§in `as any` tÃ¼r dÃ¶nÃ¼ÅŸÃ¼mÃ¼ kullanÄ±lÄ±yor. Bu, `no-any-type` kuralÄ±nÄ± ihlal eder ve tip gÃ¼venliÄŸini zayÄ±flatÄ±r.\",\n      \"suggestion\": \"`any` kullanmak yerine, `state` iÃ§in uygun bir tip tanÄ±mlayÄ±n veya `Partial<T>` gibi yardÄ±mcÄ± tipler kullanarak mock nesnesini oluÅŸturun.\",\n      \"ruleId\": \"no-any-type\",\n      \"category\": \"typescript\"\n    },\n    {\n      \"file\": \"/app/lib/location-helper.ts\",\n      \"line\": 167,\n      \"endLine\": 168,\n      \"severity\": \"error\",\n      \"message\": \"`getCityAndDistrictNameByCoordinate` fonksiyonu, `getStaticText` parametresini genel `Function` tipi ile alÄ±yor. Bu, tip gÃ¼venli deÄŸildir.\",\n      \"suggestion\": \"Fonksiyonun imzasÄ±nÄ± daha spesifik hale getirin. Ã–rneÄŸin: `getStaticText: (key: string) => string`.\",\n      \"ruleId\": \"no-any-type\",\n      \"category\": \"typescript\"\n    },\n    {\n      \"file\": \"/app/lib/location-helper.ts\",\n      \"line\": 236,\n      \"endLine\": 236,\n      \"severity\": \"error\",\n      \"message\": \"`findCityOrDistrictcByName` fonksiyonu, `areaList` parametresini `any[]` olarak alÄ±yor. Bu, `no-any-type` kuralÄ±nÄ± ihlal eder.\",\n      \"suggestion\": \"Liste elemanlarÄ± iÃ§in bir `interface` tanÄ±mlayarak (Ã¶rneÄŸin `interface Area { id: number; name: string; }`) parametreyi `Area[]` olarak tipleyin.\",\n      \"ruleId\": \"no-any-type\",\n      \"category\": \"typescript\"\n    },\n    {\n      \"file\": \"/app/lib/location-helper.ts\",\n      \"line\": 347,\n      \"endLine\": 347,\n      \"severity\": \"error\",\n      \"message\": \"`getDestinationsAndWaypoints` fonksiyonu, `destinations` parametresini `any[]` olarak alÄ±yor. Bu, `no-any-type` kuralÄ±nÄ± ihlal eder.\",\n      \"suggestion\": \"Fonksiyon iÃ§indeki kullanÄ±ma ve projedeki diÄŸer modellere bakarak `destinations` iÃ§in `RoutesAuditModel[]` gibi daha spesifik bir tip belirleyin.\",\n      \"ruleId\": \"no-any-type\",\n      \"category\": \"typescript\"\n    }\n  ],\n  \"summary\": \"Kod deÄŸiÅŸiklikleri genel olarak olumlu; Ã¶zellikle `location-helper` ve `orientation` modÃ¼lleri iÃ§in test kapsamÄ±nÄ±n artÄ±rÄ±lmasÄ± ve JSDoc ile dokÃ¼mantasyonun iyileÅŸtirilmesi deÄŸerli. Ancak, `location-helper.ts` dosyasÄ±ndaki bazÄ± fonksiyonlarda ve ilgili test dosyasÄ±nda `any` tipinin kullanÄ±mÄ± `no-any-type` kuralÄ±nÄ± ihlal etmektedir. Tip gÃ¼venliÄŸini artÄ±rmak ve kodun sÃ¼rdÃ¼rÃ¼lebilirliÄŸini saÄŸlamak iÃ§in bu `any` kullanÄ±mlarÄ±nÄ±n dÃ¼zeltilmesi gerekmektedir.\"\n}\n```"}
{"timestamp":"2025-08-19T15:13:42.231Z","level":"debug","message":"Gemini CLI final stderr: "}
{"timestamp":"2025-08-19T15:13:42.233Z","level":"debug","message":"Gemini response saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755616193253-0i3kgk/logs/responses/gemini-response-pr-req-1755616368118-77znoqe57-2025-08-19T15-13-42-232Z.json"}
{"timestamp":"2025-08-19T15:13:42.233Z","level":"info","message":"Review completed: 4 findings"}
{"timestamp":"2025-08-19T15:13:42.234Z","level":"debug","message":"Completed step 5: Plan and execute review"}
{"timestamp":"2025-08-19T15:13:42.234Z","level":"info","message":"\u001b[34m[6/8]\u001b[39m Processing and filtering findings..."}
{"timestamp":"2025-08-19T15:13:42.234Z","level":"debug","message":"Starting step 6: Process findings"}
{"timestamp":"2025-08-19T15:13:42.234Z","level":"info","message":"Found 4 total findings, 4 above threshold"}
{"timestamp":"2025-08-19T15:13:42.234Z","level":"debug","message":"Completed step 6: Process findings"}
{"timestamp":"2025-08-19T15:13:42.234Z","level":"info","message":"\u001b[34m[7/8]\u001b[39m Getting approval and posting comments..."}
{"timestamp":"2025-08-19T15:13:42.234Z","level":"debug","message":"Starting step 7: Get approval and post comments"}
{"timestamp":"2025-08-19T15:13:42.234Z","level":"info","message":"File                                       | Line | Severity | Message                                                                                                                                                                   | Rule       "}
{"timestamp":"2025-08-19T15:13:42.234Z","level":"info","message":"-------------------------------------------+------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------"}
{"timestamp":"2025-08-19T15:13:42.235Z","level":"info","message":"/__tests__/app/lib/location-helper.test.ts | 145  | ERROR    | Test kodunda `mockApiResponseContext` tanÄ±mlanÄ±rken `state` iÃ§in `as any` tÃ¼r dÃ¶nÃ¼ÅŸÃ¼mÃ¼ kullanÄ±lÄ±yor. Bu, `no-any-type` kuralÄ±nÄ± ihlal eder ve tip gÃ¼venliÄŸini zayÄ±flatÄ±r. | no-any-type"}
{"timestamp":"2025-08-19T15:13:42.235Z","level":"info","message":"/app/lib/location-helper.ts                | 167  | ERROR    | `getCityAndDistrictNameByCoordinate` fonksiyonu, `getStaticText` parametresini genel `Function` tipi ile alÄ±yor. Bu, tip gÃ¼venli deÄŸildir.                                | no-any-type"}
{"timestamp":"2025-08-19T15:13:42.235Z","level":"info","message":"/app/lib/location-helper.ts                | 236  | ERROR    | `findCityOrDistrictcByName` fonksiyonu, `areaList` parametresini `any[]` olarak alÄ±yor. Bu, `no-any-type` kuralÄ±nÄ± ihlal eder.                                            | no-any-type"}
{"timestamp":"2025-08-19T15:13:42.235Z","level":"info","message":"/app/lib/location-helper.ts                | 347  | ERROR    | `getDestinationsAndWaypoints` fonksiyonu, `destinations` parametresini `any[]` olarak alÄ±yor. Bu, `no-any-type` kuralÄ±nÄ± ihlal eder.                                      | no-any-type"}
{"timestamp":"2025-08-19T15:14:25.441Z","level":"debug","message":"Completed getApproval"}
{"timestamp":"2025-08-19T15:14:25.442Z","level":"info","message":"Mapping 4 findings to ADO comment threads"}
{"timestamp":"2025-08-19T15:14:25.465Z","level":"info","message":"Mapping completed: 4 threads, 4 comments"}
{"timestamp":"2025-08-19T15:14:25.465Z","level":"info","message":"Posting 4 comment threads to PR 18670"}
{"timestamp":"2025-08-19T15:14:25.466Z","level":"debug","message":"Fetching comment threads for PR 18670"}
{"timestamp":"2025-08-19T15:14:25.466Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18670/threads"}
{"timestamp":"2025-08-19T15:14:25.867Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18670/threads"}
{"timestamp":"2025-08-19T15:14:25.867Z","level":"debug","message":"Successfully fetched 3 comment threads"}
{"timestamp":"2025-08-19T15:14:25.867Z","level":"debug","message":"Found 3 existing comment threads"}
{"timestamp":"2025-08-19T15:14:25.867Z","level":"debug","message":"Processing batch 1/1 (4 threads)"}
{"timestamp":"2025-08-19T15:14:25.868Z","level":"debug","message":"Creating new thread at /__tests__/app/lib/location-helper.test.ts:145"}
{"timestamp":"2025-08-19T15:14:25.868Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T15:14:25.869Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18670/threads"}
{"timestamp":"2025-08-19T15:14:26.170Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18670/threads"}
{"timestamp":"2025-08-19T15:14:26.170Z","level":"debug","message":"Successfully created comment thread 61414"}
{"timestamp":"2025-08-19T15:14:26.170Z","level":"debug","message":"Creating new thread at /app/lib/location-helper.ts:167"}
{"timestamp":"2025-08-19T15:14:26.170Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T15:14:26.170Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18670/threads"}
{"timestamp":"2025-08-19T15:14:26.453Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18670/threads"}
{"timestamp":"2025-08-19T15:14:26.453Z","level":"debug","message":"Successfully created comment thread 61415"}
{"timestamp":"2025-08-19T15:14:26.453Z","level":"debug","message":"Creating new thread at /app/lib/location-helper.ts:236"}
{"timestamp":"2025-08-19T15:14:26.454Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T15:14:26.454Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18670/threads"}
{"timestamp":"2025-08-19T15:14:26.675Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18670/threads"}
{"timestamp":"2025-08-19T15:14:26.675Z","level":"debug","message":"Successfully created comment thread 61416"}
{"timestamp":"2025-08-19T15:14:26.675Z","level":"debug","message":"Creating new thread at /app/lib/location-helper.ts:347"}
{"timestamp":"2025-08-19T15:14:26.675Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T15:14:26.675Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18670/threads"}
{"timestamp":"2025-08-19T15:14:26.906Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18670/threads"}
{"timestamp":"2025-08-19T15:14:26.906Z","level":"debug","message":"Successfully created comment thread 61417"}
{"timestamp":"2025-08-19T15:14:26.906Z","level":"info","message":"Comment posting completed: 4 threads created, 4 comments created"}
{"timestamp":"2025-08-19T15:14:26.907Z","level":"debug","message":"Completed step 7: Get approval and post comments"}
{"timestamp":"2025-08-19T15:14:26.907Z","level":"info","message":"\u001b[34m[8/8]\u001b[39m Updating PR status and cleaning up..."}
{"timestamp":"2025-08-19T15:14:26.907Z","level":"debug","message":"Starting step 8: Update PR status"}
{"timestamp":"2025-08-19T15:14:26.907Z","level":"debug","message":"Completed step 8: Update PR status"}
{"timestamp":"2025-08-19T15:14:26.907Z","level":"info","message":"\u001b[32mâœ… Review completed successfully in 273660ms\u001b[39m"}
{"timestamp":"2025-08-19T15:14:26.909Z","level":"info","message":"Cleaning up workspace: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755616193253-0i3kgk"}
{"timestamp":"2025-08-19T15:14:27.629Z","level":"info","message":"Workspace cleanup completed: 3970 files, 982 directories deleted"}
{"timestamp":"2025-08-19T15:15:54.893Z","level":"info","message":"\u001b[34mðŸš€ Starting Azure DevOps PR Review...\u001b[39m"}
{"timestamp":"2025-08-19T15:15:54.894Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T15:15:54.894Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T15:15:54.894Z","level":"info","message":"\u001b[34m[1/8]\u001b[39m Initializing and validating options..."}
{"timestamp":"2025-08-19T15:15:54.894Z","level":"debug","message":"Starting step 1: Initialize"}
{"timestamp":"2025-08-19T15:15:54.895Z","level":"info","message":"Loading configuration..."}
{"timestamp":"2025-08-19T15:15:54.896Z","level":"debug","message":"Found .adorevrc.yaml in project root, loading configuration"}
{"timestamp":"2025-08-19T15:15:54.896Z","level":"debug","message":"Project root configuration loaded successfully"}
{"timestamp":"2025-08-19T15:15:54.896Z","level":"info","message":"Using configuration from: project-root"}
{"timestamp":"2025-08-19T15:15:54.897Z","level":"debug","message":"Log level overridden by ADO_REVIEW_LOG_LEVEL: debug"}
{"timestamp":"2025-08-19T15:15:54.897Z","level":"debug","message":"Configuration loaded and merged successfully"}
{"timestamp":"2025-08-19T15:15:54.897Z","level":"debug","message":"Gemini timeout: 120000ms"}
{"timestamp":"2025-08-19T15:15:54.897Z","level":"debug","message":"Current log level: debug"}
{"timestamp":"2025-08-19T15:15:54.898Z","level":"debug","message":"Initializing GeminiAdapter with timeout: 120000ms"}
{"timestamp":"2025-08-19T15:15:54.898Z","level":"debug","message":"GeminiAdapter initialized with default timeout: 120000ms"}
{"timestamp":"2025-08-19T15:15:54.898Z","level":"debug","message":"All components initialized successfully"}
{"timestamp":"2025-08-19T15:15:54.898Z","level":"debug","message":"Completed step 1: Initialize"}
{"timestamp":"2025-08-19T15:15:54.898Z","level":"info","message":"\u001b[34m[2/8]\u001b[39m Setting up temporary workspace..."}
{"timestamp":"2025-08-19T15:15:54.898Z","level":"debug","message":"Starting step 2: Setup workspace"}
{"timestamp":"2025-08-19T15:15:54.904Z","level":"info","message":"Workspace created: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755616554898-mo0hbm"}
{"timestamp":"2025-08-19T15:15:54.904Z","level":"debug","message":"Workspace config path: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755616554898-mo0hbm/.adorevrc.yaml"}
{"timestamp":"2025-08-19T15:15:54.905Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T15:15:54.905Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T15:15:54.905Z","level":"debug","message":"Completed step 2: Setup workspace"}
{"timestamp":"2025-08-19T15:15:54.905Z","level":"info","message":"\u001b[34m[3/8]\u001b[39m Fetching PR information and changes..."}
{"timestamp":"2025-08-19T15:15:54.905Z","level":"debug","message":"Starting step 3: Fetch PR info and diffs"}
{"timestamp":"2025-08-19T15:15:54.905Z","level":"debug","message":"Fetching PR 18705 info"}
{"timestamp":"2025-08-19T15:15:54.905Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18705"}
{"timestamp":"2025-08-19T15:15:55.522Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18705"}
{"timestamp":"2025-08-19T15:15:55.523Z","level":"debug","message":"Successfully fetched PR 18705 info"}
{"timestamp":"2025-08-19T15:15:55.523Z","level":"debug","message":"Response status: 200"}
{"timestamp":"2025-08-19T15:15:55.523Z","level":"debug","message":"Response data keys:"}
{"timestamp":"2025-08-19T15:15:55.523Z","level":"debug","message":"PR Info structure:"}
{"timestamp":"2025-08-19T15:15:55.523Z","level":"debug","message":"Completed fetchPRInfo"}
{"timestamp":"2025-08-19T15:15:55.524Z","level":"debug","message":"fetchDiffs - prInfo structure:"}
{"timestamp":"2025-08-19T15:15:55.524Z","level":"info","message":"Cloning repository: https://inploid@dev.azure.com/inploid/AuditReactProject/_git/AuditReactProject.RN0.71.X"}
{"timestamp":"2025-08-19T15:15:55.524Z","level":"debug","message":"Clone options: {\"branch\":\"refs/heads/feature/TDM-14371\",\"workingDirectory\":\"/var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755616554898-mo0hbm/source\"}"}
{"timestamp":"2025-08-19T15:15:55.524Z","level":"debug","message":"Executing: git init "}
{"timestamp":"2025-08-19T15:15:55.565Z","level":"debug","message":"Executing: git remote add origin https://inploid@dev.azure.com/inploid/AuditReactProject/_git/AuditReactProject.RN0.71.X"}
{"timestamp":"2025-08-19T15:15:55.578Z","level":"debug","message":"Executing: git fetch origin refs/heads/feature/TDM-14371"}
{"timestamp":"2025-08-19T15:19:08.765Z","level":"debug","message":"Executing: git checkout -b local-branch origin/feature/TDM-14371"}
{"timestamp":"2025-08-19T15:19:09.323Z","level":"debug","message":"Executing: git rev-parse HEAD"}
{"timestamp":"2025-08-19T15:19:09.333Z","level":"info","message":"Successfully cloned repository to /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755616554898-mo0hbm/source"}
{"timestamp":"2025-08-19T15:19:09.333Z","level":"debug","message":"Commit ID: 40d673792f25e28bbcb52c222fbaafa31005f0a2"}
{"timestamp":"2025-08-19T15:19:09.333Z","level":"debug","message":"Reinitializing ConfigLoader with cloned workspace directory:"}
{"timestamp":"2025-08-19T15:19:09.333Z","level":"debug","message":"Workspace config path: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755616554898-mo0hbm/source/.adorevrc.yaml"}
{"timestamp":"2025-08-19T15:19:09.333Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T15:19:09.333Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T15:19:09.335Z","level":"debug","message":"Found .adorevrc.yaml in project root, loading configuration"}
{"timestamp":"2025-08-19T15:19:09.335Z","level":"debug","message":"Project root configuration loaded successfully"}
{"timestamp":"2025-08-19T15:19:09.335Z","level":"info","message":"Using configuration from: project-root"}
{"timestamp":"2025-08-19T15:19:09.335Z","level":"debug","message":"Log level overridden by ADO_REVIEW_LOG_LEVEL: debug"}
{"timestamp":"2025-08-19T15:19:09.335Z","level":"debug","message":"Configuration loaded and merged successfully"}
{"timestamp":"2025-08-19T15:19:09.335Z","level":"debug","message":"Gemini timeout: 120000ms"}
{"timestamp":"2025-08-19T15:19:09.335Z","level":"debug","message":"Current log level: debug"}
{"timestamp":"2025-08-19T15:19:09.336Z","level":"debug","message":"Reloaded configuration from workspace:"}
{"timestamp":"2025-08-19T15:19:09.336Z","level":"info","message":"Fetching iteration changes for PR 18705"}
{"timestamp":"2025-08-19T15:19:09.336Z","level":"debug","message":"Fetching PR 18705 iterations"}
{"timestamp":"2025-08-19T15:19:09.336Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18705/iterations"}
{"timestamp":"2025-08-19T15:19:09.339Z","level":"warn","message":"HTTP EPIPE error from /git/repositories/AuditReactProject.RN0.71.X/pullrequests/18705/iterations: write EPIPE. Retrying in 1000ms (attempt 1/3)"}
{"timestamp":"2025-08-19T15:19:10.341Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18705/iterations"}
{"timestamp":"2025-08-19T15:19:10.721Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18705/iterations"}
{"timestamp":"2025-08-19T15:19:10.722Z","level":"debug","message":"Successfully fetched 2 iterations"}
{"timestamp":"2025-08-19T15:19:10.722Z","level":"debug","message":"Fetching changes for iteration 2"}
{"timestamp":"2025-08-19T15:19:10.723Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18705/iterations/2/changes"}
{"timestamp":"2025-08-19T15:19:10.951Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18705/iterations/2/changes"}
{"timestamp":"2025-08-19T15:19:10.952Z","level":"debug","message":"Successfully fetched 9 changes"}
{"timestamp":"2025-08-19T15:19:10.952Z","level":"debug","message":"Processing iteration changes with 9 file changes"}
{"timestamp":"2025-08-19T15:19:10.952Z","level":"debug","message":"Processing iteration change for file: /__mocks__/@react-native-community/geolocation.js"}
{"timestamp":"2025-08-19T15:19:10.952Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 40d673792f25e28bbcb52c222fbaafa31005f0a2"}
{"timestamp":"2025-08-19T15:19:10.952Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 40d673792f25e28bbcb52c222fbaafa31005f0a2 -- __mocks__/@react-native-community/geolocation.js"}
{"timestamp":"2025-08-19T15:19:10.967Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T15:19:10.967Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/location-helper.test.ts"}
{"timestamp":"2025-08-19T15:19:10.967Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 40d673792f25e28bbcb52c222fbaafa31005f0a2"}
{"timestamp":"2025-08-19T15:19:10.967Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 40d673792f25e28bbcb52c222fbaafa31005f0a2 -- __tests__/app/lib/location-helper.test.ts"}
{"timestamp":"2025-08-19T15:19:10.981Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T15:19:10.982Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/orientation.test.ts"}
{"timestamp":"2025-08-19T15:19:10.982Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 40d673792f25e28bbcb52c222fbaafa31005f0a2"}
{"timestamp":"2025-08-19T15:19:10.982Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 40d673792f25e28bbcb52c222fbaafa31005f0a2 -- __tests__/app/lib/orientation.test.ts"}
{"timestamp":"2025-08-19T15:19:10.994Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T15:19:10.994Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/regex-validate-operation.test.ts"}
{"timestamp":"2025-08-19T15:19:10.994Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 40d673792f25e28bbcb52c222fbaafa31005f0a2"}
{"timestamp":"2025-08-19T15:19:10.994Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 40d673792f25e28bbcb52c222fbaafa31005f0a2 -- __tests__/app/lib/regex-validate-operation.test.ts"}
{"timestamp":"2025-08-19T15:19:11.006Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T15:19:11.007Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/print-provider.test.ts"}
{"timestamp":"2025-08-19T15:19:11.007Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 40d673792f25e28bbcb52c222fbaafa31005f0a2"}
{"timestamp":"2025-08-19T15:19:11.007Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 40d673792f25e28bbcb52c222fbaafa31005f0a2 -- __tests__/app/lib/print-provider.test.ts"}
{"timestamp":"2025-08-19T15:19:11.020Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T15:19:11.020Z","level":"debug","message":"Processing iteration change for file: /app/lib/location-helper.ts"}
{"timestamp":"2025-08-19T15:19:11.020Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 40d673792f25e28bbcb52c222fbaafa31005f0a2"}
{"timestamp":"2025-08-19T15:19:11.020Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 40d673792f25e28bbcb52c222fbaafa31005f0a2 -- app/lib/location-helper.ts"}
{"timestamp":"2025-08-19T15:19:11.032Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T15:19:11.032Z","level":"debug","message":"Processing iteration change for file: /app/lib/orientation.ts"}
{"timestamp":"2025-08-19T15:19:11.032Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 40d673792f25e28bbcb52c222fbaafa31005f0a2"}
{"timestamp":"2025-08-19T15:19:11.032Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 40d673792f25e28bbcb52c222fbaafa31005f0a2 -- app/lib/orientation.ts"}
{"timestamp":"2025-08-19T15:19:11.044Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T15:19:11.044Z","level":"debug","message":"Processing iteration change for file: /app/lib/regex-validate-operation.ts"}
{"timestamp":"2025-08-19T15:19:11.044Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 40d673792f25e28bbcb52c222fbaafa31005f0a2"}
{"timestamp":"2025-08-19T15:19:11.044Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 40d673792f25e28bbcb52c222fbaafa31005f0a2 -- app/lib/regex-validate-operation.ts"}
{"timestamp":"2025-08-19T15:19:11.056Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T15:19:11.056Z","level":"debug","message":"Processing iteration change for file: /app/lib/print-provider.ts"}
{"timestamp":"2025-08-19T15:19:11.056Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 40d673792f25e28bbcb52c222fbaafa31005f0a2"}
{"timestamp":"2025-08-19T15:19:11.056Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 40d673792f25e28bbcb52c222fbaafa31005f0a2 -- app/lib/print-provider.ts"}
{"timestamp":"2025-08-19T15:19:11.068Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T15:19:11.069Z","level":"info","message":"Successfully fetched diff: 9 files, +959/-65 lines"}
{"timestamp":"2025-08-19T15:19:11.069Z","level":"debug","message":"Diff data saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755616554898-mo0hbm/logs/diffs/diff-pr-pr-18705-2025-08-19T15-19-11-069Z.txt"}
{"timestamp":"2025-08-19T15:19:11.069Z","level":"debug","message":"Completed step 3: Fetch PR info and diffs"}
{"timestamp":"2025-08-19T15:19:11.069Z","level":"info","message":"\u001b[34m[4/8]\u001b[39m Loading rules and building review context..."}
{"timestamp":"2025-08-19T15:19:11.069Z","level":"debug","message":"Starting step 4: Load rules and build context"}
{"timestamp":"2025-08-19T15:19:11.070Z","level":"info","message":"Loading review rules and guidelines"}
{"timestamp":"2025-08-19T15:19:11.070Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T15:19:11.071Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T15:19:11.074Z","level":"warn","message":"No rules found in /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T15:19:11.074Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T15:19:11.074Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T15:19:11.076Z","level":"debug","message":"Loaded 28 rules from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T15:19:11.076Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T15:19:11.076Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T15:19:11.077Z","level":"debug","message":"Loaded guideline \"Azure DevOps Review Rules\" from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T15:19:11.077Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T15:19:11.078Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T15:19:11.078Z","level":"debug","message":"Loaded guideline \"React Native Field App - Architecture Guide\" from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T15:19:11.078Z","level":"info","message":"Loaded 1 rule sets, 28 total rules (28 enabled), 2 guidelines"}
{"timestamp":"2025-08-19T15:19:11.079Z","level":"debug","message":"Completed loadRules"}
{"timestamp":"2025-08-19T15:19:11.079Z","level":"info","message":"Building review context"}
{"timestamp":"2025-08-19T15:19:11.080Z","level":"info","message":"Context built: 9 files, 17 hunks, 28 rules, 2 guidelines"}
{"timestamp":"2025-08-19T15:19:11.080Z","level":"debug","message":"Completed step 4: Load rules and build context"}
{"timestamp":"2025-08-19T15:19:11.080Z","level":"info","message":"\u001b[34m[5/8]\u001b[39m Planning and executing AI review..."}
{"timestamp":"2025-08-19T15:19:11.080Z","level":"debug","message":"Starting step 5: Plan and execute review"}
{"timestamp":"2025-08-19T15:19:11.080Z","level":"info","message":"Creating review plan"}
{"timestamp":"2025-08-19T15:19:11.080Z","level":"debug","message":"Completed planReview"}
{"timestamp":"2025-08-19T15:19:11.080Z","level":"debug","message":"Executing Gemini review with plan"}
{"timestamp":"2025-08-19T15:19:11.080Z","level":"info","message":"Executing single batch review"}
{"timestamp":"2025-08-19T15:19:11.080Z","level":"info","message":"Starting Gemini review with model: gemini-2.5-flash"}
{"timestamp":"2025-08-19T15:19:11.081Z","level":"debug","message":"Prompt data saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755616554898-mo0hbm/logs/prompts/prompt-pr-review-2025-08-19T15-19-11-081Z.txt"}
{"timestamp":"2025-08-19T15:19:11.081Z","level":"debug","message":"Spawning Gemini CLI with stdin approach"}
{"timestamp":"2025-08-19T15:19:12.035Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T15:19:12.113Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T15:19:12.143Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T15:19:14.255Z","level":"debug","message":"Gemini CLI stderr: Attempt 1 failed with status 429. Retrying with backoff... GaxiosError: [{\n  \"error\": {\n    \"code\": 429,\n    \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\n    \"errors\": [\n      {\n        \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\n        \"domain\": \"global\",\n        \"reason\": \"rateLimitExceeded\"\n      }\n    ],\n    \"status\": \"RESOURCE_EXHAUSTED\"\n  }\n}\n]\n    at Gaxios._request (/Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/gaxios/build/src/gaxios.js:142:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OAuth2Client.requestAsync (/Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/google-auth-library/build/src/auth/oauth2client.js:429:18)\n    at async CodeAssistServer.streamEndpoint (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/code_assist/server.js:60:21)\n    at async CodeAssistServer.generateContentStream (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/code_assist/server.js:21:23)\n    at async retryWithBackoff (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/utils/retry.js:61:20)\n    at async GeminiChat.sendMessageStream (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/core/geminiChat.js:287:36)\n    at async runNonInteractive (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/dist/src/nonInteractiveCli.js:43:36)\n    at async main (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/dist/src/gemini.js:154:5) {\n  config: {\n    url: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse',\n    method: 'POST',\n    params: { alt: 'sse' },\n    headers: {\n      'Content-Type': 'application/json',\n      'User-Agent': 'GeminiCLI/v20.19.0 (darwin; arm64) google-api-nodejs-client/9.15.1',\n      Authorization: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n      'x-goog-api-client': 'gl-node/20.19.0'\n    },\n    responseType: 'stream',\n    body: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n    signal: AbortSignal { aborted: false },\n    paramsSerializer: [Function: paramsSerializer],\n    validateStatus: [Function: validateStatus],\n    errorRedactor: [Function: defaultErrorRedactor]\n  },\n  response: {\n    config: {\n      url: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse',\n      method: 'POST',\n      params: [Object],\n      headers: [Object],\n      responseType: 'stream',\n      body: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n      signal: [AbortSignal],\n      paramsSerializer: [Function: paramsSerializer],\n      validateStatus: [Function: validateStatus],\n      errorRedactor: [Function: defaultErrorRedactor]\n    },\n    data: '[{\\n' +\n      '  \"error\": {\\n' +\n      '    \"code\": 429,\\n' +\n      '    \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\\n' +\n      '    \"errors\": [\\n' +\n      '      {\\n' +\n      '        \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\\n' +\n      '        \"domain\": \"global\",\\n' +\n      '        \"reason\": \"rateLimitExceeded\"\\n' +\n      '      }\\n' +\n      '    ],\\n' +\n      '    \"status\": \"RESOURCE_EXHAUSTED\"\\n' +\n      '  }\\n' +\n      '}\\n' +\n      ']',\n    headers: {\n      'alt-svc': 'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000',\n      'content-length': '514',\n      'content-type': 'application/json; charset=UTF-8',\n      date: 'Tue, 19 Aug 2025 15:19:14 GMT',\n      server: 'ESF',\n      'server-timing': 'gfet4t7; dur=459',\n      vary: 'Origin, X-Origin, Referer',\n      'x-content-type-options': 'nosniff',\n      'x-frame-options': 'SAMEORIGIN',\n      'x-xss-protection': '0'\n    },\n    status: 429,\n    statusText: 'Too Many Requests',\n    request: {\n      responseURL: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse'\n    }\n  },\n  error: undefined,\n  status: 429,\n  [Symbol(gaxios-gaxios-error)]: '6.7.1'\n}"}
{"timestamp":"2025-08-19T15:19:58.977Z","level":"debug","message":"Gemini CLI stdout: ```json\n{\n  \"findings\": [\n    {\n      \"file\": \"/__tests__/app/lib/location-helper.test.ts\",\n      \"line\": 141,\n      \"endLine\": 141,\n      \"severity\": \"error\",\n      \"message"}
{"timestamp":"2025-08-19T15:19:58.989Z","level":"debug","message":"Gemini CLI stdout: \": \"Test dosyasÄ±nda `any` tÃ¼rÃ¼nÃ¼n kullanÄ±lmasÄ±, projenin `no-any-type` kuralÄ±nÄ± ihlal etmektedir. Tip gÃ¼venliÄŸi, testlerin gÃ¼venilirliÄŸi ve sÃ¼rdÃ¼rÃ¼lebilirliÄŸi iÃ§in de kritik Ã¶neme sahiptir.\",\n      \"suggestion\": \"`mockApiResponseContext` tanÄ±mÄ±ndaki"}
{"timestamp":"2025-08-19T15:19:59.356Z","level":"debug","message":"Gemini CLI stdout: `state` alanÄ± iÃ§in `as any` kullanmak yerine, `ApiResponseContext` iÃ§erisindeki state tipi iÃ§in uygun bir mock arayÃ¼zÃ¼ tanÄ±mlayarak veya `jest.Mocked` gibi yardÄ±mcÄ±larÄ± kullanarak tip gÃ¼venliÄŸini saÄŸlayÄ±n. Ã–rneÄŸin: `state: { show: false, message: \\\"\\\", type"}
{"timestamp":"2025-08-19T15:19:59.790Z","level":"debug","message":"Gemini CLI stdout: : \\\"success\\\" } as ApiResponseContextState`\",\n      \"ruleId\": \"no-any-type\",\n      \"category\": \"typescript\"\n    },\n    {\n      \"file\": \"/app/lib/location-helper.ts\",\n      \"line\": 276,"}
{"timestamp":"2025-08-19T15:20:00.241Z","level":"debug","message":"Gemini CLI stdout: \"endLine\": 284,\n      \"severity\": \"warning\",\n      \"message\": \"JSDoc yorumu yanlÄ±ÅŸ fonksiyonun Ã¼zerine eklenmiÅŸ. Yorum, `calculateLatitudeLongitudeAverageAndDelta` fonksiyonunu tanÄ±mlarken, `addDistanceToEachDestination` fonksiyonunun Ã¼zerinde"}
{"timestamp":"2025-08-19T15:20:00.687Z","level":"debug","message":"Gemini CLI stdout: yer alÄ±yor. Bu durum, kodu okumayÄ± zorlaÅŸtÄ±rÄ±r ve yanlÄ±ÅŸ anlaÅŸÄ±lmalara yol aÃ§abilir.\",\n      \"suggestion\": \"LÃ¼tfen JSDoc yorum bloÄŸunu, tanÄ±mladÄ±ÄŸÄ± `calculateLatitudeLongitudeAverageAndDelta` fonksiyonunun hemen Ã¼zerine taÅŸÄ±yÄ±n.\",\n      \"ruleId\": \""}
{"timestamp":"2025-08-19T15:20:01.212Z","level":"debug","message":"Gemini CLI stdout: component-structure\",\n      \"category\": \"code-quality\"\n    }\n  ],\n  \"summary\": \"Genel olarak, yapÄ±lan deÄŸiÅŸiklikler projenin test kapsamÄ±nÄ± Ã¶nemli Ã¶lÃ§Ã¼de artÄ±rÄ±yor ve mevcut fonksiyonlara dokÃ¼mantasyon ekliyor, bu harika bir geliÅŸme."}
{"timestamp":"2025-08-19T15:20:01.693Z","level":"debug","message":"Gemini CLI stdout: Ancak, kod kalitesini ve okunabilirliÄŸi daha da artÄ±rmak iÃ§in dikkat edilmesi gereken birkaÃ§ nokta var. Ã–zellikle test dosyalarÄ±nda `any` tipinin kullanÄ±mÄ±ndan kaÃ§Ä±nÄ±lmasÄ± ve JSDoc yorumlarÄ±nÄ±n doÄŸru fonksiyonlar iÃ§in eklendiÄŸinden emin olunmasÄ± gerekiyor.\"\n}\n```"}
{"timestamp":"2025-08-19T15:20:01.701Z","level":"debug","message":"Gemini CLI stdout: "}
{"timestamp":"2025-08-19T15:20:01.713Z","level":"debug","message":"Gemini CLI exited with code: 0"}
{"timestamp":"2025-08-19T15:20:01.713Z","level":"debug","message":"Gemini CLI final stdout: [dotenv@16.6.0] injecting env (9) from .env\n[dotenv@16.6.0] injecting env (9) from .env\n[dotenv@16.6.0] injecting env (9) from .env\n```json\n{\n  \"findings\": [\n    {\n      \"file\": \"/__tests__/app/lib/location-helper.test.ts\",\n      \"line\": 141,\n      \"endLine\": 141,\n      \"severity\": \"error\",\n      \"message\": \"Test dosyasÄ±nda `any` tÃ¼rÃ¼nÃ¼n kullanÄ±lmasÄ±, projenin `no-any-type` kuralÄ±nÄ± ihlal etmektedir. Tip gÃ¼venliÄŸi, testlerin gÃ¼venilirliÄŸi ve sÃ¼rdÃ¼rÃ¼lebilirliÄŸi iÃ§in de kritik Ã¶neme sahiptir.\",\n      \"suggestion\": \"`mockApiResponseContext` tanÄ±mÄ±ndaki `state` alanÄ± iÃ§in `as any` kullanmak yerine, `ApiResponseContext` iÃ§erisindeki state tipi iÃ§in uygun bir mock arayÃ¼zÃ¼ tanÄ±mlayarak veya `jest.Mocked` gibi yardÄ±mcÄ±larÄ± kullanarak tip gÃ¼venliÄŸini saÄŸlayÄ±n. Ã–rneÄŸin: `state: { show: false, message: \\\"\\\", type: \\\"success\\\" } as ApiResponseContextState`\",\n      \"ruleId\": \"no-any-type\",\n      \"category\": \"typescript\"\n    },\n    {\n      \"file\": \"/app/lib/location-helper.ts\",\n      \"line\": 276,\n      \"endLine\": 284,\n      \"severity\": \"warning\",\n      \"message\": \"JSDoc yorumu yanlÄ±ÅŸ fonksiyonun Ã¼zerine eklenmiÅŸ. Yorum, `calculateLatitudeLongitudeAverageAndDelta` fonksiyonunu tanÄ±mlarken, `addDistanceToEachDestination` fonksiyonunun Ã¼zerinde yer alÄ±yor. Bu durum, kodu okumayÄ± zorlaÅŸtÄ±rÄ±r ve yanlÄ±ÅŸ anlaÅŸÄ±lmalara yol aÃ§abilir.\",\n      \"suggestion\": \"LÃ¼tfen JSDoc yorum bloÄŸunu, tanÄ±mladÄ±ÄŸÄ± `calculateLatitudeLongitudeAverageAndDelta` fonksiyonunun hemen Ã¼zerine taÅŸÄ±yÄ±n.\",\n      \"ruleId\": \"component-structure\",\n      \"category\": \"code-quality\"\n    }\n  ],\n  \"summary\": \"Genel olarak, yapÄ±lan deÄŸiÅŸiklikler projenin test kapsamÄ±nÄ± Ã¶nemli Ã¶lÃ§Ã¼de artÄ±rÄ±yor ve mevcut fonksiyonlara dokÃ¼mantasyon ekliyor, bu harika bir geliÅŸme. Ancak, kod kalitesini ve okunabilirliÄŸi daha da artÄ±rmak iÃ§in dikkat edilmesi gereken birkaÃ§ nokta var. Ã–zellikle test dosyalarÄ±nda `any` tipinin kullanÄ±mÄ±ndan kaÃ§Ä±nÄ±lmasÄ± ve JSDoc yorumlarÄ±nÄ±n doÄŸru fonksiyonlar iÃ§in eklendiÄŸinden emin olunmasÄ± gerekiyor.\"\n}\n```"}
{"timestamp":"2025-08-19T15:20:01.713Z","level":"debug","message":"Gemini CLI final stderr: Attempt 1 failed with status 429. Retrying with backoff... GaxiosError: [{\n  \"error\": {\n    \"code\": 429,\n    \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\n    \"errors\": [\n      {\n        \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\n        \"domain\": \"global\",\n        \"reason\": \"rateLimitExceeded\"\n      }\n    ],\n    \"status\": \"RESOURCE_EXHAUSTED\"\n  }\n}\n]\n    at Gaxios._request (/Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/gaxios/build/src/gaxios.js:142:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OAuth2Client.requestAsync (/Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/google-auth-library/build/src/auth/oauth2client.js:429:18)\n    at async CodeAssistServer.streamEndpoint (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/code_assist/server.js:60:21)\n    at async CodeAssistServer.generateContentStream (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/code_assist/server.js:21:23)\n    at async retryWithBackoff (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/utils/retry.js:61:20)\n    at async GeminiChat.sendMessageStream (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/core/geminiChat.js:287:36)\n    at async runNonInteractive (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/dist/src/nonInteractiveCli.js:43:36)\n    at async main (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/dist/src/gemini.js:154:5) {\n  config: {\n    url: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse',\n    method: 'POST',\n    params: { alt: 'sse' },\n    headers: {\n      'Content-Type': 'application/json',\n      'User-Agent': 'GeminiCLI/v20.19.0 (darwin; arm64) google-api-nodejs-client/9.15.1',\n      Authorization: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n      'x-goog-api-client': 'gl-node/20.19.0'\n    },\n    responseType: 'stream',\n    body: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n    signal: AbortSignal { aborted: false },\n    paramsSerializer: [Function: paramsSerializer],\n    validateStatus: [Function: validateStatus],\n    errorRedactor: [Function: defaultErrorRedactor]\n  },\n  response: {\n    config: {\n      url: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse',\n      method: 'POST',\n      params: [Object],\n      headers: [Object],\n      responseType: 'stream',\n      body: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n      signal: [AbortSignal],\n      paramsSerializer: [Function: paramsSerializer],\n      validateStatus: [Function: validateStatus],\n      errorRedactor: [Function: defaultErrorRedactor]\n    },\n    data: '[{\\n' +\n      '  \"error\": {\\n' +\n      '    \"code\": 429,\\n' +\n      '    \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\\n' +\n      '    \"errors\": [\\n' +\n      '      {\\n' +\n      '        \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\\n' +\n      '        \"domain\": \"global\",\\n' +\n      '        \"reason\": \"rateLimitExceeded\"\\n' +\n      '      }\\n' +\n      '    ],\\n' +\n      '    \"status\": \"RESOURCE_EXHAUSTED\"\\n' +\n      '  }\\n' +\n      '}\\n' +\n      ']',\n    headers: {\n      'alt-svc': 'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000',\n      'content-length': '514',\n      'content-type': 'application/json; charset=UTF-8',\n      date: 'Tue, 19 Aug 2025 15:19:14 GMT',\n      server: 'ESF',\n      'server-timing': 'gfet4t7; dur=459',\n      vary: 'Origin, X-Origin, Referer',\n      'x-content-type-options': 'nosniff',\n      'x-frame-options': 'SAMEORIGIN',\n      'x-xss-protection': '0'\n    },\n    status: 429,\n    statusText: 'Too Many Requests',\n    request: {\n      responseURL: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse'\n    }\n  },\n  error: undefined,\n  status: 429,\n  [Symbol(gaxios-gaxios-error)]: '6.7.1'\n}"}
{"timestamp":"2025-08-19T15:20:01.714Z","level":"debug","message":"Gemini response saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755616554898-mo0hbm/logs/responses/gemini-response-pr-req-1755616751081-shue4epn5-2025-08-19T15-20-01-714Z.json"}
{"timestamp":"2025-08-19T15:20:01.715Z","level":"info","message":"Review completed: 2 findings"}
{"timestamp":"2025-08-19T15:20:01.715Z","level":"debug","message":"Completed step 5: Plan and execute review"}
{"timestamp":"2025-08-19T15:20:01.715Z","level":"info","message":"\u001b[34m[6/8]\u001b[39m Processing and filtering findings..."}
{"timestamp":"2025-08-19T15:20:01.715Z","level":"debug","message":"Starting step 6: Process findings"}
{"timestamp":"2025-08-19T15:20:01.715Z","level":"info","message":"Found 2 total findings, 2 above threshold"}
{"timestamp":"2025-08-19T15:20:01.715Z","level":"debug","message":"Completed step 6: Process findings"}
{"timestamp":"2025-08-19T15:20:01.716Z","level":"info","message":"\u001b[34m[7/8]\u001b[39m Getting approval and posting comments..."}
{"timestamp":"2025-08-19T15:20:01.716Z","level":"debug","message":"Starting step 7: Get approval and post comments"}
{"timestamp":"2025-08-19T15:20:01.716Z","level":"info","message":"File                                       | Line | Severity | Message                                                                                                                                                                                                                                                                   | Rule               "}
{"timestamp":"2025-08-19T15:20:01.716Z","level":"info","message":"-------------------------------------------+------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------"}
{"timestamp":"2025-08-19T15:20:01.716Z","level":"info","message":"/__tests__/app/lib/location-helper.test.ts | 141  | ERROR    | Test dosyasÄ±nda `any` tÃ¼rÃ¼nÃ¼n kullanÄ±lmasÄ±, projenin `no-any-type` kuralÄ±nÄ± ihlal etmektedir. Tip gÃ¼venliÄŸi, testlerin gÃ¼venilirliÄŸi ve sÃ¼rdÃ¼rÃ¼lebilirliÄŸi iÃ§in de kritik Ã¶neme sahiptir.                                                                                 | no-any-type        "}
{"timestamp":"2025-08-19T15:20:01.717Z","level":"info","message":"/app/lib/location-helper.ts                | 276  | WARNING  | JSDoc yorumu yanlÄ±ÅŸ fonksiyonun Ã¼zerine eklenmiÅŸ. Yorum, `calculateLatitudeLongitudeAverageAndDelta` fonksiyonunu tanÄ±mlarken, `addDistanceToEachDestination` fonksiyonunun Ã¼zerinde yer alÄ±yor. Bu durum, kodu okumayÄ± zorlaÅŸtÄ±rÄ±r ve yanlÄ±ÅŸ anlaÅŸÄ±lmalara yol aÃ§abilir. | component-structure"}
{"timestamp":"2025-08-19T15:21:39.472Z","level":"debug","message":"Completed getApproval"}
{"timestamp":"2025-08-19T15:21:39.473Z","level":"info","message":"Mapping 2 findings to ADO comment threads"}
{"timestamp":"2025-08-19T15:21:39.474Z","level":"info","message":"Mapping completed: 2 threads, 2 comments"}
{"timestamp":"2025-08-19T15:21:39.475Z","level":"info","message":"Posting 2 comment threads to PR 18705"}
{"timestamp":"2025-08-19T15:21:39.475Z","level":"debug","message":"Fetching comment threads for PR 18705"}
{"timestamp":"2025-08-19T15:21:39.476Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18705/threads"}
{"timestamp":"2025-08-19T15:21:39.868Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18705/threads"}
{"timestamp":"2025-08-19T15:21:39.868Z","level":"debug","message":"Successfully fetched 1 comment threads"}
{"timestamp":"2025-08-19T15:21:39.869Z","level":"debug","message":"Found 1 existing comment threads"}
{"timestamp":"2025-08-19T15:21:39.869Z","level":"debug","message":"Processing batch 1/1 (2 threads)"}
{"timestamp":"2025-08-19T15:21:39.869Z","level":"debug","message":"Creating new thread at /__tests__/app/lib/location-helper.test.ts:141"}
{"timestamp":"2025-08-19T15:21:39.870Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T15:21:39.870Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18705/threads"}
{"timestamp":"2025-08-19T15:21:40.102Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18705/threads"}
{"timestamp":"2025-08-19T15:21:40.102Z","level":"debug","message":"Successfully created comment thread 61418"}
{"timestamp":"2025-08-19T15:21:40.102Z","level":"debug","message":"Creating new thread at /app/lib/location-helper.ts:276"}
{"timestamp":"2025-08-19T15:21:40.102Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T15:21:40.103Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18705/threads"}
{"timestamp":"2025-08-19T15:21:40.380Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18705/threads"}
{"timestamp":"2025-08-19T15:21:40.381Z","level":"debug","message":"Successfully created comment thread 61419"}
{"timestamp":"2025-08-19T15:21:40.381Z","level":"info","message":"Comment posting completed: 2 threads created, 2 comments created"}
{"timestamp":"2025-08-19T15:21:40.381Z","level":"debug","message":"Completed step 7: Get approval and post comments"}
{"timestamp":"2025-08-19T15:21:40.381Z","level":"info","message":"\u001b[34m[8/8]\u001b[39m Updating PR status and cleaning up..."}
{"timestamp":"2025-08-19T15:21:40.381Z","level":"debug","message":"Starting step 8: Update PR status"}
{"timestamp":"2025-08-19T15:21:40.382Z","level":"debug","message":"Completed step 8: Update PR status"}
{"timestamp":"2025-08-19T15:21:40.382Z","level":"info","message":"\u001b[32mâœ… Review completed successfully in 345488ms\u001b[39m"}
{"timestamp":"2025-08-19T15:21:40.382Z","level":"info","message":"Cleaning up workspace: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755616554898-mo0hbm"}
{"timestamp":"2025-08-19T15:21:41.055Z","level":"info","message":"Workspace cleanup completed: 3972 files, 982 directories deleted"}
{"timestamp":"2025-08-19T16:07:18.169Z","level":"info","message":"\u001b[34mðŸš€ Starting Azure DevOps PR Review...\u001b[39m"}
{"timestamp":"2025-08-19T16:07:18.170Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T16:07:18.170Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T16:07:18.171Z","level":"info","message":"\u001b[34m[1/8]\u001b[39m Initializing and validating options..."}
{"timestamp":"2025-08-19T16:07:18.171Z","level":"debug","message":"Starting step 1: Initialize"}
{"timestamp":"2025-08-19T16:07:18.172Z","level":"info","message":"Loading configuration..."}
{"timestamp":"2025-08-19T16:07:18.173Z","level":"debug","message":"Found .adorevrc.yaml in project root, loading configuration"}
{"timestamp":"2025-08-19T16:07:18.173Z","level":"debug","message":"Project root configuration loaded successfully"}
{"timestamp":"2025-08-19T16:07:18.173Z","level":"info","message":"Using configuration from: project-root"}
{"timestamp":"2025-08-19T16:07:18.173Z","level":"debug","message":"Log level overridden by ADO_REVIEW_LOG_LEVEL: debug"}
{"timestamp":"2025-08-19T16:07:18.173Z","level":"debug","message":"Configuration loaded and merged successfully"}
{"timestamp":"2025-08-19T16:07:18.173Z","level":"debug","message":"Gemini timeout: 120000ms"}
{"timestamp":"2025-08-19T16:07:18.173Z","level":"debug","message":"Current log level: debug"}
{"timestamp":"2025-08-19T16:07:18.174Z","level":"debug","message":"Initializing GeminiAdapter with timeout: 120000ms"}
{"timestamp":"2025-08-19T16:07:18.174Z","level":"debug","message":"GeminiAdapter initialized with default timeout: 120000ms"}
{"timestamp":"2025-08-19T16:07:18.174Z","level":"debug","message":"All components initialized successfully"}
{"timestamp":"2025-08-19T16:07:18.175Z","level":"debug","message":"Completed step 1: Initialize"}
{"timestamp":"2025-08-19T16:07:18.175Z","level":"info","message":"\u001b[34m[2/8]\u001b[39m Setting up temporary workspace..."}
{"timestamp":"2025-08-19T16:07:18.175Z","level":"debug","message":"Starting step 2: Setup workspace"}
{"timestamp":"2025-08-19T16:07:18.186Z","level":"info","message":"Workspace created: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755619638175-fr74sx"}
{"timestamp":"2025-08-19T16:07:18.187Z","level":"debug","message":"Workspace config path: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755619638175-fr74sx/.adorevrc.yaml"}
{"timestamp":"2025-08-19T16:07:18.187Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T16:07:18.187Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T16:07:18.187Z","level":"debug","message":"Completed step 2: Setup workspace"}
{"timestamp":"2025-08-19T16:07:18.187Z","level":"info","message":"\u001b[34m[3/8]\u001b[39m Fetching PR information and changes..."}
{"timestamp":"2025-08-19T16:07:18.187Z","level":"debug","message":"Starting step 3: Fetch PR info and diffs"}
{"timestamp":"2025-08-19T16:07:18.187Z","level":"debug","message":"Fetching PR 18765 info"}
{"timestamp":"2025-08-19T16:07:18.188Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18765"}
{"timestamp":"2025-08-19T16:07:18.661Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18765"}
{"timestamp":"2025-08-19T16:07:18.661Z","level":"debug","message":"Successfully fetched PR 18765 info"}
{"timestamp":"2025-08-19T16:07:18.661Z","level":"debug","message":"Response status: 200"}
{"timestamp":"2025-08-19T16:07:18.662Z","level":"debug","message":"Response data keys:"}
{"timestamp":"2025-08-19T16:07:18.662Z","level":"debug","message":"PR Info structure:"}
{"timestamp":"2025-08-19T16:07:18.662Z","level":"debug","message":"Completed fetchPRInfo"}
{"timestamp":"2025-08-19T16:07:18.662Z","level":"debug","message":"fetchDiffs - prInfo structure:"}
{"timestamp":"2025-08-19T16:07:18.662Z","level":"info","message":"Cloning repository: https://inploid@dev.azure.com/inploid/AuditReactProject/_git/AuditReactProject.RN0.71.X"}
{"timestamp":"2025-08-19T16:07:18.662Z","level":"debug","message":"Clone options: {\"branch\":\"refs/heads/feature/TDM-14372\",\"workingDirectory\":\"/var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755619638175-fr74sx/source\"}"}
{"timestamp":"2025-08-19T16:07:18.662Z","level":"debug","message":"Executing: git init "}
{"timestamp":"2025-08-19T16:07:18.687Z","level":"debug","message":"Executing: git remote add origin https://inploid@dev.azure.com/inploid/AuditReactProject/_git/AuditReactProject.RN0.71.X"}
{"timestamp":"2025-08-19T16:07:18.698Z","level":"debug","message":"Executing: git fetch origin refs/heads/feature/TDM-14372"}
{"timestamp":"2025-08-19T16:07:50.055Z","level":"debug","message":"Executing: git checkout -b local-branch origin/feature/TDM-14372"}
{"timestamp":"2025-08-19T16:07:50.638Z","level":"debug","message":"Executing: git rev-parse HEAD"}
{"timestamp":"2025-08-19T16:07:50.652Z","level":"info","message":"Successfully cloned repository to /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755619638175-fr74sx/source"}
{"timestamp":"2025-08-19T16:07:50.652Z","level":"debug","message":"Commit ID: 677c15def5361481ebf009d6b17681ced7fa2045"}
{"timestamp":"2025-08-19T16:07:50.652Z","level":"debug","message":"Reinitializing ConfigLoader with cloned workspace directory:"}
{"timestamp":"2025-08-19T16:07:50.653Z","level":"debug","message":"Workspace config path: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755619638175-fr74sx/source/.adorevrc.yaml"}
{"timestamp":"2025-08-19T16:07:50.653Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T16:07:50.653Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T16:07:50.655Z","level":"debug","message":"Found .adorevrc.yaml in project root, loading configuration"}
{"timestamp":"2025-08-19T16:07:50.655Z","level":"debug","message":"Project root configuration loaded successfully"}
{"timestamp":"2025-08-19T16:07:50.655Z","level":"info","message":"Using configuration from: project-root"}
{"timestamp":"2025-08-19T16:07:50.656Z","level":"debug","message":"Log level overridden by ADO_REVIEW_LOG_LEVEL: debug"}
{"timestamp":"2025-08-19T16:07:50.656Z","level":"debug","message":"Configuration loaded and merged successfully"}
{"timestamp":"2025-08-19T16:07:50.656Z","level":"debug","message":"Gemini timeout: 120000ms"}
{"timestamp":"2025-08-19T16:07:50.656Z","level":"debug","message":"Current log level: debug"}
{"timestamp":"2025-08-19T16:07:50.656Z","level":"debug","message":"Reloaded configuration from workspace:"}
{"timestamp":"2025-08-19T16:07:50.657Z","level":"info","message":"Fetching iteration changes for PR 18765"}
{"timestamp":"2025-08-19T16:07:50.658Z","level":"debug","message":"Fetching PR 18765 iterations"}
{"timestamp":"2025-08-19T16:07:50.659Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18765/iterations"}
{"timestamp":"2025-08-19T16:07:50.853Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18765/iterations"}
{"timestamp":"2025-08-19T16:07:50.853Z","level":"debug","message":"Successfully fetched 1 iterations"}
{"timestamp":"2025-08-19T16:07:50.853Z","level":"debug","message":"Fetching changes for iteration 1"}
{"timestamp":"2025-08-19T16:07:50.853Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18765/iterations/1/changes"}
{"timestamp":"2025-08-19T16:07:51.034Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18765/iterations/1/changes"}
{"timestamp":"2025-08-19T16:07:51.034Z","level":"debug","message":"Successfully fetched 11 changes"}
{"timestamp":"2025-08-19T16:07:51.034Z","level":"debug","message":"Processing iteration changes with 11 file changes"}
{"timestamp":"2025-08-19T16:07:51.034Z","level":"debug","message":"Processing iteration change for file: /__mocks__/@react-native-community/geolocation.js"}
{"timestamp":"2025-08-19T16:07:51.034Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 677c15def5361481ebf009d6b17681ced7fa2045"}
{"timestamp":"2025-08-19T16:07:51.034Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 677c15def5361481ebf009d6b17681ced7fa2045 -- __mocks__/@react-native-community/geolocation.js"}
{"timestamp":"2025-08-19T16:07:51.051Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:07:51.052Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/location-helper.test.ts"}
{"timestamp":"2025-08-19T16:07:51.052Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 677c15def5361481ebf009d6b17681ced7fa2045"}
{"timestamp":"2025-08-19T16:07:51.052Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 677c15def5361481ebf009d6b17681ced7fa2045 -- __tests__/app/lib/location-helper.test.ts"}
{"timestamp":"2025-08-19T16:07:51.070Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:07:51.071Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/regex-validate-operation.test.ts"}
{"timestamp":"2025-08-19T16:07:51.071Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 677c15def5361481ebf009d6b17681ced7fa2045"}
{"timestamp":"2025-08-19T16:07:51.072Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 677c15def5361481ebf009d6b17681ced7fa2045 -- __tests__/app/lib/regex-validate-operation.test.ts"}
{"timestamp":"2025-08-19T16:07:51.088Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:07:51.089Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/print-provider.test.ts"}
{"timestamp":"2025-08-19T16:07:51.089Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 677c15def5361481ebf009d6b17681ced7fa2045"}
{"timestamp":"2025-08-19T16:07:51.089Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 677c15def5361481ebf009d6b17681ced7fa2045 -- __tests__/app/lib/print-provider.test.ts"}
{"timestamp":"2025-08-19T16:07:51.104Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:07:51.104Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/orientation.test.ts"}
{"timestamp":"2025-08-19T16:07:51.104Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 677c15def5361481ebf009d6b17681ced7fa2045"}
{"timestamp":"2025-08-19T16:07:51.104Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 677c15def5361481ebf009d6b17681ced7fa2045 -- __tests__/app/lib/orientation.test.ts"}
{"timestamp":"2025-08-19T16:07:51.118Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:07:51.118Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/request-service-helper.test.ts"}
{"timestamp":"2025-08-19T16:07:51.118Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 677c15def5361481ebf009d6b17681ced7fa2045"}
{"timestamp":"2025-08-19T16:07:51.118Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 677c15def5361481ebf009d6b17681ced7fa2045 -- __tests__/app/lib/request-service-helper.test.ts"}
{"timestamp":"2025-08-19T16:07:51.132Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:07:51.132Z","level":"debug","message":"Processing iteration change for file: /app/lib/regex-validate-operation.ts"}
{"timestamp":"2025-08-19T16:07:51.132Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 677c15def5361481ebf009d6b17681ced7fa2045"}
{"timestamp":"2025-08-19T16:07:51.132Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 677c15def5361481ebf009d6b17681ced7fa2045 -- app/lib/regex-validate-operation.ts"}
{"timestamp":"2025-08-19T16:07:51.153Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:07:51.153Z","level":"debug","message":"Processing iteration change for file: /app/lib/orientation.ts"}
{"timestamp":"2025-08-19T16:07:51.154Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 677c15def5361481ebf009d6b17681ced7fa2045"}
{"timestamp":"2025-08-19T16:07:51.154Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 677c15def5361481ebf009d6b17681ced7fa2045 -- app/lib/orientation.ts"}
{"timestamp":"2025-08-19T16:07:51.170Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:07:51.170Z","level":"debug","message":"Processing iteration change for file: /app/lib/location-helper.ts"}
{"timestamp":"2025-08-19T16:07:51.170Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 677c15def5361481ebf009d6b17681ced7fa2045"}
{"timestamp":"2025-08-19T16:07:51.170Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 677c15def5361481ebf009d6b17681ced7fa2045 -- app/lib/location-helper.ts"}
{"timestamp":"2025-08-19T16:07:51.183Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:07:51.183Z","level":"debug","message":"Processing iteration change for file: /app/lib/request-service-helper.ts"}
{"timestamp":"2025-08-19T16:07:51.183Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 677c15def5361481ebf009d6b17681ced7fa2045"}
{"timestamp":"2025-08-19T16:07:51.183Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 677c15def5361481ebf009d6b17681ced7fa2045 -- app/lib/request-service-helper.ts"}
{"timestamp":"2025-08-19T16:07:51.196Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:07:51.196Z","level":"debug","message":"Processing iteration change for file: /app/lib/print-provider.ts"}
{"timestamp":"2025-08-19T16:07:51.196Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 677c15def5361481ebf009d6b17681ced7fa2045"}
{"timestamp":"2025-08-19T16:07:51.196Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 677c15def5361481ebf009d6b17681ced7fa2045 -- app/lib/print-provider.ts"}
{"timestamp":"2025-08-19T16:07:51.215Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:07:51.215Z","level":"info","message":"Successfully fetched diff: 11 files, +1256/-65 lines"}
{"timestamp":"2025-08-19T16:07:51.216Z","level":"debug","message":"Diff data saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755619638175-fr74sx/logs/diffs/diff-pr-pr-18765-2025-08-19T16-07-51-216Z.txt"}
{"timestamp":"2025-08-19T16:07:51.216Z","level":"debug","message":"Completed step 3: Fetch PR info and diffs"}
{"timestamp":"2025-08-19T16:07:51.216Z","level":"info","message":"\u001b[34m[4/8]\u001b[39m Loading rules and building review context..."}
{"timestamp":"2025-08-19T16:07:51.217Z","level":"debug","message":"Starting step 4: Load rules and build context"}
{"timestamp":"2025-08-19T16:07:51.217Z","level":"info","message":"Loading review rules and guidelines"}
{"timestamp":"2025-08-19T16:07:51.217Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T16:07:51.217Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T16:07:51.224Z","level":"warn","message":"No rules found in /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T16:07:51.225Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T16:07:51.226Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T16:07:51.239Z","level":"debug","message":"Loaded 28 rules from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T16:07:51.239Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T16:07:51.240Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T16:07:51.243Z","level":"debug","message":"Loaded guideline \"Azure DevOps Review Rules\" from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T16:07:51.243Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T16:07:51.247Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T16:07:51.248Z","level":"debug","message":"Loaded guideline \"React Native Field App - Architecture Guide\" from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T16:07:51.248Z","level":"info","message":"Loaded 1 rule sets, 28 total rules (28 enabled), 2 guidelines"}
{"timestamp":"2025-08-19T16:07:51.249Z","level":"debug","message":"Completed loadRules"}
{"timestamp":"2025-08-19T16:07:51.250Z","level":"info","message":"Building review context"}
{"timestamp":"2025-08-19T16:07:51.255Z","level":"info","message":"Context built: 11 files, 25 hunks, 28 rules, 2 guidelines"}
{"timestamp":"2025-08-19T16:07:51.255Z","level":"debug","message":"Completed step 4: Load rules and build context"}
{"timestamp":"2025-08-19T16:07:51.256Z","level":"info","message":"\u001b[34m[5/8]\u001b[39m Planning and executing AI review..."}
{"timestamp":"2025-08-19T16:07:51.256Z","level":"debug","message":"Starting step 5: Plan and execute review"}
{"timestamp":"2025-08-19T16:07:51.257Z","level":"info","message":"Creating review plan"}
{"timestamp":"2025-08-19T16:07:51.257Z","level":"debug","message":"Completed planReview"}
{"timestamp":"2025-08-19T16:07:51.258Z","level":"debug","message":"Executing Gemini review with plan"}
{"timestamp":"2025-08-19T16:07:51.258Z","level":"info","message":"Executing single batch review"}
{"timestamp":"2025-08-19T16:07:51.258Z","level":"info","message":"Starting Gemini review with model: gemini-2.5-flash"}
{"timestamp":"2025-08-19T16:07:51.260Z","level":"debug","message":"Prompt data saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755619638175-fr74sx/logs/prompts/prompt-pr-review-2025-08-19T16-07-51-259Z.txt"}
{"timestamp":"2025-08-19T16:07:51.262Z","level":"debug","message":"Spawning Gemini CLI with stdin approach"}
{"timestamp":"2025-08-19T16:07:52.551Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T16:07:52.626Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T16:07:52.654Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T16:08:41.027Z","level":"debug","message":"Gemini CLI stdout: ```json\n{\n  \"findings\": [\n    {\n      \"file\": \"/__tests__/app/lib/location-helper.test.ts\",\n      \"line\": 32,\n      \"endLine\": 32,\n      \"severity\": \"error\",\n      \"message\":"}
{"timestamp":"2025-08-19T16:08:41.071Z","level":"debug","message":"Gemini CLI stdout: \"Test dosyasÄ±nda 'any' tÃ¼rÃ¼nÃ¼n kullanÄ±mÄ±, projenin katÄ± tÃ¼r gÃ¼venliÄŸi kurallarÄ±na aykÄ±rÄ±dÄ±r. Testler de dahil olmak Ã¼zere tÃ¼m kod tabanÄ±nda tÃ¼r gÃ¼venliÄŸinin saÄŸlanmasÄ±, hatalarÄ± erken aÅŸamada yakalamak ve kodun sÃ¼rdÃ¼rÃ¼lebilirliÄŸini artÄ±rmak"}
{"timestamp":"2025-08-19T16:08:41.165Z","level":"debug","message":"Gemini CLI stdout: iÃ§in kritik Ã¶neme sahiptir.\",\n      \"suggestion\": \"LÃ¼tfen 'any' yerine uygun ve spesifik tÃ¼rler tanÄ±mlayÄ±n. Ã–rneÄŸin, `arr: any[]` yerine `arr: Record<string, unknown>[]` veya daha spesifik bir arayÃ¼z/tÃ¼r kullanÄ±n. Mock nesneleri"}
{"timestamp":"2025-08-19T16:08:41.215Z","level":"debug","message":"Gemini CLI stdout: ve fonksiyonlarÄ± iÃ§in `jest.Mocked<T>` gibi yardÄ±mcÄ±larÄ± veya daha kesin tÃ¼rleri kullanmayÄ± dÃ¼ÅŸÃ¼nÃ¼n. Bu, testlerinizin daha gÃ¼venilir ve okunabilir olmasÄ±nÄ± saÄŸlar.\",\n      \"ruleId\": \"no-any-type\",\n      \"category\": \"typescript\"\n    },\n    {"}
{"timestamp":"2025-08-19T16:08:41.288Z","level":"debug","message":"Gemini CLI stdout: \"file\": \"/__tests__/app/lib/request-service-helper.test.ts\",\n      \"line\": 2,\n      \"endLine\": 215,\n      \"severity\": \"error\",\n      \"message\": \"ðŸž Bu test dosyasÄ±, test edilmesi"}
{"timestamp":"2025-08-19T16:08:41.356Z","level":"debug","message":"Gemini CLI stdout: gereken fonksiyonlarÄ± (`checkDynamicFieldRequiredAnswers`, `checkIfAssembleProductHasNoSerialNumber` vb.) `jest.fn()` ile mock'layarak kendi mock'larÄ±nÄ± test etmektedir. Bu durum, `request-service-helper.ts` iÃ§erisindeki gerÃ§ek iÅŸ mantÄ±ÄŸÄ±nÄ±n hiÃ§bir zaman test edilmemesine"}
{"timestamp":"2025-08-19T16:08:41.443Z","level":"debug","message":"Gemini CLI stdout: neden olur ve bu test dosyasÄ±nÄ± tamamen iÅŸlevsiz kÄ±lar.\",\n      \"suggestion\": \"LÃ¼tfen `jest.fn()` ile sahte implementasyonlar oluÅŸturmak yerine, `request-service-helper.ts` dosyasÄ±ndan gerÃ§ek fonksiyonlarÄ± import edin ve bu fonksiyonlarÄ±n davranÄ±ÅŸlarÄ±nÄ± Ã§eÅŸitli girdiler"}
{"timestamp":"2025-08-19T16:08:41.555Z","level":"debug","message":"Gemini CLI stdout: le doÄŸrulayan test senaryolarÄ± yazÄ±n. Ã–rneÄŸin: `import { checkDynamicFieldRequiredAnswers } from '../../../app/lib/request-service-helper';` ÅŸeklinde import edip, `checkDynamicFieldRequiredAnswers` fonksiyonunu gerÃ§ek verilerle Ã§aÄŸÄ±rmalÄ±sÄ±nÄ±z.\",\n      \"ruleId\": \""}
{"timestamp":"2025-08-19T16:08:41.570Z","level":"debug","message":"Gemini CLI stdout: unit-test-coverage\",\n      \"category\": \"testing\"\n    },\n    {\n      \"file\": \"/app/lib/location-helper.ts\",\n      \"line\": 272,\n      \"endLine\": 284,\n      \"severity\": \"warning"}
{"timestamp":"2025-08-19T16:08:41.628Z","level":"debug","message":"Gemini CLI stdout: \",\n      \"message\": \"ðŸ’¡ Fonksiyonun Ã¼zerindeki JSDoc aÃ§Ä±klamasÄ±, `addDistanceToEachDestination` fonksiyonunun iÅŸleviyle eÅŸleÅŸmiyor. AÃ§Ä±klama, enlem/boylam listelerinden ortalama konum ve delta hesaplayan bir fonksiyonu tarif ederken, altÄ±ndaki fonksiyon mevcut"}
{"timestamp":"2025-08-19T16:08:42.180Z","level":"debug","message":"Gemini CLI stdout: konuma gÃ¶re hedeflere mesafe eklemektedir. Bu durum kodun yanlÄ±ÅŸ anlaÅŸÄ±lmasÄ±na yol aÃ§abilir.\",\n      \"suggestion\": \"LÃ¼tfen JSDoc aÃ§Ä±klamasÄ±nÄ±, belgelediÄŸi `addDistanceToEachDestination` fonksiyonunun gerÃ§ek iÅŸlevini doÄŸru bir ÅŸekilde yansÄ±tacak ÅŸekilde gÃ¼ncelleyin veya bu"}
{"timestamp":"2025-08-19T16:08:42.789Z","level":"debug","message":"Gemini CLI stdout: yorumu ilgili olduÄŸu doÄŸru fonksiyonun Ã¼zerine taÅŸÄ±yÄ±n.\",\n      \"ruleId\": \"component-structure\",\n      \"category\": \"code-quality\"\n    },\n    {\n      \"file\": \"/app/lib/regex-validate-operation.ts\",\n      \"line\": 1,"}
{"timestamp":"2025-08-19T16:08:43.679Z","level":"debug","message":"Gemini CLI stdout: \"endLine\": 36,\n      \"severity\": \"info\",\n      \"message\": \"ðŸ’¡ Fonksiyonlar iÃ§in eklenen JSDoc aÃ§Ä±klamalarÄ± kodun okunabilirliÄŸini ve anlaÅŸÄ±lÄ±rlÄ±ÄŸÄ±nÄ± artÄ±rÄ±yor. Bu, iyi bir pratiktir.\",\n      \"suggestion\": \"T"}
{"timestamp":"2025-08-19T16:08:44.345Z","level":"debug","message":"Gemini CLI stdout: Ã¼m yeni ve mevcut fonksiyonlar iÃ§in benzer ÅŸekilde dokÃ¼mantasyon eklemeye devam edin. Ã–zellikle karmaÅŸÄ±k iÅŸ mantÄ±ÄŸÄ± iÃ§eren fonksiyonlar iÃ§in bu Ã§ok daha Ã¶nemlidir.\",\n      \"ruleId\": \"proper-exports\",\n      \"category\": \"code-quality\"\n    },\n    {\n      \"file\":"}
{"timestamp":"2025-08-19T16:08:44.944Z","level":"debug","message":"Gemini CLI stdout: \"/app/lib/orientation.ts\",\n      \"line\": 4,\n      \"endLine\": 67,\n      \"severity\": \"info\",\n      \"message\": \"ðŸ’¡ Hook'lar iÃ§in eklenen JSDoc aÃ§Ä±klamalarÄ±, component'lerin nasÄ±l kullanÄ±lacaÄŸÄ±nÄ± anlamayÄ± kolaylaÅŸtÄ±rÄ±r"}
{"timestamp":"2025-08-19T16:08:45.624Z","level":"debug","message":"Gemini CLI stdout: ve projenin genel kalitesini yÃ¼kseltir.\",\n      \"suggestion\": \"TÃ¼m custom hook'lar iÃ§in dÃ¶nÃ¼ÅŸ deÄŸerleri ve parametreleri detaylÄ± bir ÅŸekilde aÃ§Ä±klayan JSDoc standartÄ±nÄ± koruyun.\",\n      \"ruleId\": \"proper-exports\",\n      \"category\": \"code"}
{"timestamp":"2025-08-19T16:08:46.079Z","level":"debug","message":"Gemini CLI stdout: -quality\"\n    },\n    {\n      \"file\": \"/app/lib/request-service-helper.ts\",\n      \"line\": 3,\n      \"endLine\": 210,\n      \"severity\": \"info\",\n      \"message\": \"ðŸ’¡ Fonksiyonlara"}
{"timestamp":"2025-08-19T16:08:46.785Z","level":"debug","message":"Gemini CLI stdout: eklenen JSDoc aÃ§Ä±klamalarÄ±, Ã¶zellikle karmaÅŸÄ±k iÅŸ kurallarÄ±nÄ± iÃ§eren yardÄ±mcÄ± fonksiyonlarÄ±n ne iÅŸe yaradÄ±ÄŸÄ±nÄ± anlamak iÃ§in Ã§ok faydalÄ±dÄ±r.\",\n      \"suggestion\": \"Kod iÃ§erisinde `// TODO: ... Ã‡AÄžLAR BURAYA BAK !!!` gibi geÃ§ici yorumlar bÄ±rakmak yerine, bu"}
{"timestamp":"2025-08-19T16:08:47.460Z","level":"debug","message":"Gemini CLI stdout: tÃ¼r notlarÄ± gÃ¶rev takip sisteminizde (Ã¶rn. Azure DevOps) ilgili iÅŸ Ã¶ÄŸesine yorum olarak eklemeyi veya ayrÄ± bir gÃ¶rev olarak oluÅŸturmayÄ± dÃ¼ÅŸÃ¼nÃ¼n. Bu, kodun daha temiz kalmasÄ±nÄ± saÄŸlar.\",\n      \"ruleId\": \"proper-exports\",\n      \"category\": \"code-quality\""}
{"timestamp":"2025-08-19T16:08:48.016Z","level":"debug","message":"Gemini CLI stdout: }\n  ],\n  \"summary\": \"DeÄŸerlendirme sonucunda iyileÅŸtirilmesi gereken birkaÃ§ alan tespit edilmiÅŸtir. Ã–zellikle bir test dosyasÄ±nda (`request-service-helper.test.ts`) gerÃ§ek implementasyon yerine mock'larÄ±n test edildiÄŸi kritik bir sorun bulundu, bu da testi etk"}
{"timestamp":"2025-08-19T16:08:48.593Z","level":"debug","message":"Gemini CLI stdout: isiz kÄ±lÄ±yor. AyrÄ±ca, baÅŸka bir test dosyasÄ±nda projenin katÄ± tÃ¼r kurallarÄ±na aykÄ±rÄ± olan `any` tÃ¼rÃ¼nÃ¼n yaygÄ±n kullanÄ±mÄ± dikkat Ã§ekiyor. Son olarak, JSDoc yorumuyla fonksiyonun uyuÅŸmadÄ±ÄŸÄ± kÃ¼Ã§Ã¼k bir dokÃ¼mantasyon sorunu belirtilmiÅŸtir. Kod"}
{"timestamp":"2025-08-19T16:08:48.793Z","level":"debug","message":"Gemini CLI stdout: kalitesini ve test gÃ¼venilirliÄŸini artÄ±rmak iÃ§in lÃ¼tfen bu noktalarÄ± dÃ¼zeltin.\"\n}\n```"}
{"timestamp":"2025-08-19T16:08:48.800Z","level":"debug","message":"Gemini CLI stdout: "}
{"timestamp":"2025-08-19T16:08:48.812Z","level":"debug","message":"Gemini CLI exited with code: 0"}
{"timestamp":"2025-08-19T16:08:48.812Z","level":"debug","message":"Gemini CLI final stdout: [dotenv@16.6.0] injecting env (9) from .env\n[dotenv@16.6.0] injecting env (9) from .env\n[dotenv@16.6.0] injecting env (9) from .env\n```json\n{\n  \"findings\": [\n    {\n      \"file\": \"/__tests__/app/lib/location-helper.test.ts\",\n      \"line\": 32,\n      \"endLine\": 32,\n      \"severity\": \"error\",\n      \"message\": \"Test dosyasÄ±nda 'any' tÃ¼rÃ¼nÃ¼n kullanÄ±mÄ±, projenin katÄ± tÃ¼r gÃ¼venliÄŸi kurallarÄ±na aykÄ±rÄ±dÄ±r. Testler de dahil olmak Ã¼zere tÃ¼m kod tabanÄ±nda tÃ¼r gÃ¼venliÄŸinin saÄŸlanmasÄ±, hatalarÄ± erken aÅŸamada yakalamak ve kodun sÃ¼rdÃ¼rÃ¼lebilirliÄŸini artÄ±rmak iÃ§in kritik Ã¶neme sahiptir.\",\n      \"suggestion\": \"LÃ¼tfen 'any' yerine uygun ve spesifik tÃ¼rler tanÄ±mlayÄ±n. Ã–rneÄŸin, `arr: any[]` yerine `arr: Record<string, unknown>[]` veya daha spesifik bir arayÃ¼z/tÃ¼r kullanÄ±n. Mock nesneleri ve fonksiyonlarÄ± iÃ§in `jest.Mocked<T>` gibi yardÄ±mcÄ±larÄ± veya daha kesin tÃ¼rleri kullanmayÄ± dÃ¼ÅŸÃ¼nÃ¼n. Bu, testlerinizin daha gÃ¼venilir ve okunabilir olmasÄ±nÄ± saÄŸlar.\",\n      \"ruleId\": \"no-any-type\",\n      \"category\": \"typescript\"\n    },\n    {\n      \"file\": \"/__tests__/app/lib/request-service-helper.test.ts\",\n      \"line\": 2,\n      \"endLine\": 215,\n      \"severity\": \"error\",\n      \"message\": \"ðŸž Bu test dosyasÄ±, test edilmesi gereken fonksiyonlarÄ± (`checkDynamicFieldRequiredAnswers`, `checkIfAssembleProductHasNoSerialNumber` vb.) `jest.fn()` ile mock'layarak kendi mock'larÄ±nÄ± test etmektedir. Bu durum, `request-service-helper.ts` iÃ§erisindeki gerÃ§ek iÅŸ mantÄ±ÄŸÄ±nÄ±n hiÃ§bir zaman test edilmemesine neden olur ve bu test dosyasÄ±nÄ± tamamen iÅŸlevsiz kÄ±lar.\",\n      \"suggestion\": \"LÃ¼tfen `jest.fn()` ile sahte implementasyonlar oluÅŸturmak yerine, `request-service-helper.ts` dosyasÄ±ndan gerÃ§ek fonksiyonlarÄ± import edin ve bu fonksiyonlarÄ±n davranÄ±ÅŸlarÄ±nÄ± Ã§eÅŸitli girdilerle doÄŸrulayan test senaryolarÄ± yazÄ±n. Ã–rneÄŸin: `import { checkDynamicFieldRequiredAnswers } from '../../../app/lib/request-service-helper';` ÅŸeklinde import edip, `checkDynamicFieldRequiredAnswers` fonksiyonunu gerÃ§ek verilerle Ã§aÄŸÄ±rmalÄ±sÄ±nÄ±z.\",\n      \"ruleId\": \"unit-test-coverage\",\n      \"category\": \"testing\"\n    },\n    {\n      \"file\": \"/app/lib/location-helper.ts\",\n      \"line\": 272,\n      \"endLine\": 284,\n      \"severity\": \"warning\",\n      \"message\": \"ðŸ’¡ Fonksiyonun Ã¼zerindeki JSDoc aÃ§Ä±klamasÄ±, `addDistanceToEachDestination` fonksiyonunun iÅŸleviyle eÅŸleÅŸmiyor. AÃ§Ä±klama, enlem/boylam listelerinden ortalama konum ve delta hesaplayan bir fonksiyonu tarif ederken, altÄ±ndaki fonksiyon mevcut konuma gÃ¶re hedeflere mesafe eklemektedir. Bu durum kodun yanlÄ±ÅŸ anlaÅŸÄ±lmasÄ±na yol aÃ§abilir.\",\n      \"suggestion\": \"LÃ¼tfen JSDoc aÃ§Ä±klamasÄ±nÄ±, belgelediÄŸi `addDistanceToEachDestination` fonksiyonunun gerÃ§ek iÅŸlevini doÄŸru bir ÅŸekilde yansÄ±tacak ÅŸekilde gÃ¼ncelleyin veya bu yorumu ilgili olduÄŸu doÄŸru fonksiyonun Ã¼zerine taÅŸÄ±yÄ±n.\",\n      \"ruleId\": \"component-structure\",\n      \"category\": \"code-quality\"\n    },\n    {\n      \"file\": \"/app/lib/regex-validate-operation.ts\",\n      \"line\": 1,\n      \"endLine\": 36,\n      \"severity\": \"info\",\n      \"message\": \"ðŸ’¡ Fonksiyonlar iÃ§in eklenen JSDoc aÃ§Ä±klamalarÄ± kodun okunabilirliÄŸini ve anlaÅŸÄ±lÄ±rlÄ±ÄŸÄ±nÄ± artÄ±rÄ±yor. Bu, iyi bir pratiktir.\",\n      \"suggestion\": \"TÃ¼m yeni ve mevcut fonksiyonlar iÃ§in benzer ÅŸekilde dokÃ¼mantasyon eklemeye devam edin. Ã–zellikle karmaÅŸÄ±k iÅŸ mantÄ±ÄŸÄ± iÃ§eren fonksiyonlar iÃ§in bu Ã§ok daha Ã¶nemlidir.\",\n      \"ruleId\": \"proper-exports\",\n      \"category\": \"code-quality\"\n    },\n    {\n      \"file\": \"/app/lib/orientation.ts\",\n      \"line\": 4,\n      \"endLine\": 67,\n      \"severity\": \"info\",\n      \"message\": \"ðŸ’¡ Hook'lar iÃ§in eklenen JSDoc aÃ§Ä±klamalarÄ±, component'lerin nasÄ±l kullanÄ±lacaÄŸÄ±nÄ± anlamayÄ± kolaylaÅŸtÄ±rÄ±r ve projenin genel kalitesini yÃ¼kseltir.\",\n      \"suggestion\": \"TÃ¼m custom hook'lar iÃ§in dÃ¶nÃ¼ÅŸ deÄŸerleri ve parametreleri detaylÄ± bir ÅŸekilde aÃ§Ä±klayan JSDoc standartÄ±nÄ± koruyun.\",\n      \"ruleId\": \"proper-exports\",\n      \"category\": \"code-quality\"\n    },\n    {\n      \"file\": \"/app/lib/request-service-helper.ts\",\n      \"line\": 3,\n      \"endLine\": 210,\n      \"severity\": \"info\",\n      \"message\": \"ðŸ’¡ Fonksiyonlara eklenen JSDoc aÃ§Ä±klamalarÄ±, Ã¶zellikle karmaÅŸÄ±k iÅŸ kurallarÄ±nÄ± iÃ§eren yardÄ±mcÄ± fonksiyonlarÄ±n ne iÅŸe yaradÄ±ÄŸÄ±nÄ± anlamak iÃ§in Ã§ok faydalÄ±dÄ±r.\",\n      \"suggestion\": \"Kod iÃ§erisinde `// TODO: ... Ã‡AÄžLAR BURAYA BAK !!!` gibi geÃ§ici yorumlar bÄ±rakmak yerine, bu tÃ¼r notlarÄ± gÃ¶rev takip sisteminizde (Ã¶rn. Azure DevOps) ilgili iÅŸ Ã¶ÄŸesine yorum olarak eklemeyi veya ayrÄ± bir gÃ¶rev olarak oluÅŸturmayÄ± dÃ¼ÅŸÃ¼nÃ¼n. Bu, kodun daha temiz kalmasÄ±nÄ± saÄŸlar.\",\n      \"ruleId\": \"proper-exports\",\n      \"category\": \"code-quality\"\n    }\n  ],\n  \"summary\": \"DeÄŸerlendirme sonucunda iyileÅŸtirilmesi gereken birkaÃ§ alan tespit edilmiÅŸtir. Ã–zellikle bir test dosyasÄ±nda (`request-service-helper.test.ts`) gerÃ§ek implementasyon yerine mock'larÄ±n test edildiÄŸi kritik bir sorun bulundu, bu da testi etkisiz kÄ±lÄ±yor. AyrÄ±ca, baÅŸka bir test dosyasÄ±nda projenin katÄ± tÃ¼r kurallarÄ±na aykÄ±rÄ± olan `any` tÃ¼rÃ¼nÃ¼n yaygÄ±n kullanÄ±mÄ± dikkat Ã§ekiyor. Son olarak, JSDoc yorumuyla fonksiyonun uyuÅŸmadÄ±ÄŸÄ± kÃ¼Ã§Ã¼k bir dokÃ¼mantasyon sorunu belirtilmiÅŸtir. Kod kalitesini ve test gÃ¼venilirliÄŸini artÄ±rmak iÃ§in lÃ¼tfen bu noktalarÄ± dÃ¼zeltin.\"\n}\n```"}
{"timestamp":"2025-08-19T16:08:48.812Z","level":"debug","message":"Gemini CLI final stderr: "}
{"timestamp":"2025-08-19T16:08:48.813Z","level":"debug","message":"Gemini response saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755619638175-fr74sx/logs/responses/gemini-response-pr-req-1755619671258-w10x2p0jr-2025-08-19T16-08-48-812Z.json"}
{"timestamp":"2025-08-19T16:08:48.814Z","level":"info","message":"Review completed: 6 findings"}
{"timestamp":"2025-08-19T16:08:48.814Z","level":"debug","message":"Completed step 5: Plan and execute review"}
{"timestamp":"2025-08-19T16:08:48.814Z","level":"info","message":"\u001b[34m[6/8]\u001b[39m Processing and filtering findings..."}
{"timestamp":"2025-08-19T16:08:48.814Z","level":"debug","message":"Starting step 6: Process findings"}
{"timestamp":"2025-08-19T16:08:48.814Z","level":"info","message":"Found 6 total findings, 6 above threshold"}
{"timestamp":"2025-08-19T16:08:48.814Z","level":"debug","message":"Completed step 6: Process findings"}
{"timestamp":"2025-08-19T16:08:48.814Z","level":"info","message":"\u001b[34m[7/8]\u001b[39m Getting approval and posting comments..."}
{"timestamp":"2025-08-19T16:08:48.814Z","level":"debug","message":"Starting step 7: Get approval and post comments"}
{"timestamp":"2025-08-19T16:08:48.815Z","level":"info","message":"File                                              | Line | Severity | Message                                                                                                                                                                                                                                                                                                                                                                    | Rule               "}
{"timestamp":"2025-08-19T16:08:48.815Z","level":"info","message":"--------------------------------------------------+------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------"}
{"timestamp":"2025-08-19T16:08:48.815Z","level":"info","message":"/__tests__/app/lib/location-helper.test.ts        | 32   | ERROR    | Test dosyasÄ±nda 'any' tÃ¼rÃ¼nÃ¼n kullanÄ±mÄ±, projenin katÄ± tÃ¼r gÃ¼venliÄŸi kurallarÄ±na aykÄ±rÄ±dÄ±r. Testler de dahil olmak Ã¼zere tÃ¼m kod tabanÄ±nda tÃ¼r gÃ¼venliÄŸinin saÄŸlanmasÄ±, hatalarÄ± erken aÅŸamada yakalamak ve kodun sÃ¼rdÃ¼rÃ¼lebilirliÄŸini artÄ±rmak iÃ§in kritik Ã¶neme sahiptir.                                                                                                | no-any-type        "}
{"timestamp":"2025-08-19T16:08:48.815Z","level":"info","message":"/__tests__/app/lib/request-service-helper.test.ts | 2    | ERROR    | ðŸž Bu test dosyasÄ±, test edilmesi gereken fonksiyonlarÄ± (`checkDynamicFieldRequiredAnswers`, `checkIfAssembleProductHasNoSerialNumber` vb.) `jest.fn()` ile mock'layarak kendi mock'larÄ±nÄ± test etmektedir. Bu durum, `request-service-helper.ts` iÃ§erisindeki gerÃ§ek iÅŸ mantÄ±ÄŸÄ±nÄ±n hiÃ§bir zaman test edilmemesine neden olur ve bu test dosyasÄ±nÄ± tamamen iÅŸlevsiz kÄ±lar. | unit-test-coverage "}
{"timestamp":"2025-08-19T16:08:48.815Z","level":"info","message":"/app/lib/location-helper.ts                       | 272  | WARNING  | ðŸ’¡ Fonksiyonun Ã¼zerindeki JSDoc aÃ§Ä±klamasÄ±, `addDistanceToEachDestination` fonksiyonunun iÅŸleviyle eÅŸleÅŸmiyor. AÃ§Ä±klama, enlem/boylam listelerinden ortalama konum ve delta hesaplayan bir fonksiyonu tarif ederken, altÄ±ndaki fonksiyon mevcut konuma gÃ¶re hedeflere mesafe eklemektedir. Bu durum kodun yanlÄ±ÅŸ anlaÅŸÄ±lmasÄ±na yol aÃ§abilir.                               | component-structure"}
{"timestamp":"2025-08-19T16:08:48.815Z","level":"info","message":"/app/lib/regex-validate-operation.ts              | 1    | INFO     | ðŸ’¡ Fonksiyonlar iÃ§in eklenen JSDoc aÃ§Ä±klamalarÄ± kodun okunabilirliÄŸini ve anlaÅŸÄ±lÄ±rlÄ±ÄŸÄ±nÄ± artÄ±rÄ±yor. Bu, iyi bir pratiktir.                                                                                                                                                                                                                                                | proper-exports     "}
{"timestamp":"2025-08-19T16:08:48.815Z","level":"info","message":"/app/lib/orientation.ts                           | 4    | INFO     | ðŸ’¡ Hook'lar iÃ§in eklenen JSDoc aÃ§Ä±klamalarÄ±, component'lerin nasÄ±l kullanÄ±lacaÄŸÄ±nÄ± anlamayÄ± kolaylaÅŸtÄ±rÄ±r ve projenin genel kalitesini yÃ¼kseltir.                                                                                                                                                                                                                          | proper-exports     "}
{"timestamp":"2025-08-19T16:08:48.815Z","level":"info","message":"/app/lib/request-service-helper.ts                | 3    | INFO     | ðŸ’¡ Fonksiyonlara eklenen JSDoc aÃ§Ä±klamalarÄ±, Ã¶zellikle karmaÅŸÄ±k iÅŸ kurallarÄ±nÄ± iÃ§eren yardÄ±mcÄ± fonksiyonlarÄ±n ne iÅŸe yaradÄ±ÄŸÄ±nÄ± anlamak iÃ§in Ã§ok faydalÄ±dÄ±r.                                                                                                                                                                                                               | proper-exports     "}
{"timestamp":"2025-08-19T16:11:09.124Z","level":"debug","message":"Completed getApproval"}
{"timestamp":"2025-08-19T16:11:09.125Z","level":"info","message":"Mapping 6 findings to ADO comment threads"}
{"timestamp":"2025-08-19T16:11:09.140Z","level":"info","message":"Mapping completed: 6 threads, 6 comments"}
{"timestamp":"2025-08-19T16:11:09.140Z","level":"info","message":"Posting 6 comment threads to PR 18765"}
{"timestamp":"2025-08-19T16:11:09.140Z","level":"debug","message":"Fetching comment threads for PR 18765"}
{"timestamp":"2025-08-19T16:11:09.141Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18765/threads"}
{"timestamp":"2025-08-19T16:11:09.712Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18765/threads"}
{"timestamp":"2025-08-19T16:11:09.712Z","level":"debug","message":"Successfully fetched 0 comment threads"}
{"timestamp":"2025-08-19T16:11:09.712Z","level":"debug","message":"Found 0 existing comment threads"}
{"timestamp":"2025-08-19T16:11:09.712Z","level":"debug","message":"Processing batch 1/2 (5 threads)"}
{"timestamp":"2025-08-19T16:11:09.713Z","level":"debug","message":"Creating new thread at /__tests__/app/lib/location-helper.test.ts:32"}
{"timestamp":"2025-08-19T16:11:09.713Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T16:11:09.714Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18765/threads"}
{"timestamp":"2025-08-19T16:11:09.981Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18765/threads"}
{"timestamp":"2025-08-19T16:11:09.981Z","level":"debug","message":"Successfully created comment thread 61421"}
{"timestamp":"2025-08-19T16:11:09.981Z","level":"debug","message":"Creating new thread at /__tests__/app/lib/request-service-helper.test.ts:2"}
{"timestamp":"2025-08-19T16:11:09.982Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T16:11:09.982Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18765/threads"}
{"timestamp":"2025-08-19T16:11:10.212Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18765/threads"}
{"timestamp":"2025-08-19T16:11:10.212Z","level":"debug","message":"Successfully created comment thread 61422"}
{"timestamp":"2025-08-19T16:11:10.212Z","level":"debug","message":"Creating new thread at /app/lib/location-helper.ts:272"}
{"timestamp":"2025-08-19T16:11:10.212Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T16:11:10.212Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18765/threads"}
{"timestamp":"2025-08-19T16:11:10.425Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18765/threads"}
{"timestamp":"2025-08-19T16:11:10.425Z","level":"debug","message":"Successfully created comment thread 61423"}
{"timestamp":"2025-08-19T16:11:10.425Z","level":"debug","message":"Creating new thread at /app/lib/orientation.ts:4"}
{"timestamp":"2025-08-19T16:11:10.425Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T16:11:10.425Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18765/threads"}
{"timestamp":"2025-08-19T16:11:10.643Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18765/threads"}
{"timestamp":"2025-08-19T16:11:10.643Z","level":"debug","message":"Successfully created comment thread 61424"}
{"timestamp":"2025-08-19T16:11:10.643Z","level":"debug","message":"Creating new thread at /app/lib/regex-validate-operation.ts:1"}
{"timestamp":"2025-08-19T16:11:10.643Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T16:11:10.644Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18765/threads"}
{"timestamp":"2025-08-19T16:11:10.887Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18765/threads"}
{"timestamp":"2025-08-19T16:11:10.887Z","level":"debug","message":"Successfully created comment thread 61425"}
{"timestamp":"2025-08-19T16:11:11.888Z","level":"debug","message":"Processing batch 2/2 (1 threads)"}
{"timestamp":"2025-08-19T16:11:11.889Z","level":"debug","message":"Creating new thread at /app/lib/request-service-helper.ts:3"}
{"timestamp":"2025-08-19T16:11:11.891Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T16:11:11.891Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18765/threads"}
{"timestamp":"2025-08-19T16:11:12.104Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18765/threads"}
{"timestamp":"2025-08-19T16:11:12.104Z","level":"debug","message":"Successfully created comment thread 61426"}
{"timestamp":"2025-08-19T16:11:12.104Z","level":"info","message":"Comment posting completed: 6 threads created, 6 comments created"}
{"timestamp":"2025-08-19T16:11:12.104Z","level":"debug","message":"Completed step 7: Get approval and post comments"}
{"timestamp":"2025-08-19T16:11:12.104Z","level":"info","message":"\u001b[34m[8/8]\u001b[39m Updating PR status and cleaning up..."}
{"timestamp":"2025-08-19T16:11:12.105Z","level":"debug","message":"Starting step 8: Update PR status"}
{"timestamp":"2025-08-19T16:11:12.105Z","level":"debug","message":"Completed step 8: Update PR status"}
{"timestamp":"2025-08-19T16:11:12.105Z","level":"info","message":"\u001b[32mâœ… Review completed successfully in 233935ms\u001b[39m"}
{"timestamp":"2025-08-19T16:11:12.106Z","level":"info","message":"Cleaning up workspace: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755619638175-fr74sx"}
{"timestamp":"2025-08-19T16:11:12.838Z","level":"info","message":"Workspace cleanup completed: 3973 files, 982 directories deleted"}
{"timestamp":"2025-08-19T16:12:07.724Z","level":"info","message":"\u001b[34mðŸš€ Starting Azure DevOps PR Review...\u001b[39m"}
{"timestamp":"2025-08-19T16:12:07.724Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T16:12:07.725Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T16:12:07.725Z","level":"info","message":"\u001b[34m[1/8]\u001b[39m Initializing and validating options..."}
{"timestamp":"2025-08-19T16:12:07.725Z","level":"debug","message":"Starting step 1: Initialize"}
{"timestamp":"2025-08-19T16:12:07.727Z","level":"info","message":"Loading configuration..."}
{"timestamp":"2025-08-19T16:12:07.728Z","level":"debug","message":"Found .adorevrc.yaml in project root, loading configuration"}
{"timestamp":"2025-08-19T16:12:07.729Z","level":"debug","message":"Project root configuration loaded successfully"}
{"timestamp":"2025-08-19T16:12:07.729Z","level":"info","message":"Using configuration from: project-root"}
{"timestamp":"2025-08-19T16:12:07.730Z","level":"debug","message":"Log level overridden by ADO_REVIEW_LOG_LEVEL: debug"}
{"timestamp":"2025-08-19T16:12:07.730Z","level":"debug","message":"Configuration loaded and merged successfully"}
{"timestamp":"2025-08-19T16:12:07.730Z","level":"debug","message":"Gemini timeout: 120000ms"}
{"timestamp":"2025-08-19T16:12:07.731Z","level":"debug","message":"Current log level: debug"}
{"timestamp":"2025-08-19T16:12:07.731Z","level":"debug","message":"Initializing GeminiAdapter with timeout: 120000ms"}
{"timestamp":"2025-08-19T16:12:07.731Z","level":"debug","message":"GeminiAdapter initialized with default timeout: 120000ms"}
{"timestamp":"2025-08-19T16:12:07.732Z","level":"debug","message":"All components initialized successfully"}
{"timestamp":"2025-08-19T16:12:07.732Z","level":"debug","message":"Completed step 1: Initialize"}
{"timestamp":"2025-08-19T16:12:07.732Z","level":"info","message":"\u001b[34m[2/8]\u001b[39m Setting up temporary workspace..."}
{"timestamp":"2025-08-19T16:12:07.732Z","level":"debug","message":"Starting step 2: Setup workspace"}
{"timestamp":"2025-08-19T16:12:07.738Z","level":"info","message":"Workspace created: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755619927732-9yop22"}
{"timestamp":"2025-08-19T16:12:07.738Z","level":"debug","message":"Workspace config path: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755619927732-9yop22/.adorevrc.yaml"}
{"timestamp":"2025-08-19T16:12:07.738Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T16:12:07.738Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T16:12:07.738Z","level":"debug","message":"Completed step 2: Setup workspace"}
{"timestamp":"2025-08-19T16:12:07.738Z","level":"info","message":"\u001b[34m[3/8]\u001b[39m Fetching PR information and changes..."}
{"timestamp":"2025-08-19T16:12:07.738Z","level":"debug","message":"Starting step 3: Fetch PR info and diffs"}
{"timestamp":"2025-08-19T16:12:07.738Z","level":"debug","message":"Fetching PR 18767 info"}
{"timestamp":"2025-08-19T16:12:07.739Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18767"}
{"timestamp":"2025-08-19T16:12:08.143Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18767"}
{"timestamp":"2025-08-19T16:12:08.143Z","level":"debug","message":"Successfully fetched PR 18767 info"}
{"timestamp":"2025-08-19T16:12:08.143Z","level":"debug","message":"Response status: 200"}
{"timestamp":"2025-08-19T16:12:08.143Z","level":"debug","message":"Response data keys:"}
{"timestamp":"2025-08-19T16:12:08.143Z","level":"debug","message":"PR Info structure:"}
{"timestamp":"2025-08-19T16:12:08.144Z","level":"debug","message":"Completed fetchPRInfo"}
{"timestamp":"2025-08-19T16:12:08.144Z","level":"debug","message":"fetchDiffs - prInfo structure:"}
{"timestamp":"2025-08-19T16:12:08.144Z","level":"info","message":"Cloning repository: https://inploid@dev.azure.com/inploid/AuditReactProject/_git/AuditReactProject.RN0.71.X"}
{"timestamp":"2025-08-19T16:12:08.144Z","level":"debug","message":"Clone options: {\"branch\":\"refs/heads/feature/TDM-14373\",\"workingDirectory\":\"/var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755619927732-9yop22/source\"}"}
{"timestamp":"2025-08-19T16:12:08.145Z","level":"debug","message":"Executing: git init "}
{"timestamp":"2025-08-19T16:12:08.175Z","level":"debug","message":"Executing: git remote add origin https://inploid@dev.azure.com/inploid/AuditReactProject/_git/AuditReactProject.RN0.71.X"}
{"timestamp":"2025-08-19T16:12:08.188Z","level":"debug","message":"Executing: git fetch origin refs/heads/feature/TDM-14373"}
{"timestamp":"2025-08-19T16:15:15.102Z","level":"debug","message":"Executing: git checkout -b local-branch origin/feature/TDM-14373"}
{"timestamp":"2025-08-19T16:15:15.663Z","level":"debug","message":"Executing: git rev-parse HEAD"}
{"timestamp":"2025-08-19T16:15:15.673Z","level":"info","message":"Successfully cloned repository to /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755619927732-9yop22/source"}
{"timestamp":"2025-08-19T16:15:15.673Z","level":"debug","message":"Commit ID: b15a8d14db73959c20ef365262d7fc09930afb1c"}
{"timestamp":"2025-08-19T16:15:15.673Z","level":"debug","message":"Reinitializing ConfigLoader with cloned workspace directory:"}
{"timestamp":"2025-08-19T16:15:15.673Z","level":"debug","message":"Workspace config path: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755619927732-9yop22/source/.adorevrc.yaml"}
{"timestamp":"2025-08-19T16:15:15.673Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T16:15:15.673Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T16:15:15.675Z","level":"debug","message":"Found .adorevrc.yaml in project root, loading configuration"}
{"timestamp":"2025-08-19T16:15:15.675Z","level":"debug","message":"Project root configuration loaded successfully"}
{"timestamp":"2025-08-19T16:15:15.675Z","level":"info","message":"Using configuration from: project-root"}
{"timestamp":"2025-08-19T16:15:15.676Z","level":"debug","message":"Log level overridden by ADO_REVIEW_LOG_LEVEL: debug"}
{"timestamp":"2025-08-19T16:15:15.676Z","level":"debug","message":"Configuration loaded and merged successfully"}
{"timestamp":"2025-08-19T16:15:15.676Z","level":"debug","message":"Gemini timeout: 120000ms"}
{"timestamp":"2025-08-19T16:15:15.676Z","level":"debug","message":"Current log level: debug"}
{"timestamp":"2025-08-19T16:15:15.676Z","level":"debug","message":"Reloaded configuration from workspace:"}
{"timestamp":"2025-08-19T16:15:15.676Z","level":"info","message":"Fetching iteration changes for PR 18767"}
{"timestamp":"2025-08-19T16:15:15.676Z","level":"debug","message":"Fetching PR 18767 iterations"}
{"timestamp":"2025-08-19T16:15:15.677Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18767/iterations"}
{"timestamp":"2025-08-19T16:15:15.680Z","level":"warn","message":"HTTP EPIPE error from /git/repositories/AuditReactProject.RN0.71.X/pullrequests/18767/iterations: write EPIPE. Retrying in 1000ms (attempt 1/3)"}
{"timestamp":"2025-08-19T16:15:16.682Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18767/iterations"}
{"timestamp":"2025-08-19T16:15:17.046Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18767/iterations"}
{"timestamp":"2025-08-19T16:15:17.047Z","level":"debug","message":"Successfully fetched 1 iterations"}
{"timestamp":"2025-08-19T16:15:17.047Z","level":"debug","message":"Fetching changes for iteration 1"}
{"timestamp":"2025-08-19T16:15:17.047Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18767/iterations/1/changes"}
{"timestamp":"2025-08-19T16:15:17.232Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18767/iterations/1/changes"}
{"timestamp":"2025-08-19T16:15:17.232Z","level":"debug","message":"Successfully fetched 13 changes"}
{"timestamp":"2025-08-19T16:15:17.232Z","level":"debug","message":"Processing iteration changes with 13 file changes"}
{"timestamp":"2025-08-19T16:15:17.233Z","level":"debug","message":"Processing iteration change for file: /__mocks__/@react-native-community/geolocation.js"}
{"timestamp":"2025-08-19T16:15:17.233Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b15a8d14db73959c20ef365262d7fc09930afb1c"}
{"timestamp":"2025-08-19T16:15:17.233Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b15a8d14db73959c20ef365262d7fc09930afb1c -- __mocks__/@react-native-community/geolocation.js"}
{"timestamp":"2025-08-19T16:15:17.265Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:15:17.265Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/location-helper.test.ts"}
{"timestamp":"2025-08-19T16:15:17.265Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b15a8d14db73959c20ef365262d7fc09930afb1c"}
{"timestamp":"2025-08-19T16:15:17.265Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b15a8d14db73959c20ef365262d7fc09930afb1c -- __tests__/app/lib/location-helper.test.ts"}
{"timestamp":"2025-08-19T16:15:17.286Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:15:17.287Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/request-service-helper.test.ts"}
{"timestamp":"2025-08-19T16:15:17.287Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b15a8d14db73959c20ef365262d7fc09930afb1c"}
{"timestamp":"2025-08-19T16:15:17.287Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b15a8d14db73959c20ef365262d7fc09930afb1c -- __tests__/app/lib/request-service-helper.test.ts"}
{"timestamp":"2025-08-19T16:15:17.304Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:15:17.304Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/orientation.test.ts"}
{"timestamp":"2025-08-19T16:15:17.304Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b15a8d14db73959c20ef365262d7fc09930afb1c"}
{"timestamp":"2025-08-19T16:15:17.305Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b15a8d14db73959c20ef365262d7fc09930afb1c -- __tests__/app/lib/orientation.test.ts"}
{"timestamp":"2025-08-19T16:15:17.323Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:15:17.323Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/regex-validate-operation.test.ts"}
{"timestamp":"2025-08-19T16:15:17.323Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b15a8d14db73959c20ef365262d7fc09930afb1c"}
{"timestamp":"2025-08-19T16:15:17.323Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b15a8d14db73959c20ef365262d7fc09930afb1c -- __tests__/app/lib/regex-validate-operation.test.ts"}
{"timestamp":"2025-08-19T16:15:17.341Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:15:17.341Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/print-provider.test.ts"}
{"timestamp":"2025-08-19T16:15:17.341Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b15a8d14db73959c20ef365262d7fc09930afb1c"}
{"timestamp":"2025-08-19T16:15:17.341Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b15a8d14db73959c20ef365262d7fc09930afb1c -- __tests__/app/lib/print-provider.test.ts"}
{"timestamp":"2025-08-19T16:15:17.355Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:15:17.355Z","level":"debug","message":"Processing iteration change for file: /app/lib/request-service-helper.ts"}
{"timestamp":"2025-08-19T16:15:17.355Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b15a8d14db73959c20ef365262d7fc09930afb1c"}
{"timestamp":"2025-08-19T16:15:17.355Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b15a8d14db73959c20ef365262d7fc09930afb1c -- app/lib/request-service-helper.ts"}
{"timestamp":"2025-08-19T16:15:17.367Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:15:17.367Z","level":"debug","message":"Processing iteration change for file: /app/lib/print-provider.ts"}
{"timestamp":"2025-08-19T16:15:17.367Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b15a8d14db73959c20ef365262d7fc09930afb1c"}
{"timestamp":"2025-08-19T16:15:17.367Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b15a8d14db73959c20ef365262d7fc09930afb1c -- app/lib/print-provider.ts"}
{"timestamp":"2025-08-19T16:15:17.379Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:15:17.379Z","level":"debug","message":"Processing iteration change for file: /app/lib/responsive.ts"}
{"timestamp":"2025-08-19T16:15:17.380Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b15a8d14db73959c20ef365262d7fc09930afb1c"}
{"timestamp":"2025-08-19T16:15:17.380Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b15a8d14db73959c20ef365262d7fc09930afb1c -- app/lib/responsive.ts"}
{"timestamp":"2025-08-19T16:15:17.393Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:15:17.393Z","level":"debug","message":"Processing iteration change for file: /app/lib/location-helper.ts"}
{"timestamp":"2025-08-19T16:15:17.393Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b15a8d14db73959c20ef365262d7fc09930afb1c"}
{"timestamp":"2025-08-19T16:15:17.393Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b15a8d14db73959c20ef365262d7fc09930afb1c -- app/lib/location-helper.ts"}
{"timestamp":"2025-08-19T16:15:17.405Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:15:17.405Z","level":"debug","message":"Processing iteration change for file: /app/lib/orientation.ts"}
{"timestamp":"2025-08-19T16:15:17.405Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b15a8d14db73959c20ef365262d7fc09930afb1c"}
{"timestamp":"2025-08-19T16:15:17.405Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b15a8d14db73959c20ef365262d7fc09930afb1c -- app/lib/orientation.ts"}
{"timestamp":"2025-08-19T16:15:17.416Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:15:17.416Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/responsive.test.ts"}
{"timestamp":"2025-08-19T16:15:17.416Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b15a8d14db73959c20ef365262d7fc09930afb1c"}
{"timestamp":"2025-08-19T16:15:17.416Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b15a8d14db73959c20ef365262d7fc09930afb1c -- __tests__/app/lib/responsive.test.ts"}
{"timestamp":"2025-08-19T16:15:17.428Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:15:17.428Z","level":"debug","message":"Processing iteration change for file: /app/lib/regex-validate-operation.ts"}
{"timestamp":"2025-08-19T16:15:17.428Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b15a8d14db73959c20ef365262d7fc09930afb1c"}
{"timestamp":"2025-08-19T16:15:17.428Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b15a8d14db73959c20ef365262d7fc09930afb1c -- app/lib/regex-validate-operation.ts"}
{"timestamp":"2025-08-19T16:15:17.440Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:15:17.440Z","level":"info","message":"Successfully fetched diff: 13 files, +1342/-65 lines"}
{"timestamp":"2025-08-19T16:15:17.441Z","level":"debug","message":"Diff data saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755619927732-9yop22/logs/diffs/diff-pr-pr-18767-2025-08-19T16-15-17-441Z.txt"}
{"timestamp":"2025-08-19T16:15:17.441Z","level":"debug","message":"Completed step 3: Fetch PR info and diffs"}
{"timestamp":"2025-08-19T16:15:17.441Z","level":"info","message":"\u001b[34m[4/8]\u001b[39m Loading rules and building review context..."}
{"timestamp":"2025-08-19T16:15:17.441Z","level":"debug","message":"Starting step 4: Load rules and build context"}
{"timestamp":"2025-08-19T16:15:17.442Z","level":"info","message":"Loading review rules and guidelines"}
{"timestamp":"2025-08-19T16:15:17.442Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T16:15:17.442Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T16:15:17.446Z","level":"warn","message":"No rules found in /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T16:15:17.446Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T16:15:17.446Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T16:15:17.448Z","level":"debug","message":"Loaded 28 rules from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T16:15:17.448Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T16:15:17.448Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T16:15:17.449Z","level":"debug","message":"Loaded guideline \"Azure DevOps Review Rules\" from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T16:15:17.449Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T16:15:17.449Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T16:15:17.450Z","level":"debug","message":"Loaded guideline \"React Native Field App - Architecture Guide\" from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T16:15:17.450Z","level":"info","message":"Loaded 1 rule sets, 28 total rules (28 enabled), 2 guidelines"}
{"timestamp":"2025-08-19T16:15:17.450Z","level":"debug","message":"Completed loadRules"}
{"timestamp":"2025-08-19T16:15:17.450Z","level":"info","message":"Building review context"}
{"timestamp":"2025-08-19T16:15:17.451Z","level":"info","message":"Context built: 13 files, 29 hunks, 28 rules, 2 guidelines"}
{"timestamp":"2025-08-19T16:15:17.451Z","level":"debug","message":"Completed step 4: Load rules and build context"}
{"timestamp":"2025-08-19T16:15:17.451Z","level":"info","message":"\u001b[34m[5/8]\u001b[39m Planning and executing AI review..."}
{"timestamp":"2025-08-19T16:15:17.451Z","level":"debug","message":"Starting step 5: Plan and execute review"}
{"timestamp":"2025-08-19T16:15:17.451Z","level":"info","message":"Creating review plan"}
{"timestamp":"2025-08-19T16:15:17.451Z","level":"debug","message":"Completed planReview"}
{"timestamp":"2025-08-19T16:15:17.451Z","level":"debug","message":"Executing Gemini review with plan"}
{"timestamp":"2025-08-19T16:15:17.451Z","level":"info","message":"Executing single batch review"}
{"timestamp":"2025-08-19T16:15:17.451Z","level":"info","message":"Starting Gemini review with model: gemini-2.5-flash"}
{"timestamp":"2025-08-19T16:15:17.453Z","level":"debug","message":"Prompt data saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755619927732-9yop22/logs/prompts/prompt-pr-review-2025-08-19T16-15-17-451Z.txt"}
{"timestamp":"2025-08-19T16:15:17.453Z","level":"debug","message":"Spawning Gemini CLI with stdin approach"}
{"timestamp":"2025-08-19T16:15:18.280Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T16:15:18.353Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T16:15:18.382Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T16:16:00.971Z","level":"debug","message":"Gemini CLI stdout: ```json\n{\n  \"findings\": [\n    {\n      \"file\": \"/__tests__/app/lib/request-service-helper.test.ts\",\n      \"line\": 1,\n      \"endLine\": 215,\n      \"severity\": \"error\",\n      \"message"}
{"timestamp":"2025-08-19T16:16:00.972Z","level":"debug","message":"Gemini CLI stdout: \": \"Birim testleri, test edilmesi gereken fonksiyonlarÄ± mock'layarak iÅŸlevsiz hale getirilmiÅŸ. Ã–rneÄŸin, `checkIfAssembleProductHasNoSerialNumber` fonksiyonu test edilirken, fonksiyonun kendisi mock'lanÄ±yor ve test, mock'un yapÄ±landÄ±rÄ±ldÄ±ÄŸÄ± deÄŸeri dÃ¶ndÃ¼rÃ¼p dÃ¶ndÃ¼rm"}
{"timestamp":"2025-08-19T16:16:01.255Z","level":"debug","message":"Gemini CLI stdout: ediÄŸini kontrol ediyor. Bu, fonksiyonun gerÃ§ek mantÄ±ÄŸÄ±nÄ± test etmez ve hiÃ§bir gÃ¼vence saÄŸlamaz.\",\n      \"suggestion\": \"Test edilen fonksiyonlarÄ± mock'lamak yerine, `../../../app/lib/request-service-helper` dosyasÄ±ndan gerÃ§ek fonksiyonlarÄ± iÃ§e aktarÄ±n. ArdÄ±ndan,"}
{"timestamp":"2025-08-19T16:16:01.722Z","level":"debug","message":"Gemini CLI stdout: bu fonksiyonlarÄ± farklÄ± girdilerle Ã§aÄŸÄ±rarak beklenen Ã§Ä±ktÄ±larÄ± veya davranÄ±ÅŸlarÄ± doÄŸrulayÄ±n. Testler, fonksiyonun iÃ§ mantÄ±ÄŸÄ±nÄ± deÄŸil, genel davranÄ±ÅŸÄ±nÄ± hedef almalÄ±dÄ±r.\",\n      \"ruleId\": \"unit-test-coverage\",\n      \"category\": \"testing\"\n    },"}
{"timestamp":"2025-08-19T16:16:02.196Z","level":"debug","message":"Gemini CLI stdout: {\n      \"file\": \"/__tests__/app/lib/regex-validate-operation.test.ts\",\n      \"line\": 1,\n      \"endLine\": 51,\n      \"severity\": \"error\",\n      \"message\": \"Testler, test edilen fonksiyonlarÄ±n gerÃ§ek"}
{"timestamp":"2025-08-19T16:16:02.688Z","level":"debug","message":"Gemini CLI stdout: davranÄ±ÅŸÄ±nÄ± doÄŸrulamÄ±yor. `validateGSMNo` testi, fonksiyonda kullanÄ±lan (`PHONE_REGEX2`) yerine farklÄ± bir regex'i (`PHONE_REGEX`) test ediyor ve asÄ±l fonksiyonu hiÃ§ Ã§aÄŸÄ±rmÄ±yor. DiÄŸer testler de fonksiyonlarÄ± Ã§aÄŸÄ±rmak yerine doÄŸrudan regex'leri"}
{"timestamp":"2025-08-19T16:16:03.127Z","level":"debug","message":"Gemini CLI stdout: test ediyor veya fonksiyonlarÄ±n iÃ§ uygulama detaylarÄ±na (dÃ¶nen dizinin belirli bir indeksi gibi) baÄŸÄ±mlÄ± kalarak kÄ±rÄ±lgan hale getirilmiÅŸ.\",\n      \"suggestion\": \"Testleri, test edilen fonksiyonlarÄ± doÄŸrudan Ã§aÄŸÄ±racak ÅŸekilde yeniden yazÄ±n. `validateGSMNo` testi,"}
{"timestamp":"2025-08-19T16:16:03.548Z","level":"debug","message":"Gemini CLI stdout: `validateGSMNo` fonksiyonunu Ã§aÄŸÄ±rmalÄ± ve `ENV` mock'u doÄŸru `PHONE_REGEX2` deÄŸerini saÄŸlamalÄ±dÄ±r. Testler, bir fonksiyonun dÃ¶ndÃ¼rdÃ¼ÄŸÃ¼ deÄŸerin yapÄ±sÄ±na deÄŸil, beklenen sonuca odaklanmalÄ±dÄ±r.\",\n      \"ruleId\": \"unit-test"}
{"timestamp":"2025-08-19T16:16:04.000Z","level":"debug","message":"Gemini CLI stdout: -coverage\",\n      \"category\": \"testing\"\n    },\n    {\n      \"file\": \"/app/lib/request-service-helper.ts\",\n      \"line\": 5,\n      \"endLine\": 5,\n      \"severity\": \"error\",\n      \"message"}
{"timestamp":"2025-08-19T16:16:04.413Z","level":"debug","message":"Gemini CLI stdout: \": \"Kodda bÄ±rakÄ±lan `// TODO: ... Ã‡AÄžLAR BURAYA BAK !!!` yorumu, `GetTransferableProductsResponse` tipinde `requestFlowProductAssembleItems` alanÄ±nÄ±n bulunmadÄ±ÄŸÄ±nÄ± belirtiyor. Bu durum, potansiyel bir tip uyumsuzluÄŸuna ve Ã§alÄ±ÅŸma zamanÄ±"}
{"timestamp":"2025-08-19T16:16:04.877Z","level":"debug","message":"Gemini CLI stdout: hatalarÄ±na (runtime error) iÅŸaret etmektedir.\",\n      \"suggestion\": \"`GetTransferableProductsResponse` tip tanÄ±mÄ±nÄ± kontrol edin ve `requestFlowProductAssembleItems` alanÄ±nÄ± iÃ§erecek ÅŸekilde gÃ¼ncelleyin veya bu alanÄ± kullanan mantÄ±ÄŸÄ±n doÄŸru tiple Ã§alÄ±ÅŸtÄ±ÄŸÄ±ndan emin olun. Bu tÃ¼r `TODO"}
{"timestamp":"2025-08-19T16:16:05.289Z","level":"debug","message":"Gemini CLI stdout: ` yorumlarÄ±, kod birleÅŸtirilmeden Ã¶nce Ã§Ã¶zÃ¼lmelidir.\",\n      \"ruleId\": \"no-any-type\",\n      \"category\": \"typescript\"\n    },\n    {\n      \"file\": \"/app/lib/request-service-helper.ts\",\n      \"line\":"}
{"timestamp":"2025-08-19T16:16:05.851Z","level":"debug","message":"Gemini CLI stdout: 10,\n      \"endLine\": 10,\n      \"severity\": \"info\",\n      \"message\": \"Fonksiyonlar iÃ§in eklenen JSDoc yorumlarÄ± kodun okunabilirliÄŸini ve bakÄ±mÄ±nÄ± kolaylaÅŸtÄ±rÄ±yor. Bu iyi bir pratik.\",\n      \"suggestion\": \"Pro"}
{"timestamp":"2025-08-19T16:16:06.405Z","level":"debug","message":"Gemini CLI stdout: jedeki diÄŸer yardÄ±mcÄ± (helper) fonksiyonlar iÃ§in de benzer ÅŸekilde JSDoc standardÄ±nÄ± uygulamaya devam edin.\",\n      \"ruleId\": \"component-structure\",\n      \"category\": \"code-quality\"\n    }\n  ],\n  \"summary\": \"DeÄŸiÅŸiklikler genel olarak kod dok"}
{"timestamp":"2025-08-19T16:16:06.986Z","level":"debug","message":"Gemini CLI stdout: Ã¼mantasyonunu (JSDoc) ve test kapsamÄ±nÄ± artÄ±rmaya yÃ¶nelik olumlu adÄ±mlar iÃ§eriyor. `location-helper`, `orientation`, `print-provider` ve `responsive` iÃ§in eklenen testler baÅŸarÄ±lÄ± ve iyi yapÄ±landÄ±rÄ±lmÄ±ÅŸ. Ancak, `request-service-helper.test.ts"}
{"timestamp":"2025-08-19T16:16:07.506Z","level":"debug","message":"Gemini CLI stdout: ` ve `regex-validate-operation.test.ts` dosyalarÄ±ndaki testler, test edilen fonksiyonlarÄ±n kendisini mock'ladÄ±ÄŸÄ± iÃ§in hatalÄ±dÄ±r ve gerÃ§ek mantÄ±ÄŸÄ± doÄŸrulamamaktadÄ±r; bu testlerin yeniden yazÄ±lmasÄ± gerekmektedir. AyrÄ±ca, `request-service-helper.ts` iÃ§inde bulunan bir `TODO"}
{"timestamp":"2025-08-19T16:16:07.746Z","level":"debug","message":"Gemini CLI stdout: ` yorumu, acilen Ã§Ã¶zÃ¼lmesi gereken kritik bir tip hatasÄ±na iÅŸaret etmektedir.\"\n}\n```"}
{"timestamp":"2025-08-19T16:16:07.751Z","level":"debug","message":"Gemini CLI stdout: "}
{"timestamp":"2025-08-19T16:16:07.760Z","level":"debug","message":"Gemini CLI exited with code: 0"}
{"timestamp":"2025-08-19T16:16:07.760Z","level":"debug","message":"Gemini CLI final stdout: [dotenv@16.6.0] injecting env (9) from .env\n[dotenv@16.6.0] injecting env (9) from .env\n[dotenv@16.6.0] injecting env (9) from .env\n```json\n{\n  \"findings\": [\n    {\n      \"file\": \"/__tests__/app/lib/request-service-helper.test.ts\",\n      \"line\": 1,\n      \"endLine\": 215,\n      \"severity\": \"error\",\n      \"message\": \"Birim testleri, test edilmesi gereken fonksiyonlarÄ± mock'layarak iÅŸlevsiz hale getirilmiÅŸ. Ã–rneÄŸin, `checkIfAssembleProductHasNoSerialNumber` fonksiyonu test edilirken, fonksiyonun kendisi mock'lanÄ±yor ve test, mock'un yapÄ±landÄ±rÄ±ldÄ±ÄŸÄ± deÄŸeri dÃ¶ndÃ¼rÃ¼p dÃ¶ndÃ¼rmediÄŸini kontrol ediyor. Bu, fonksiyonun gerÃ§ek mantÄ±ÄŸÄ±nÄ± test etmez ve hiÃ§bir gÃ¼vence saÄŸlamaz.\",\n      \"suggestion\": \"Test edilen fonksiyonlarÄ± mock'lamak yerine, `../../../app/lib/request-service-helper` dosyasÄ±ndan gerÃ§ek fonksiyonlarÄ± iÃ§e aktarÄ±n. ArdÄ±ndan, bu fonksiyonlarÄ± farklÄ± girdilerle Ã§aÄŸÄ±rarak beklenen Ã§Ä±ktÄ±larÄ± veya davranÄ±ÅŸlarÄ± doÄŸrulayÄ±n. Testler, fonksiyonun iÃ§ mantÄ±ÄŸÄ±nÄ± deÄŸil, genel davranÄ±ÅŸÄ±nÄ± hedef almalÄ±dÄ±r.\",\n      \"ruleId\": \"unit-test-coverage\",\n      \"category\": \"testing\"\n    },\n    {\n      \"file\": \"/__tests__/app/lib/regex-validate-operation.test.ts\",\n      \"line\": 1,\n      \"endLine\": 51,\n      \"severity\": \"error\",\n      \"message\": \"Testler, test edilen fonksiyonlarÄ±n gerÃ§ek davranÄ±ÅŸÄ±nÄ± doÄŸrulamÄ±yor. `validateGSMNo` testi, fonksiyonda kullanÄ±lan (`PHONE_REGEX2`) yerine farklÄ± bir regex'i (`PHONE_REGEX`) test ediyor ve asÄ±l fonksiyonu hiÃ§ Ã§aÄŸÄ±rmÄ±yor. DiÄŸer testler de fonksiyonlarÄ± Ã§aÄŸÄ±rmak yerine doÄŸrudan regex'leri test ediyor veya fonksiyonlarÄ±n iÃ§ uygulama detaylarÄ±na (dÃ¶nen dizinin belirli bir indeksi gibi) baÄŸÄ±mlÄ± kalarak kÄ±rÄ±lgan hale getirilmiÅŸ.\",\n      \"suggestion\": \"Testleri, test edilen fonksiyonlarÄ± doÄŸrudan Ã§aÄŸÄ±racak ÅŸekilde yeniden yazÄ±n. `validateGSMNo` testi, `validateGSMNo` fonksiyonunu Ã§aÄŸÄ±rmalÄ± ve `ENV` mock'u doÄŸru `PHONE_REGEX2` deÄŸerini saÄŸlamalÄ±dÄ±r. Testler, bir fonksiyonun dÃ¶ndÃ¼rdÃ¼ÄŸÃ¼ deÄŸerin yapÄ±sÄ±na deÄŸil, beklenen sonuca odaklanmalÄ±dÄ±r.\",\n      \"ruleId\": \"unit-test-coverage\",\n      \"category\": \"testing\"\n    },\n    {\n      \"file\": \"/app/lib/request-service-helper.ts\",\n      \"line\": 5,\n      \"endLine\": 5,\n      \"severity\": \"error\",\n      \"message\": \"Kodda bÄ±rakÄ±lan `// TODO: ... Ã‡AÄžLAR BURAYA BAK !!!` yorumu, `GetTransferableProductsResponse` tipinde `requestFlowProductAssembleItems` alanÄ±nÄ±n bulunmadÄ±ÄŸÄ±nÄ± belirtiyor. Bu durum, potansiyel bir tip uyumsuzluÄŸuna ve Ã§alÄ±ÅŸma zamanÄ± hatalarÄ±na (runtime error) iÅŸaret etmektedir.\",\n      \"suggestion\": \"`GetTransferableProductsResponse` tip tanÄ±mÄ±nÄ± kontrol edin ve `requestFlowProductAssembleItems` alanÄ±nÄ± iÃ§erecek ÅŸekilde gÃ¼ncelleyin veya bu alanÄ± kullanan mantÄ±ÄŸÄ±n doÄŸru tiple Ã§alÄ±ÅŸtÄ±ÄŸÄ±ndan emin olun. Bu tÃ¼r `TODO` yorumlarÄ±, kod birleÅŸtirilmeden Ã¶nce Ã§Ã¶zÃ¼lmelidir.\",\n      \"ruleId\": \"no-any-type\",\n      \"category\": \"typescript\"\n    },\n    {\n      \"file\": \"/app/lib/request-service-helper.ts\",\n      \"line\": 10,\n      \"endLine\": 10,\n      \"severity\": \"info\",\n      \"message\": \"Fonksiyonlar iÃ§in eklenen JSDoc yorumlarÄ± kodun okunabilirliÄŸini ve bakÄ±mÄ±nÄ± kolaylaÅŸtÄ±rÄ±yor. Bu iyi bir pratik.\",\n      \"suggestion\": \"Projedeki diÄŸer yardÄ±mcÄ± (helper) fonksiyonlar iÃ§in de benzer ÅŸekilde JSDoc standardÄ±nÄ± uygulamaya devam edin.\",\n      \"ruleId\": \"component-structure\",\n      \"category\": \"code-quality\"\n    }\n  ],\n  \"summary\": \"DeÄŸiÅŸiklikler genel olarak kod dokÃ¼mantasyonunu (JSDoc) ve test kapsamÄ±nÄ± artÄ±rmaya yÃ¶nelik olumlu adÄ±mlar iÃ§eriyor. `location-helper`, `orientation`, `print-provider` ve `responsive` iÃ§in eklenen testler baÅŸarÄ±lÄ± ve iyi yapÄ±landÄ±rÄ±lmÄ±ÅŸ. Ancak, `request-service-helper.test.ts` ve `regex-validate-operation.test.ts` dosyalarÄ±ndaki testler, test edilen fonksiyonlarÄ±n kendisini mock'ladÄ±ÄŸÄ± iÃ§in hatalÄ±dÄ±r ve gerÃ§ek mantÄ±ÄŸÄ± doÄŸrulamamaktadÄ±r; bu testlerin yeniden yazÄ±lmasÄ± gerekmektedir. AyrÄ±ca, `request-service-helper.ts` iÃ§inde bulunan bir `TODO` yorumu, acilen Ã§Ã¶zÃ¼lmesi gereken kritik bir tip hatasÄ±na iÅŸaret etmektedir.\"\n}\n```"}
{"timestamp":"2025-08-19T16:16:07.761Z","level":"debug","message":"Gemini CLI final stderr: "}
{"timestamp":"2025-08-19T16:16:07.762Z","level":"debug","message":"Gemini response saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755619927732-9yop22/logs/responses/gemini-response-pr-req-1755620117451-8r8gv1ri1-2025-08-19T16-16-07-761Z.json"}
{"timestamp":"2025-08-19T16:16:07.762Z","level":"info","message":"Review completed: 4 findings"}
{"timestamp":"2025-08-19T16:16:07.762Z","level":"debug","message":"Completed step 5: Plan and execute review"}
{"timestamp":"2025-08-19T16:16:07.762Z","level":"info","message":"\u001b[34m[6/8]\u001b[39m Processing and filtering findings..."}
{"timestamp":"2025-08-19T16:16:07.762Z","level":"debug","message":"Starting step 6: Process findings"}
{"timestamp":"2025-08-19T16:16:07.763Z","level":"info","message":"Found 4 total findings, 4 above threshold"}
{"timestamp":"2025-08-19T16:16:07.763Z","level":"debug","message":"Completed step 6: Process findings"}
{"timestamp":"2025-08-19T16:16:07.763Z","level":"info","message":"\u001b[34m[7/8]\u001b[39m Getting approval and posting comments..."}
{"timestamp":"2025-08-19T16:16:07.763Z","level":"debug","message":"Starting step 7: Get approval and post comments"}
{"timestamp":"2025-08-19T16:16:07.764Z","level":"info","message":"File                                                | Line | Severity | Message                                                                                                                                                                                                                                                                                                                                                                                                                                    | Rule               "}
{"timestamp":"2025-08-19T16:16:07.764Z","level":"info","message":"----------------------------------------------------+------+----------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------"}
{"timestamp":"2025-08-19T16:16:07.764Z","level":"info","message":"/__tests__/app/lib/request-service-helper.test.ts   | 1    | ERROR    | Birim testleri, test edilmesi gereken fonksiyonlarÄ± mock'layarak iÅŸlevsiz hale getirilmiÅŸ. Ã–rneÄŸin, `checkIfAssembleProductHasNoSerialNumber` fonksiyonu test edilirken, fonksiyonun kendisi mock'lanÄ±yor ve test, mock'un yapÄ±landÄ±rÄ±ldÄ±ÄŸÄ± deÄŸeri dÃ¶ndÃ¼rÃ¼p dÃ¶ndÃ¼rmediÄŸini kontrol ediyor. Bu, fonksiyonun gerÃ§ek mantÄ±ÄŸÄ±nÄ± test etmez ve hiÃ§bir gÃ¼vence saÄŸlamaz.                                                                         | unit-test-coverage "}
{"timestamp":"2025-08-19T16:16:07.764Z","level":"info","message":"/__tests__/app/lib/regex-validate-operation.test.ts | 1    | ERROR    | Testler, test edilen fonksiyonlarÄ±n gerÃ§ek davranÄ±ÅŸÄ±nÄ± doÄŸrulamÄ±yor. `validateGSMNo` testi, fonksiyonda kullanÄ±lan (`PHONE_REGEX2`) yerine farklÄ± bir regex'i (`PHONE_REGEX`) test ediyor ve asÄ±l fonksiyonu hiÃ§ Ã§aÄŸÄ±rmÄ±yor. DiÄŸer testler de fonksiyonlarÄ± Ã§aÄŸÄ±rmak yerine doÄŸrudan regex'leri test ediyor veya fonksiyonlarÄ±n iÃ§ uygulama detaylarÄ±na (dÃ¶nen dizinin belirli bir indeksi gibi) baÄŸÄ±mlÄ± kalarak kÄ±rÄ±lgan hale getirilmiÅŸ. | unit-test-coverage "}
{"timestamp":"2025-08-19T16:16:07.764Z","level":"info","message":"/app/lib/request-service-helper.ts                  | 5    | ERROR    | Kodda bÄ±rakÄ±lan `// TODO: ... Ã‡AÄžLAR BURAYA BAK !!!` yorumu, `GetTransferableProductsResponse` tipinde `requestFlowProductAssembleItems` alanÄ±nÄ±n bulunmadÄ±ÄŸÄ±nÄ± belirtiyor. Bu durum, potansiyel bir tip uyumsuzluÄŸuna ve Ã§alÄ±ÅŸma zamanÄ± hatalarÄ±na (runtime error) iÅŸaret etmektedir.                                                                                                                                                     | no-any-type        "}
{"timestamp":"2025-08-19T16:16:07.764Z","level":"info","message":"/app/lib/request-service-helper.ts                  | 10   | INFO     | Fonksiyonlar iÃ§in eklenen JSDoc yorumlarÄ± kodun okunabilirliÄŸini ve bakÄ±mÄ±nÄ± kolaylaÅŸtÄ±rÄ±yor. Bu iyi bir pratik.                                                                                                                                                                                                                                                                                                                           | component-structure"}
{"timestamp":"2025-08-19T16:20:13.796Z","level":"debug","message":"Completed getApproval"}
{"timestamp":"2025-08-19T16:20:13.797Z","level":"info","message":"Mapping 4 findings to ADO comment threads"}
{"timestamp":"2025-08-19T16:20:13.832Z","level":"info","message":"Mapping completed: 4 threads, 4 comments"}
{"timestamp":"2025-08-19T16:20:13.832Z","level":"info","message":"Posting 4 comment threads to PR 18767"}
{"timestamp":"2025-08-19T16:20:13.833Z","level":"debug","message":"Fetching comment threads for PR 18767"}
{"timestamp":"2025-08-19T16:20:13.833Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18767/threads"}
{"timestamp":"2025-08-19T16:20:14.339Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18767/threads"}
{"timestamp":"2025-08-19T16:20:14.340Z","level":"debug","message":"Successfully fetched 0 comment threads"}
{"timestamp":"2025-08-19T16:20:14.340Z","level":"debug","message":"Found 0 existing comment threads"}
{"timestamp":"2025-08-19T16:20:14.340Z","level":"debug","message":"Processing batch 1/1 (4 threads)"}
{"timestamp":"2025-08-19T16:20:14.340Z","level":"debug","message":"Creating new thread at /__tests__/app/lib/regex-validate-operation.test.ts:1"}
{"timestamp":"2025-08-19T16:20:14.341Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T16:20:14.342Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18767/threads"}
{"timestamp":"2025-08-19T16:20:14.561Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18767/threads"}
{"timestamp":"2025-08-19T16:20:14.561Z","level":"debug","message":"Successfully created comment thread 61428"}
{"timestamp":"2025-08-19T16:20:14.561Z","level":"debug","message":"Creating new thread at /__tests__/app/lib/request-service-helper.test.ts:1"}
{"timestamp":"2025-08-19T16:20:14.561Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T16:20:14.562Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18767/threads"}
{"timestamp":"2025-08-19T16:20:14.787Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18767/threads"}
{"timestamp":"2025-08-19T16:20:14.787Z","level":"debug","message":"Successfully created comment thread 61429"}
{"timestamp":"2025-08-19T16:20:14.787Z","level":"debug","message":"Creating new thread at /app/lib/request-service-helper.ts:5"}
{"timestamp":"2025-08-19T16:20:14.787Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T16:20:14.787Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18767/threads"}
{"timestamp":"2025-08-19T16:20:15.166Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18767/threads"}
{"timestamp":"2025-08-19T16:20:15.167Z","level":"debug","message":"Successfully created comment thread 61430"}
{"timestamp":"2025-08-19T16:20:15.167Z","level":"debug","message":"Creating new thread at /app/lib/request-service-helper.ts:10"}
{"timestamp":"2025-08-19T16:20:15.167Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T16:20:15.167Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18767/threads"}
{"timestamp":"2025-08-19T16:20:15.388Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18767/threads"}
{"timestamp":"2025-08-19T16:20:15.388Z","level":"debug","message":"Successfully created comment thread 61431"}
{"timestamp":"2025-08-19T16:20:15.388Z","level":"info","message":"Comment posting completed: 4 threads created, 4 comments created"}
{"timestamp":"2025-08-19T16:20:15.389Z","level":"debug","message":"Completed step 7: Get approval and post comments"}
{"timestamp":"2025-08-19T16:20:15.389Z","level":"info","message":"\u001b[34m[8/8]\u001b[39m Updating PR status and cleaning up..."}
{"timestamp":"2025-08-19T16:20:15.389Z","level":"debug","message":"Starting step 8: Update PR status"}
{"timestamp":"2025-08-19T16:20:15.389Z","level":"debug","message":"Completed step 8: Update PR status"}
{"timestamp":"2025-08-19T16:20:15.389Z","level":"info","message":"\u001b[32mâœ… Review completed successfully in 487664ms\u001b[39m"}
{"timestamp":"2025-08-19T16:20:15.390Z","level":"info","message":"Cleaning up workspace: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755619927732-9yop22"}
{"timestamp":"2025-08-19T16:20:16.102Z","level":"info","message":"Workspace cleanup completed: 3974 files, 982 directories deleted"}
{"timestamp":"2025-08-19T16:20:46.628Z","level":"info","message":"\u001b[34mðŸš€ Starting Azure DevOps PR Review...\u001b[39m"}
{"timestamp":"2025-08-19T16:20:46.630Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T16:20:46.630Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T16:20:46.630Z","level":"info","message":"\u001b[34m[1/8]\u001b[39m Initializing and validating options..."}
{"timestamp":"2025-08-19T16:20:46.630Z","level":"debug","message":"Starting step 1: Initialize"}
{"timestamp":"2025-08-19T16:20:46.632Z","level":"info","message":"Loading configuration..."}
{"timestamp":"2025-08-19T16:20:46.632Z","level":"debug","message":"Found .adorevrc.yaml in project root, loading configuration"}
{"timestamp":"2025-08-19T16:20:46.632Z","level":"debug","message":"Project root configuration loaded successfully"}
{"timestamp":"2025-08-19T16:20:46.633Z","level":"info","message":"Using configuration from: project-root"}
{"timestamp":"2025-08-19T16:20:46.633Z","level":"debug","message":"Log level overridden by ADO_REVIEW_LOG_LEVEL: debug"}
{"timestamp":"2025-08-19T16:20:46.633Z","level":"debug","message":"Configuration loaded and merged successfully"}
{"timestamp":"2025-08-19T16:20:46.633Z","level":"debug","message":"Gemini timeout: 120000ms"}
{"timestamp":"2025-08-19T16:20:46.633Z","level":"debug","message":"Current log level: debug"}
{"timestamp":"2025-08-19T16:20:46.634Z","level":"debug","message":"Initializing GeminiAdapter with timeout: 120000ms"}
{"timestamp":"2025-08-19T16:20:46.635Z","level":"debug","message":"GeminiAdapter initialized with default timeout: 120000ms"}
{"timestamp":"2025-08-19T16:20:46.635Z","level":"debug","message":"All components initialized successfully"}
{"timestamp":"2025-08-19T16:20:46.635Z","level":"debug","message":"Completed step 1: Initialize"}
{"timestamp":"2025-08-19T16:20:46.635Z","level":"info","message":"\u001b[34m[2/8]\u001b[39m Setting up temporary workspace..."}
{"timestamp":"2025-08-19T16:20:46.635Z","level":"debug","message":"Starting step 2: Setup workspace"}
{"timestamp":"2025-08-19T16:20:46.640Z","level":"info","message":"Workspace created: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755620446635-hohjw7"}
{"timestamp":"2025-08-19T16:20:46.640Z","level":"debug","message":"Workspace config path: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755620446635-hohjw7/.adorevrc.yaml"}
{"timestamp":"2025-08-19T16:20:46.640Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T16:20:46.640Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T16:20:46.640Z","level":"debug","message":"Completed step 2: Setup workspace"}
{"timestamp":"2025-08-19T16:20:46.641Z","level":"info","message":"\u001b[34m[3/8]\u001b[39m Fetching PR information and changes..."}
{"timestamp":"2025-08-19T16:20:46.641Z","level":"debug","message":"Starting step 3: Fetch PR info and diffs"}
{"timestamp":"2025-08-19T16:20:46.641Z","level":"debug","message":"Fetching PR 18782 info"}
{"timestamp":"2025-08-19T16:20:46.642Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18782"}
{"timestamp":"2025-08-19T16:20:47.089Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18782"}
{"timestamp":"2025-08-19T16:20:47.090Z","level":"debug","message":"Successfully fetched PR 18782 info"}
{"timestamp":"2025-08-19T16:20:47.090Z","level":"debug","message":"Response status: 200"}
{"timestamp":"2025-08-19T16:20:47.090Z","level":"debug","message":"Response data keys:"}
{"timestamp":"2025-08-19T16:20:47.090Z","level":"debug","message":"PR Info structure:"}
{"timestamp":"2025-08-19T16:20:47.090Z","level":"debug","message":"Completed fetchPRInfo"}
{"timestamp":"2025-08-19T16:20:47.091Z","level":"debug","message":"fetchDiffs - prInfo structure:"}
{"timestamp":"2025-08-19T16:20:47.091Z","level":"info","message":"Cloning repository: https://inploid@dev.azure.com/inploid/AuditReactProject/_git/AuditReactProject.RN0.71.X"}
{"timestamp":"2025-08-19T16:20:47.091Z","level":"debug","message":"Clone options: {\"branch\":\"refs/heads/feature/TDM-14374\",\"workingDirectory\":\"/var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755620446635-hohjw7/source\"}"}
{"timestamp":"2025-08-19T16:20:47.091Z","level":"debug","message":"Executing: git init "}
{"timestamp":"2025-08-19T16:20:47.122Z","level":"debug","message":"Executing: git remote add origin https://inploid@dev.azure.com/inploid/AuditReactProject/_git/AuditReactProject.RN0.71.X"}
{"timestamp":"2025-08-19T16:20:47.135Z","level":"debug","message":"Executing: git fetch origin refs/heads/feature/TDM-14374"}
{"timestamp":"2025-08-19T16:21:27.699Z","level":"debug","message":"Executing: git checkout -b local-branch origin/feature/TDM-14374"}
{"timestamp":"2025-08-19T16:21:28.251Z","level":"debug","message":"Executing: git rev-parse HEAD"}
{"timestamp":"2025-08-19T16:21:28.260Z","level":"info","message":"Successfully cloned repository to /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755620446635-hohjw7/source"}
{"timestamp":"2025-08-19T16:21:28.260Z","level":"debug","message":"Commit ID: 7e31c1366ca48e6c19a950efd90db45e3e285a31"}
{"timestamp":"2025-08-19T16:21:28.260Z","level":"debug","message":"Reinitializing ConfigLoader with cloned workspace directory:"}
{"timestamp":"2025-08-19T16:21:28.260Z","level":"debug","message":"Workspace config path: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755620446635-hohjw7/source/.adorevrc.yaml"}
{"timestamp":"2025-08-19T16:21:28.260Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T16:21:28.260Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T16:21:28.262Z","level":"debug","message":"Found .adorevrc.yaml in project root, loading configuration"}
{"timestamp":"2025-08-19T16:21:28.262Z","level":"debug","message":"Project root configuration loaded successfully"}
{"timestamp":"2025-08-19T16:21:28.262Z","level":"info","message":"Using configuration from: project-root"}
{"timestamp":"2025-08-19T16:21:28.262Z","level":"debug","message":"Log level overridden by ADO_REVIEW_LOG_LEVEL: debug"}
{"timestamp":"2025-08-19T16:21:28.262Z","level":"debug","message":"Configuration loaded and merged successfully"}
{"timestamp":"2025-08-19T16:21:28.262Z","level":"debug","message":"Gemini timeout: 120000ms"}
{"timestamp":"2025-08-19T16:21:28.262Z","level":"debug","message":"Current log level: debug"}
{"timestamp":"2025-08-19T16:21:28.262Z","level":"debug","message":"Reloaded configuration from workspace:"}
{"timestamp":"2025-08-19T16:21:28.263Z","level":"info","message":"Fetching iteration changes for PR 18782"}
{"timestamp":"2025-08-19T16:21:28.263Z","level":"debug","message":"Fetching PR 18782 iterations"}
{"timestamp":"2025-08-19T16:21:28.263Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18782/iterations"}
{"timestamp":"2025-08-19T16:21:28.441Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18782/iterations"}
{"timestamp":"2025-08-19T16:21:28.441Z","level":"debug","message":"Successfully fetched 1 iterations"}
{"timestamp":"2025-08-19T16:21:28.441Z","level":"debug","message":"Fetching changes for iteration 1"}
{"timestamp":"2025-08-19T16:21:28.442Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18782/iterations/1/changes"}
{"timestamp":"2025-08-19T16:21:28.636Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18782/iterations/1/changes"}
{"timestamp":"2025-08-19T16:21:28.636Z","level":"debug","message":"Successfully fetched 15 changes"}
{"timestamp":"2025-08-19T16:21:28.636Z","level":"debug","message":"Processing iteration changes with 15 file changes"}
{"timestamp":"2025-08-19T16:21:28.637Z","level":"debug","message":"Processing iteration change for file: /__mocks__/@react-native-community/geolocation.js"}
{"timestamp":"2025-08-19T16:21:28.637Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 7e31c1366ca48e6c19a950efd90db45e3e285a31"}
{"timestamp":"2025-08-19T16:21:28.637Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 7e31c1366ca48e6c19a950efd90db45e3e285a31 -- __mocks__/@react-native-community/geolocation.js"}
{"timestamp":"2025-08-19T16:21:28.666Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:21:28.666Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/location-helper.test.ts"}
{"timestamp":"2025-08-19T16:21:28.666Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 7e31c1366ca48e6c19a950efd90db45e3e285a31"}
{"timestamp":"2025-08-19T16:21:28.666Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 7e31c1366ca48e6c19a950efd90db45e3e285a31 -- __tests__/app/lib/location-helper.test.ts"}
{"timestamp":"2025-08-19T16:21:28.686Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:21:28.687Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/print-provider.test.ts"}
{"timestamp":"2025-08-19T16:21:28.687Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 7e31c1366ca48e6c19a950efd90db45e3e285a31"}
{"timestamp":"2025-08-19T16:21:28.687Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 7e31c1366ca48e6c19a950efd90db45e3e285a31 -- __tests__/app/lib/print-provider.test.ts"}
{"timestamp":"2025-08-19T16:21:28.703Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:21:28.703Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/request-service-helper.test.ts"}
{"timestamp":"2025-08-19T16:21:28.703Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 7e31c1366ca48e6c19a950efd90db45e3e285a31"}
{"timestamp":"2025-08-19T16:21:28.703Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 7e31c1366ca48e6c19a950efd90db45e3e285a31 -- __tests__/app/lib/request-service-helper.test.ts"}
{"timestamp":"2025-08-19T16:21:28.716Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:21:28.717Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/orientation.test.ts"}
{"timestamp":"2025-08-19T16:21:28.717Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 7e31c1366ca48e6c19a950efd90db45e3e285a31"}
{"timestamp":"2025-08-19T16:21:28.717Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 7e31c1366ca48e6c19a950efd90db45e3e285a31 -- __tests__/app/lib/orientation.test.ts"}
{"timestamp":"2025-08-19T16:21:28.729Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:21:28.729Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/regex-validate-operation.test.ts"}
{"timestamp":"2025-08-19T16:21:28.729Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 7e31c1366ca48e6c19a950efd90db45e3e285a31"}
{"timestamp":"2025-08-19T16:21:28.729Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 7e31c1366ca48e6c19a950efd90db45e3e285a31 -- __tests__/app/lib/regex-validate-operation.test.ts"}
{"timestamp":"2025-08-19T16:21:28.741Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:21:28.741Z","level":"debug","message":"Processing iteration change for file: /app/lib/location-helper.ts"}
{"timestamp":"2025-08-19T16:21:28.741Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 7e31c1366ca48e6c19a950efd90db45e3e285a31"}
{"timestamp":"2025-08-19T16:21:28.741Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 7e31c1366ca48e6c19a950efd90db45e3e285a31 -- app/lib/location-helper.ts"}
{"timestamp":"2025-08-19T16:21:28.753Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:21:28.754Z","level":"debug","message":"Processing iteration change for file: /app/lib/request-service-helper.ts"}
{"timestamp":"2025-08-19T16:21:28.754Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 7e31c1366ca48e6c19a950efd90db45e3e285a31"}
{"timestamp":"2025-08-19T16:21:28.754Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 7e31c1366ca48e6c19a950efd90db45e3e285a31 -- app/lib/request-service-helper.ts"}
{"timestamp":"2025-08-19T16:21:28.765Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:21:28.765Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/responsive.test.ts"}
{"timestamp":"2025-08-19T16:21:28.765Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 7e31c1366ca48e6c19a950efd90db45e3e285a31"}
{"timestamp":"2025-08-19T16:21:28.765Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 7e31c1366ca48e6c19a950efd90db45e3e285a31 -- __tests__/app/lib/responsive.test.ts"}
{"timestamp":"2025-08-19T16:21:28.776Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:21:28.776Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/route-helper.test.ts"}
{"timestamp":"2025-08-19T16:21:28.776Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 7e31c1366ca48e6c19a950efd90db45e3e285a31"}
{"timestamp":"2025-08-19T16:21:28.776Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 7e31c1366ca48e6c19a950efd90db45e3e285a31 -- __tests__/app/lib/route-helper.test.ts"}
{"timestamp":"2025-08-19T16:21:28.787Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:21:28.787Z","level":"debug","message":"Processing iteration change for file: /app/lib/print-provider.ts"}
{"timestamp":"2025-08-19T16:21:28.787Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 7e31c1366ca48e6c19a950efd90db45e3e285a31"}
{"timestamp":"2025-08-19T16:21:28.787Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 7e31c1366ca48e6c19a950efd90db45e3e285a31 -- app/lib/print-provider.ts"}
{"timestamp":"2025-08-19T16:21:28.797Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:21:28.797Z","level":"debug","message":"Processing iteration change for file: /app/lib/responsive.ts"}
{"timestamp":"2025-08-19T16:21:28.798Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 7e31c1366ca48e6c19a950efd90db45e3e285a31"}
{"timestamp":"2025-08-19T16:21:28.798Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 7e31c1366ca48e6c19a950efd90db45e3e285a31 -- app/lib/responsive.ts"}
{"timestamp":"2025-08-19T16:21:28.808Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:21:28.809Z","level":"debug","message":"Processing iteration change for file: /app/lib/regex-validate-operation.ts"}
{"timestamp":"2025-08-19T16:21:28.809Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 7e31c1366ca48e6c19a950efd90db45e3e285a31"}
{"timestamp":"2025-08-19T16:21:28.809Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 7e31c1366ca48e6c19a950efd90db45e3e285a31 -- app/lib/regex-validate-operation.ts"}
{"timestamp":"2025-08-19T16:21:28.819Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:21:28.820Z","level":"debug","message":"Processing iteration change for file: /app/lib/orientation.ts"}
{"timestamp":"2025-08-19T16:21:28.820Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 7e31c1366ca48e6c19a950efd90db45e3e285a31"}
{"timestamp":"2025-08-19T16:21:28.820Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 7e31c1366ca48e6c19a950efd90db45e3e285a31 -- app/lib/orientation.ts"}
{"timestamp":"2025-08-19T16:21:28.830Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:21:28.830Z","level":"debug","message":"Processing iteration change for file: /app/lib/route-helper.ts"}
{"timestamp":"2025-08-19T16:21:28.830Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 7e31c1366ca48e6c19a950efd90db45e3e285a31"}
{"timestamp":"2025-08-19T16:21:28.830Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 7e31c1366ca48e6c19a950efd90db45e3e285a31 -- app/lib/route-helper.ts"}
{"timestamp":"2025-08-19T16:21:28.841Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:21:28.841Z","level":"info","message":"Successfully fetched diff: 15 files, +1595/-65 lines"}
{"timestamp":"2025-08-19T16:21:28.842Z","level":"debug","message":"Diff data saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755620446635-hohjw7/logs/diffs/diff-pr-pr-18782-2025-08-19T16-21-28-842Z.txt"}
{"timestamp":"2025-08-19T16:21:28.842Z","level":"debug","message":"Completed step 3: Fetch PR info and diffs"}
{"timestamp":"2025-08-19T16:21:28.842Z","level":"info","message":"\u001b[34m[4/8]\u001b[39m Loading rules and building review context..."}
{"timestamp":"2025-08-19T16:21:28.842Z","level":"debug","message":"Starting step 4: Load rules and build context"}
{"timestamp":"2025-08-19T16:21:28.843Z","level":"info","message":"Loading review rules and guidelines"}
{"timestamp":"2025-08-19T16:21:28.843Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T16:21:28.843Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T16:21:28.845Z","level":"warn","message":"No rules found in /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T16:21:28.845Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T16:21:28.846Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T16:21:28.847Z","level":"debug","message":"Loaded 28 rules from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T16:21:28.847Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T16:21:28.848Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T16:21:28.848Z","level":"debug","message":"Loaded guideline \"Azure DevOps Review Rules\" from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T16:21:28.848Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T16:21:28.849Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T16:21:28.849Z","level":"debug","message":"Loaded guideline \"React Native Field App - Architecture Guide\" from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T16:21:28.849Z","level":"info","message":"Loaded 1 rule sets, 28 total rules (28 enabled), 2 guidelines"}
{"timestamp":"2025-08-19T16:21:28.849Z","level":"debug","message":"Completed loadRules"}
{"timestamp":"2025-08-19T16:21:28.850Z","level":"info","message":"Building review context"}
{"timestamp":"2025-08-19T16:21:28.850Z","level":"info","message":"Context built: 15 files, 32 hunks, 28 rules, 2 guidelines"}
{"timestamp":"2025-08-19T16:21:28.850Z","level":"debug","message":"Completed step 4: Load rules and build context"}
{"timestamp":"2025-08-19T16:21:28.850Z","level":"info","message":"\u001b[34m[5/8]\u001b[39m Planning and executing AI review..."}
{"timestamp":"2025-08-19T16:21:28.850Z","level":"debug","message":"Starting step 5: Plan and execute review"}
{"timestamp":"2025-08-19T16:21:28.850Z","level":"info","message":"Creating review plan"}
{"timestamp":"2025-08-19T16:21:28.850Z","level":"debug","message":"Completed planReview"}
{"timestamp":"2025-08-19T16:21:28.851Z","level":"debug","message":"Executing Gemini review with plan"}
{"timestamp":"2025-08-19T16:21:28.851Z","level":"info","message":"Executing single batch review"}
{"timestamp":"2025-08-19T16:21:28.851Z","level":"info","message":"Starting Gemini review with model: gemini-2.5-flash"}
{"timestamp":"2025-08-19T16:21:28.851Z","level":"debug","message":"Prompt data saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755620446635-hohjw7/logs/prompts/prompt-pr-review-2025-08-19T16-21-28-851Z.txt"}
{"timestamp":"2025-08-19T16:21:28.852Z","level":"debug","message":"Spawning Gemini CLI with stdin approach"}
{"timestamp":"2025-08-19T16:21:29.629Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T16:21:29.703Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T16:21:29.730Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T16:21:31.950Z","level":"debug","message":"Gemini CLI stderr: Attempt 1 failed with status 429. Retrying with backoff... GaxiosError: [{\n  \"error\": {\n    \"code\": 429,\n    \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\n    \"errors\": [\n      {\n        \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\n        \"domain\": \"global\",\n        \"reason\": \"rateLimitExceeded\"\n      }\n    ],\n    \"status\": \"RESOURCE_EXHAUSTED\"\n  }\n}\n]\n    at Gaxios._request (/Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/gaxios/build/src/gaxios.js:142:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OAuth2Client.requestAsync (/Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/google-auth-library/build/src/auth/oauth2client.js:429:18)\n    at async CodeAssistServer.streamEndpoint (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/code_assist/server.js:60:21)\n    at async CodeAssistServer.generateContentStream (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/code_assist/server.js:21:23)\n    at async retryWithBackoff (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/utils/retry.js:61:20)\n    at async GeminiChat.sendMessageStream (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/core/geminiChat.js:287:36)\n    at async runNonInteractive (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/dist/src/nonInteractiveCli.js:43:36)\n    at async main (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/dist/src/gemini.js:154:5) {\n  config: {\n    url: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse',\n    method: 'POST',\n    params: { alt: 'sse' },\n    headers: {\n      'Content-Type': 'application/json',\n      'User-Agent': 'GeminiCLI/v20.19.0 (darwin; arm64) google-api-nodejs-client/9.15.1',\n      Authorization: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n      'x-goog-api-client': 'gl-node/20.19.0'\n    },\n    responseType: 'stream',\n    body: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n    signal: AbortSignal { aborted: false },\n    paramsSerializer: [Function: paramsSerializer],\n    validateStatus: [Function: validateStatus],\n    errorRedactor: [Function: defaultErrorRedactor]\n  },\n  response: {\n    config: {\n      url: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse',\n      method: 'POST',\n      params: [Object],\n      headers: [Object],\n      responseType: 'stream',\n      body: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n      signal: [AbortSignal],\n      paramsSerializer: [Function: paramsSerializer],\n      validateStatus: [Function: validateStatus],\n      errorRedactor: [Function: defaultErrorRedactor]\n    },\n    data: '[{\\n' +\n      '  \"error\": {\\n' +\n      '    \"code\": 429,\\n' +\n      '    \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\\n' +\n      '    \"errors\": [\\n' +\n      '      {\\n' +\n      '        \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\\n' +\n      '        \"domain\": \"global\",\\n' +\n      '        \"reason\": \"rateLimitExceeded\"\\n' +\n      '      }\\n' +\n      '    ],\\n' +\n      '    \"status\": \"RESOURCE_EXHAUSTED\"\\n' +\n      '  }\\n' +\n      '}\\n' +\n      ']',\n    headers: {\n      'alt-svc': 'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000',\n      'content-length': '514',\n      'content-type': 'application/json; charset=UTF-8',\n      date: 'Tue, 19 Aug 2025 16:21:32 GMT',\n      server: 'ESF',\n      'server-timing': 'gfet4t7; dur=688',\n      vary: 'Origin, X-Origin, Referer',\n      'x-content-type-options': 'nosniff',\n      'x-frame-options': 'SAMEORIGIN',\n      'x-xss-protection': '0'\n    },\n    status: 429,\n    statusText: 'Too Many Requests',\n    request: {\n      responseURL: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse'\n    }\n  },\n  error: undefined,\n  status: 429,\n  [Symbol(gaxios-gaxios-error)]: '6.7.1'\n}"}
{"timestamp":"2025-08-19T16:21:36.680Z","level":"debug","message":"Gemini CLI stderr: Attempt 2 failed with status 429. Retrying with backoff... GaxiosError: [{\n  \"error\": {\n    \"code\": 429,\n    \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\n    \"errors\": [\n      {\n        \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\n        \"domain\": \"global\",\n        \"reason\": \"rateLimitExceeded\"\n      }\n    ],\n    \"status\": \"RESOURCE_EXHAUSTED\"\n  }\n}\n]\n    at Gaxios._request (/Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/gaxios/build/src/gaxios.js:142:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OAuth2Client.requestAsync (/Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/google-auth-library/build/src/auth/oauth2client.js:429:18)\n    at async CodeAssistServer.streamEndpoint (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/code_assist/server.js:60:21)\n    at async CodeAssistServer.generateContentStream (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/code_assist/server.js:21:23)\n    at async retryWithBackoff (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/utils/retry.js:61:20)\n    at async GeminiChat.sendMessageStream (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/core/geminiChat.js:287:36)\n    at async runNonInteractive (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/dist/src/nonInteractiveCli.js:43:36)\n    at async main (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/dist/src/gemini.js:154:5) {\n  config: {\n    url: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse',\n    method: 'POST',\n    params: { alt: 'sse' },\n    headers: {\n      'Content-Type': 'application/json',\n      'User-Agent': 'GeminiCLI/v20.19.0 (darwin; arm64) google-api-nodejs-client/9.15.1',\n      Authorization: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n      'x-goog-api-client': 'gl-node/20.19.0'\n    },\n    responseType: 'stream',\n    body: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n    signal: AbortSignal { aborted: false },\n    paramsSerializer: [Function: paramsSerializer],\n    validateStatus: [Function: validateStatus],\n    errorRedactor: [Function: defaultErrorRedactor]\n  },\n  response: {\n    config: {\n      url: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse',\n      method: 'POST',\n      params: [Object],\n      headers: [Object],\n      responseType: 'stream',\n      body: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n      signal: [AbortSignal],\n      paramsSerializer: [Function: paramsSerializer],\n      validateStatus: [Function: validateStatus],\n      errorRedactor: [Function: defaultErrorRedactor]\n    },\n    data: '[{\\n' +\n      '  \"error\": {\\n' +\n      '    \"code\": 429,\\n' +\n      '    \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\\n' +\n      '    \"errors\": [\\n' +\n      '      {\\n' +\n      '        \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\\n' +\n      '        \"domain\": \"global\",\\n' +\n      '        \"reason\": \"rateLimitExceeded\"\\n' +\n      '      }\\n' +\n      '    ],\\n' +\n      '    \"status\": \"RESOURCE_EXHAUSTED\"\\n' +\n      '  }\\n' +\n      '}\\n' +\n      ']',\n    headers: {\n      'alt-svc': 'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000',\n      'content-length': '514',\n      'content-type': 'application/json; charset=UTF-8',\n      date: 'Tue, 19 Aug 2025 16:21:36 GMT',\n      server: 'ESF',\n      'server-timing': 'gfet4t7; dur=508',\n      vary: 'Origin, X-Origin, Referer',\n      'x-content-type-options': 'nosniff',\n      'x-frame-options': 'SAMEORIGIN',\n      'x-xss-protection': '0'\n    },\n    status: 429,\n    statusText: 'Too Many Requests',\n    request: {\n      responseURL: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse'\n    }\n  },\n  error: undefined,\n  status: 429,\n  [Symbol(gaxios-gaxios-error)]: '6.7.1'\n}"}
{"timestamp":"2025-08-19T16:21:45.189Z","level":"debug","message":"Gemini CLI stderr: Attempt 3 failed with status 429. Retrying with backoff... GaxiosError: [{\n  \"error\": {\n    \"code\": 429,\n    \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\n    \"errors\": [\n      {\n        \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\n        \"domain\": \"global\",\n        \"reason\": \"rateLimitExceeded\"\n      }\n    ],\n    \"status\": \"RESOURCE_EXHAUSTED\"\n  }\n}\n]\n    at Gaxios._request (/Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/gaxios/build/src/gaxios.js:142:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OAuth2Client.requestAsync (/Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/google-auth-library/build/src/auth/oauth2client.js:429:18)\n    at async CodeAssistServer.streamEndpoint (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/code_assist/server.js:60:21)\n    at async CodeAssistServer.generateContentStream (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/code_assist/server.js:21:23)\n    at async retryWithBackoff (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/utils/retry.js:61:20)\n    at async GeminiChat.sendMessageStream (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/core/geminiChat.js:287:36)\n    at async runNonInteractive (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/dist/src/nonInteractiveCli.js:43:36)\n    at async main (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/dist/src/gemini.js:154:5) {\n  config: {\n    url: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse',\n    method: 'POST',\n    params: { alt: 'sse' },\n    headers: {\n      'Content-Type': 'application/json',\n      'User-Agent': 'GeminiCLI/v20.19.0 (darwin; arm64) google-api-nodejs-client/9.15.1',\n      Authorization: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n      'x-goog-api-client': 'gl-node/20.19.0'\n    },\n    responseType: 'stream',\n    body: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n    signal: AbortSignal { aborted: false },\n    paramsSerializer: [Function: paramsSerializer],\n    validateStatus: [Function: validateStatus],\n    errorRedactor: [Function: defaultErrorRedactor]\n  },\n  response: {\n    config: {\n      url: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse',\n      method: 'POST',\n      params: [Object],\n      headers: [Object],\n      responseType: 'stream',\n      body: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n      signal: [AbortSignal],\n      paramsSerializer: [Function: paramsSerializer],\n      validateStatus: [Function: validateStatus],\n      errorRedactor: [Function: defaultErrorRedactor]\n    },\n    data: '[{\\n' +\n      '  \"error\": {\\n' +\n      '    \"code\": 429,\\n' +\n      '    \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\\n' +\n      '    \"errors\": [\\n' +\n      '      {\\n' +\n      '        \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\\n' +\n      '        \"domain\": \"global\",\\n' +\n      '        \"reason\": \"rateLimitExceeded\"\\n' +\n      '      }\\n' +\n      '    ],\\n' +\n      '    \"status\": \"RESOURCE_EXHAUSTED\"\\n' +\n      '  }\\n' +\n      '}\\n' +\n      ']',\n    headers: {\n      'alt-svc': 'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000',\n      'content-length': '514',\n      'content-type': 'application/json; charset=UTF-8',\n      date: 'Tue, 19 Aug 2025 16:21:45 GMT',\n      server: 'ESF',\n      'server-timing': 'gfet4t7; dur=844',\n      vary: 'Origin, X-Origin, Referer',\n      'x-content-type-options': 'nosniff',\n      'x-frame-options': 'SAMEORIGIN',\n      'x-xss-protection': '0'\n    },\n    status: 429,\n    statusText: 'Too Many Requests',\n    request: {\n      responseURL: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse'\n    }\n  },\n  error: undefined,\n  status: 429,\n  [Symbol(gaxios-gaxios-error)]: '6.7.1'\n}"}
{"timestamp":"2025-08-19T16:22:56.407Z","level":"debug","message":"Gemini CLI stdout: ```json\n{\n  \"findings\": [\n    {\n      \"file\": \"/__tests__/app/lib/request-service-helper.test.ts\",\n      \"line\": 1,\n      \"endLine\": 215,\n      \"severity\": \"error\",\n      \""}
{"timestamp":"2025-08-19T16:22:56.408Z","level":"debug","message":"Gemini CLI stdout: message\": \"ðŸž Bu test dosyasÄ±, test edilmesi gereken fonksiyonlarÄ±n kendisini mock'layarak sadece mock'un doÄŸru Ã§alÄ±ÅŸÄ±p Ã§alÄ±ÅŸmadÄ±ÄŸÄ±nÄ± kontrol ediyor. FonksiyonlarÄ±n gerÃ§ek implementasyon logiÄŸi test edilmiyor ve bu durum hatalÄ± bir gÃ¼venlik hissiyatÄ± yaratÄ±yor.\",\n      \"suggestion\": \"Test edilen fonksiyonlarÄ± mock'lamak yerine, gerÃ§ek fonksiyonlarÄ± import edip farklÄ± girdilerle davranÄ±ÅŸlarÄ±nÄ± test edin. Ã–rneÄŸin, `checkIfAssembleProductHasNoSerialNumber` fonksiyonunu mock'lamak yerine, ona Ã§eÅŸitli `transferableProducts` objeleri gÃ¶ndererek dÃ¶nen sonucun doÄŸruluÄŸunu kontrol edin.\",\n      \""}
{"timestamp":"2025-08-19T16:22:56.854Z","level":"debug","message":"Gemini CLI stdout: ruleId\": \"unit-test-coverage\",\n      \"category\": \"testing\"\n    },\n    {\n      \"file\": \"/__tests__/app/lib/regex-validate-operation.test.ts\",\n      \"line\": 30,\n      \"endLine\": 36,"}
{"timestamp":"2025-08-19T16:22:57.328Z","level":"debug","message":"Gemini CLI stdout: \"severity\": \"error\",\n      \"message\": \"ðŸž `validateGSMNo` iÃ§in yazÄ±lan test, fonksiyonun kendisini Ã§aÄŸÄ±rmak yerine doÄŸrudan konfigÃ¼rasyon dosyasÄ±ndaki bir `regex`'i test ediyor. AyrÄ±ca, implementasyonda kullanÄ±lan `PHONE_REGEX2` yerine `PHONE"}
{"timestamp":"2025-08-19T16:22:57.774Z","level":"debug","message":"Gemini CLI stdout: _REGEX` kullanÄ±lmÄ±ÅŸ.\",\n      \"suggestion\": \"Testi, `validateGSMNo` fonksiyonunu geÃ§erli ve geÃ§ersiz telefon numaralarÄ±yla Ã§aÄŸÄ±racak ve dÃ¶nen boolean deÄŸeri kontrol edecek ÅŸekilde dÃ¼zeltin. `expect(validateGSMNo('5551234567')).toBe("}
{"timestamp":"2025-08-19T16:22:58.315Z","level":"debug","message":"Gemini CLI stdout: true);` gibi.\",\n      \"ruleId\": \"unit-test-coverage\",\n      \"category\": \"testing\"\n    },\n    {\n      \"file\": \"/__tests__/app/lib/route-helper.test.ts\",\n      \"line\": 150,\n      \""}
{"timestamp":"2025-08-19T16:22:58.762Z","level":"debug","message":"Gemini CLI stdout: endLine\": 235,\n      \"severity\": \"error\",\n      \"message\": \"ðŸž `getLastUnfilledDayOfCurrentRoute` fonksiyonu iÃ§in yazÄ±lan testlerdeki `assertion`'lar (doÄŸrulamalar) hatalÄ± gÃ¶rÃ¼nÃ¼yor. Test aÃ§Ä±klamasÄ± doldurulmamÄ±ÅŸ bir"}
{"timestamp":"2025-08-19T16:22:59.237Z","level":"debug","message":"Gemini CLI stdout: gÃ¼nÃ¼n dÃ¶nmesi gerektiÄŸini belirtirken, test sonucu `undefined` olarak bekleniyor. Bu durum, testin fonksiyonu doÄŸru ÅŸekilde doÄŸrulamadÄ±ÄŸÄ±nÄ± gÃ¶steriyor.\",\n      \"suggestion\": \"Test senaryolarÄ±nÄ± ve mock datayÄ± gÃ¶zden geÃ§irin. Fonksiyonun, mock dataya gÃ¶re gerÃ§ekten bir gÃ¼n objesi"}
{"timestamp":"2025-08-19T16:22:59.753Z","level":"debug","message":"Gemini CLI stdout: dÃ¶nmesi gereken durumlarda `expect(result).toEqual(...)` ile doÄŸru objeyi beklediÄŸinden emin olun. `toBeUndefined()` beklentisini yalnÄ±zca gerÃ§ekten `undefined` dÃ¶nmesi gereken durumlar iÃ§in kullanÄ±n.\",\n      \"ruleId\": \"unit-test-coverage\",\n      \"category\": \""}
{"timestamp":"2025-08-19T16:23:00.172Z","level":"debug","message":"Gemini CLI stdout: testing\"\n    },\n    {\n      \"file\": \"/app/lib/request-service-helper.ts\",\n      \"line\": 65,\n      \"endLine\": 65,\n      \"severity\": \"error\",\n      \"message\": \"Fonksiyon parametrelerinde"}
{"timestamp":"2025-08-19T16:23:00.657Z","level":"debug","message":"Gemini CLI stdout: `any` tipi kullanÄ±lmÄ±ÅŸ. Bu durum tip gÃ¼venliÄŸini zayÄ±flatÄ±r ve potansiyel hatalara yol aÃ§abilir.\",\n      \"suggestion\": \"`allServiceFormItems: any` ve `processingServiceFormItem: any` gibi tanÄ±mlamalar yerine, ilgili objelerin yapÄ±sÄ±nÄ± yansÄ±tan `interface` veya"}
{"timestamp":"2025-08-19T16:23:01.101Z","level":"debug","message":"Gemini CLI stdout: `type` tanÄ±mlarÄ± oluÅŸturup kullanÄ±n.\",\n      \"ruleId\": \"no-any-type\",\n      \"category\": \"typescript\"\n    },\n    {\n      \"file\": \"/app/lib/request-service-helper.ts\",\n      \"line\": 205"}
{"timestamp":"2025-08-19T16:23:01.542Z","level":"debug","message":"Gemini CLI stdout: ,\n      \"endLine\": 205,\n      \"severity\": \"error\",\n      \"message\": \"Fonksiyon parametresinde `any` tipi kullanÄ±lmÄ±ÅŸ. Bu durum tip gÃ¼venliÄŸini zayÄ±flatÄ±r ve potansiyel hatalara yol aÃ§abilir.\",\n      \"suggestion\": \"`answers:"}
{"timestamp":"2025-08-19T16:23:02.022Z","level":"debug","message":"Gemini CLI stdout: any` yerine, cevaplarÄ±n yapÄ±sÄ±nÄ± yansÄ±tan daha spesifik bir tip (`{ [key: string]: string | number | boolean }` gibi) veya bir `interface` kullanÄ±n.\",\n      \"ruleId\": \"no-any-type\",\n      \"category\": \"typescript\"\n    },"}
{"timestamp":"2025-08-19T16:23:02.528Z","level":"debug","message":"Gemini CLI stdout: {\n      \"file\": \"/app/lib/request-service-helper.ts\",\n      \"line\": 5,\n      \"endLine\": 5,\n      \"severity\": \"warning\",\n      \"message\": \"Koddaki `TODO: ... Ã‡AÄžLAR BURAYA BAK !!!` yorum"}
{"timestamp":"2025-08-19T16:23:02.902Z","level":"debug","message":"Gemini CLI stdout: u, Ã§Ã¶zÃ¼lmesi gereken potansiyel bir tip sorununa iÅŸaret ediyor.\",\n      \"suggestion\": \"ðŸ’¡ Bu `TODO` yorumunda belirtilen tip uyuÅŸmazlÄ±ÄŸÄ±nÄ± araÅŸtÄ±rÄ±n ve ilgili tipi dÃ¼zelterek veya `any` yerine doÄŸru tipi kullanarak sorunu giderin.\",\n      \"rule"}
{"timestamp":"2025-08-19T16:23:03.353Z","level":"debug","message":"Gemini CLI stdout: Id\": \"code-quality\",\n      \"category\": \"code-quality\"\n    },\n    {\n      \"file\": \"/app/lib/route-helper.ts\",\n      \"line\": 11,\n      \"endLine\": 11,\n      \"severity\": \""}
{"timestamp":"2025-08-19T16:23:03.859Z","level":"debug","message":"Gemini CLI stdout: error\",\n      \"message\": \"`getWeekDataResult` fonksiyonu `_weekNumber` parametresi iÃ§in `any` tipi kullanÄ±yor.\",\n      \"suggestion\": \"ðŸ’¡ Parametre tipini `_weekNumber?: number` olarak deÄŸiÅŸtirerek tip gÃ¼venliÄŸini saÄŸlayÄ±n.\",\n      \"ruleId\": \""}
{"timestamp":"2025-08-19T16:23:04.191Z","level":"debug","message":"Gemini CLI stdout: no-any-type\",\n      \"category\": \"typescript\"\n    },\n    {\n      \"file\": \"/app/lib/print-provider.ts\",\n      \"line\": 15,\n      \"endLine\": 15,\n      \"severity\": \"error\","}
{"timestamp":"2025-08-19T16:23:04.665Z","level":"debug","message":"Gemini CLI stdout: \"message\": \"`printHtml` fonksiyonunun dÃ¶nÃ¼ÅŸ tipi `Promise<any>` olarak belirtilmiÅŸ. Fonksiyonun implementasyonuna bakÄ±ldÄ±ÄŸÄ±nda daha spesifik bir tip kullanÄ±labilir.\",\n      \"suggestion\": \"ðŸ’¡ Fonksiyonun dÃ¶nÃ¼ÅŸ tipini `Promise<boolean | null>` olarak gÃ¼ncelleyerek kodun tip"}
{"timestamp":"2025-08-19T16:23:05.118Z","level":"debug","message":"Gemini CLI stdout: gÃ¼venliÄŸini ve okunabilirliÄŸini artÄ±rÄ±n.\",\n      \"ruleId\": \"no-any-type\",\n      \"category\": \"typescript\"\n    },\n    {\n      \"file\": \"/app/lib/print-provider.ts\",\n      \"line\": 59,\n      \""}
{"timestamp":"2025-08-19T16:23:05.557Z","level":"debug","message":"Gemini CLI stdout: endLine\": 59,\n      \"severity\": \"error\",\n      \"message\": \"`printPdf` fonksiyonunun dÃ¶nÃ¼ÅŸ tipi `Promise<any>` olarak belirtilmiÅŸ. Fonksiyonun implementasyonuna bakÄ±ldÄ±ÄŸÄ±nda daha spesifik bir tip kullanÄ±labilir.\",\n      \"suggestion\": \"ðŸ’¡ Fonksiyonun"}
{"timestamp":"2025-08-19T16:23:05.963Z","level":"debug","message":"Gemini CLI stdout: dÃ¶nÃ¼ÅŸ tipini `Promise<boolean | null>` olarak gÃ¼ncelleyerek kodun tip gÃ¼venliÄŸini ve okunabilirliÄŸini artÄ±rÄ±n.\",\n      \"ruleId\": \"no-any-type\",\n      \"category\": \"typescript\"\n    },\n    {\n      \"file\": \"/__tests__/"}
{"timestamp":"2025-08-19T16:23:06.522Z","level":"debug","message":"Gemini CLI stdout: app/lib/location-helper.test.ts\",\n      \"line\": 141,\n      \"endLine\": 141,\n      \"severity\": \"error\",\n      \"message\": \"Test dosyasÄ±nda `any` tipi kullanÄ±lmÄ±ÅŸ. Tip gÃ¼venliÄŸini artÄ±rmak iÃ§in"}
{"timestamp":"2025-08-19T16:23:07.124Z","level":"debug","message":"Gemini CLI stdout: `any` yerine daha spesifik tipler kullanÄ±lmalÄ±dÄ±r.\",\n      \"suggestion\": \"ðŸ’¡ `as any` kullanÄ±mÄ±ndan kaÃ§Ä±nÄ±n. Mock nesneler iÃ§in `jest.Mocked<T>` gibi yardÄ±mcÄ± tipler kullanarak veya `ApiResponseContext` iÃ§in sahte bir state objesi oluÅŸturarak tipi koruyun.\","}
{"timestamp":"2025-08-19T16:23:07.593Z","level":"debug","message":"Gemini CLI stdout: \"ruleId\": \"no-any-type\",\n      \"category\": \"typescript\"\n    }\n  ],\n  \"summary\": \"Kod deÄŸiÅŸiklikleri genel olarak test kapsamÄ±nÄ± artÄ±rmaya ve dokÃ¼mantasyon eklemeye yÃ¶nelik. Ancak, eklenen testlerin bir kÄ±smÄ±nda ciddi mantÄ±k"}
{"timestamp":"2025-08-19T16:23:08.062Z","level":"debug","message":"Gemini CLI stdout: hatalarÄ± (hatalÄ± mock kullanÄ±mÄ±, yanlÄ±ÅŸ doÄŸrulamalar) tespit edildi. Bu testler, fonksiyonlarÄ±n doÄŸru Ã§alÄ±ÅŸtÄ±ÄŸÄ±nÄ± garanti etmiyor ve dÃ¼zeltilmeli. AyrÄ±ca, proje kurallarÄ±na aykÄ±rÄ± olarak birden fazla dosyada `any` tipi kullanÄ±mÄ± mevcut; bu kullanÄ±mlarÄ±n kaldÄ±rÄ±lÄ±p spesifik"}
{"timestamp":"2025-08-19T16:23:08.353Z","level":"debug","message":"Gemini CLI stdout: tiplerle deÄŸiÅŸtirilmesi gerekiyor. Fonksiyonlara eklenen JSDoc yorumlarÄ± ise kodun okunabilirliÄŸini artÄ±ran olumlu bir geliÅŸme.\"\n}\n```"}
{"timestamp":"2025-08-19T16:23:08.363Z","level":"debug","message":"Gemini CLI stdout: "}
{"timestamp":"2025-08-19T16:23:08.373Z","level":"debug","message":"Gemini CLI exited with code: 0"}
{"timestamp":"2025-08-19T16:23:08.373Z","level":"debug","message":"Gemini CLI final stdout: [dotenv@16.6.0] injecting env (9) from .env\n[dotenv@16.6.0] injecting env (9) from .env\n[dotenv@16.6.0] injecting env (9) from .env\n```json\n{\n  \"findings\": [\n    {\n      \"file\": \"/__tests__/app/lib/request-service-helper.test.ts\",\n      \"line\": 1,\n      \"endLine\": 215,\n      \"severity\": \"error\",\n      \"message\": \"ðŸž Bu test dosyasÄ±, test edilmesi gereken fonksiyonlarÄ±n kendisini mock'layarak sadece mock'un doÄŸru Ã§alÄ±ÅŸÄ±p Ã§alÄ±ÅŸmadÄ±ÄŸÄ±nÄ± kontrol ediyor. FonksiyonlarÄ±n gerÃ§ek implementasyon logiÄŸi test edilmiyor ve bu durum hatalÄ± bir gÃ¼venlik hissiyatÄ± yaratÄ±yor.\",\n      \"suggestion\": \"Test edilen fonksiyonlarÄ± mock'lamak yerine, gerÃ§ek fonksiyonlarÄ± import edip farklÄ± girdilerle davranÄ±ÅŸlarÄ±nÄ± test edin. Ã–rneÄŸin, `checkIfAssembleProductHasNoSerialNumber` fonksiyonunu mock'lamak yerine, ona Ã§eÅŸitli `transferableProducts` objeleri gÃ¶ndererek dÃ¶nen sonucun doÄŸruluÄŸunu kontrol edin.\",\n      \"ruleId\": \"unit-test-coverage\",\n      \"category\": \"testing\"\n    },\n    {\n      \"file\": \"/__tests__/app/lib/regex-validate-operation.test.ts\",\n      \"line\": 30,\n      \"endLine\": 36,\n      \"severity\": \"error\",\n      \"message\": \"ðŸž `validateGSMNo` iÃ§in yazÄ±lan test, fonksiyonun kendisini Ã§aÄŸÄ±rmak yerine doÄŸrudan konfigÃ¼rasyon dosyasÄ±ndaki bir `regex`'i test ediyor. AyrÄ±ca, implementasyonda kullanÄ±lan `PHONE_REGEX2` yerine `PHONE_REGEX` kullanÄ±lmÄ±ÅŸ.\",\n      \"suggestion\": \"Testi, `validateGSMNo` fonksiyonunu geÃ§erli ve geÃ§ersiz telefon numaralarÄ±yla Ã§aÄŸÄ±racak ve dÃ¶nen boolean deÄŸeri kontrol edecek ÅŸekilde dÃ¼zeltin. `expect(validateGSMNo('5551234567')).toBe(true);` gibi.\",\n      \"ruleId\": \"unit-test-coverage\",\n      \"category\": \"testing\"\n    },\n    {\n      \"file\": \"/__tests__/app/lib/route-helper.test.ts\",\n      \"line\": 150,\n      \"endLine\": 235,\n      \"severity\": \"error\",\n      \"message\": \"ðŸž `getLastUnfilledDayOfCurrentRoute` fonksiyonu iÃ§in yazÄ±lan testlerdeki `assertion`'lar (doÄŸrulamalar) hatalÄ± gÃ¶rÃ¼nÃ¼yor. Test aÃ§Ä±klamasÄ± doldurulmamÄ±ÅŸ bir gÃ¼nÃ¼n dÃ¶nmesi gerektiÄŸini belirtirken, test sonucu `undefined` olarak bekleniyor. Bu durum, testin fonksiyonu doÄŸru ÅŸekilde doÄŸrulamadÄ±ÄŸÄ±nÄ± gÃ¶steriyor.\",\n      \"suggestion\": \"Test senaryolarÄ±nÄ± ve mock datayÄ± gÃ¶zden geÃ§irin. Fonksiyonun, mock dataya gÃ¶re gerÃ§ekten bir gÃ¼n objesi dÃ¶nmesi gereken durumlarda `expect(result).toEqual(...)` ile doÄŸru objeyi beklediÄŸinden emin olun. `toBeUndefined()` beklentisini yalnÄ±zca gerÃ§ekten `undefined` dÃ¶nmesi gereken durumlar iÃ§in kullanÄ±n.\",\n      \"ruleId\": \"unit-test-coverage\",\n      \"category\": \"testing\"\n    },\n    {\n      \"file\": \"/app/lib/request-service-helper.ts\",\n      \"line\": 65,\n      \"endLine\": 65,\n      \"severity\": \"error\",\n      \"message\": \"Fonksiyon parametrelerinde `any` tipi kullanÄ±lmÄ±ÅŸ. Bu durum tip gÃ¼venliÄŸini zayÄ±flatÄ±r ve potansiyel hatalara yol aÃ§abilir.\",\n      \"suggestion\": \"`allServiceFormItems: any` ve `processingServiceFormItem: any` gibi tanÄ±mlamalar yerine, ilgili objelerin yapÄ±sÄ±nÄ± yansÄ±tan `interface` veya `type` tanÄ±mlarÄ± oluÅŸturup kullanÄ±n.\",\n      \"ruleId\": \"no-any-type\",\n      \"category\": \"typescript\"\n    },\n    {\n      \"file\": \"/app/lib/request-service-helper.ts\",\n      \"line\": 205,\n      \"endLine\": 205,\n      \"severity\": \"error\",\n      \"message\": \"Fonksiyon parametresinde `any` tipi kullanÄ±lmÄ±ÅŸ. Bu durum tip gÃ¼venliÄŸini zayÄ±flatÄ±r ve potansiyel hatalara yol aÃ§abilir.\",\n      \"suggestion\": \"`answers: any` yerine, cevaplarÄ±n yapÄ±sÄ±nÄ± yansÄ±tan daha spesifik bir tip (`{ [key: string]: string | number | boolean }` gibi) veya bir `interface` kullanÄ±n.\",\n      \"ruleId\": \"no-any-type\",\n      \"category\": \"typescript\"\n    },\n    {\n      \"file\": \"/app/lib/request-service-helper.ts\",\n      \"line\": 5,\n      \"endLine\": 5,\n      \"severity\": \"warning\",\n      \"message\": \"Koddaki `TODO: ... Ã‡AÄžLAR BURAYA BAK !!!` yorumu, Ã§Ã¶zÃ¼lmesi gereken potansiyel bir tip sorununa iÅŸaret ediyor.\",\n      \"suggestion\": \"ðŸ’¡ Bu `TODO` yorumunda belirtilen tip uyuÅŸmazlÄ±ÄŸÄ±nÄ± araÅŸtÄ±rÄ±n ve ilgili tipi dÃ¼zelterek veya `any` yerine doÄŸru tipi kullanarak sorunu giderin.\",\n      \"ruleId\": \"code-quality\",\n      \"category\": \"code-quality\"\n    },\n    {\n      \"file\": \"/app/lib/route-helper.ts\",\n      \"line\": 11,\n      \"endLine\": 11,\n      \"severity\": \"error\",\n      \"message\": \"`getWeekDataResult` fonksiyonu `_weekNumber` parametresi iÃ§in `any` tipi kullanÄ±yor.\",\n      \"suggestion\": \"ðŸ’¡ Parametre tipini `_weekNumber?: number` olarak deÄŸiÅŸtirerek tip gÃ¼venliÄŸini saÄŸlayÄ±n.\",\n      \"ruleId\": \"no-any-type\",\n      \"category\": \"typescript\"\n    },\n    {\n      \"file\": \"/app/lib/print-provider.ts\",\n      \"line\": 15,\n      \"endLine\": 15,\n      \"severity\": \"error\",\n      \"message\": \"`printHtml` fonksiyonunun dÃ¶nÃ¼ÅŸ tipi `Promise<any>` olarak belirtilmiÅŸ. Fonksiyonun implementasyonuna bakÄ±ldÄ±ÄŸÄ±nda daha spesifik bir tip kullanÄ±labilir.\",\n      \"suggestion\": \"ðŸ’¡ Fonksiyonun dÃ¶nÃ¼ÅŸ tipini `Promise<boolean | null>` olarak gÃ¼ncelleyerek kodun tip gÃ¼venliÄŸini ve okunabilirliÄŸini artÄ±rÄ±n.\",\n      \"ruleId\": \"no-any-type\",\n      \"category\": \"typescript\"\n    },\n    {\n      \"file\": \"/app/lib/print-provider.ts\",\n      \"line\": 59,\n      \"endLine\": 59,\n      \"severity\": \"error\",\n      \"message\": \"`printPdf` fonksiyonunun dÃ¶nÃ¼ÅŸ tipi `Promise<any>` olarak belirtilmiÅŸ. Fonksiyonun implementasyonuna bakÄ±ldÄ±ÄŸÄ±nda daha spesifik bir tip kullanÄ±labilir.\",\n      \"suggestion\": \"ðŸ’¡ Fonksiyonun dÃ¶nÃ¼ÅŸ tipini `Promise<boolean | null>` olarak gÃ¼ncelleyerek kodun tip gÃ¼venliÄŸini ve okunabilirliÄŸini artÄ±rÄ±n.\",\n      \"ruleId\": \"no-any-type\",\n      \"category\": \"typescript\"\n    },\n    {\n      \"file\": \"/__tests__/app/lib/location-helper.test.ts\",\n      \"line\": 141,\n      \"endLine\": 141,\n      \"severity\": \"error\",\n      \"message\": \"Test dosyasÄ±nda `any` tipi kullanÄ±lmÄ±ÅŸ. Tip gÃ¼venliÄŸini artÄ±rmak iÃ§in `any` yerine daha spesifik tipler kullanÄ±lmalÄ±dÄ±r.\",\n      \"suggestion\": \"ðŸ’¡ `as any` kullanÄ±mÄ±ndan kaÃ§Ä±nÄ±n. Mock nesneler iÃ§in `jest.Mocked<T>` gibi yardÄ±mcÄ± tipler kullanarak veya `ApiResponseContext` iÃ§in sahte bir state objesi oluÅŸturarak tipi koruyun.\",\n      \"ruleId\": \"no-any-type\",\n      \"category\": \"typescript\"\n    }\n  ],\n  \"summary\": \"Kod deÄŸiÅŸiklikleri genel olarak test kapsamÄ±nÄ± artÄ±rmaya ve dokÃ¼mantasyon eklemeye yÃ¶nelik. Ancak, eklenen testlerin bir kÄ±smÄ±nda ciddi mantÄ±k hatalarÄ± (hatalÄ± mock kullanÄ±mÄ±, yanlÄ±ÅŸ doÄŸrulamalar) tespit edildi. Bu testler, fonksiyonlarÄ±n doÄŸru Ã§alÄ±ÅŸtÄ±ÄŸÄ±nÄ± garanti etmiyor ve dÃ¼zeltilmeli. AyrÄ±ca, proje kurallarÄ±na aykÄ±rÄ± olarak birden fazla dosyada `any` tipi kullanÄ±mÄ± mevcut; bu kullanÄ±mlarÄ±n kaldÄ±rÄ±lÄ±p spesifik tiplerle deÄŸiÅŸtirilmesi gerekiyor. Fonksiyonlara eklenen JSDoc yorumlarÄ± ise kodun okunabilirliÄŸini artÄ±ran olumlu bir geliÅŸme.\"\n}\n```"}
{"timestamp":"2025-08-19T16:23:08.374Z","level":"debug","message":"Gemini CLI final stderr: Attempt 1 failed with status 429. Retrying with backoff... GaxiosError: [{\n  \"error\": {\n    \"code\": 429,\n    \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\n    \"errors\": [\n      {\n        \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\n        \"domain\": \"global\",\n        \"reason\": \"rateLimitExceeded\"\n      }\n    ],\n    \"status\": \"RESOURCE_EXHAUSTED\"\n  }\n}\n]\n    at Gaxios._request (/Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/gaxios/build/src/gaxios.js:142:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OAuth2Client.requestAsync (/Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/google-auth-library/build/src/auth/oauth2client.js:429:18)\n    at async CodeAssistServer.streamEndpoint (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/code_assist/server.js:60:21)\n    at async CodeAssistServer.generateContentStream (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/code_assist/server.js:21:23)\n    at async retryWithBackoff (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/utils/retry.js:61:20)\n    at async GeminiChat.sendMessageStream (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/core/geminiChat.js:287:36)\n    at async runNonInteractive (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/dist/src/nonInteractiveCli.js:43:36)\n    at async main (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/dist/src/gemini.js:154:5) {\n  config: {\n    url: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse',\n    method: 'POST',\n    params: { alt: 'sse' },\n    headers: {\n      'Content-Type': 'application/json',\n      'User-Agent': 'GeminiCLI/v20.19.0 (darwin; arm64) google-api-nodejs-client/9.15.1',\n      Authorization: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n      'x-goog-api-client': 'gl-node/20.19.0'\n    },\n    responseType: 'stream',\n    body: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n    signal: AbortSignal { aborted: false },\n    paramsSerializer: [Function: paramsSerializer],\n    validateStatus: [Function: validateStatus],\n    errorRedactor: [Function: defaultErrorRedactor]\n  },\n  response: {\n    config: {\n      url: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse',\n      method: 'POST',\n      params: [Object],\n      headers: [Object],\n      responseType: 'stream',\n      body: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n      signal: [AbortSignal],\n      paramsSerializer: [Function: paramsSerializer],\n      validateStatus: [Function: validateStatus],\n      errorRedactor: [Function: defaultErrorRedactor]\n    },\n    data: '[{\\n' +\n      '  \"error\": {\\n' +\n      '    \"code\": 429,\\n' +\n      '    \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\\n' +\n      '    \"errors\": [\\n' +\n      '      {\\n' +\n      '        \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\\n' +\n      '        \"domain\": \"global\",\\n' +\n      '        \"reason\": \"rateLimitExceeded\"\\n' +\n      '      }\\n' +\n      '    ],\\n' +\n      '    \"status\": \"RESOURCE_EXHAUSTED\"\\n' +\n      '  }\\n' +\n      '}\\n' +\n      ']',\n    headers: {\n      'alt-svc': 'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000',\n      'content-length': '514',\n      'content-type': 'application/json; charset=UTF-8',\n      date: 'Tue, 19 Aug 2025 16:21:32 GMT',\n      server: 'ESF',\n      'server-timing': 'gfet4t7; dur=688',\n      vary: 'Origin, X-Origin, Referer',\n      'x-content-type-options': 'nosniff',\n      'x-frame-options': 'SAMEORIGIN',\n      'x-xss-protection': '0'\n    },\n    status: 429,\n    statusText: 'Too Many Requests',\n    request: {\n      responseURL: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse'\n    }\n  },\n  error: undefined,\n  status: 429,\n  [Symbol(gaxios-gaxios-error)]: '6.7.1'\n}\nAttempt 2 failed with status 429. Retrying with backoff... GaxiosError: [{\n  \"error\": {\n    \"code\": 429,\n    \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\n    \"errors\": [\n      {\n        \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\n        \"domain\": \"global\",\n        \"reason\": \"rateLimitExceeded\"\n      }\n    ],\n    \"status\": \"RESOURCE_EXHAUSTED\"\n  }\n}\n]\n    at Gaxios._request (/Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/gaxios/build/src/gaxios.js:142:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OAuth2Client.requestAsync (/Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/google-auth-library/build/src/auth/oauth2client.js:429:18)\n    at async CodeAssistServer.streamEndpoint (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/code_assist/server.js:60:21)\n    at async CodeAssistServer.generateContentStream (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/code_assist/server.js:21:23)\n    at async retryWithBackoff (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/utils/retry.js:61:20)\n    at async GeminiChat.sendMessageStream (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/core/geminiChat.js:287:36)\n    at async runNonInteractive (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/dist/src/nonInteractiveCli.js:43:36)\n    at async main (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/dist/src/gemini.js:154:5) {\n  config: {\n    url: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse',\n    method: 'POST',\n    params: { alt: 'sse' },\n    headers: {\n      'Content-Type': 'application/json',\n      'User-Agent': 'GeminiCLI/v20.19.0 (darwin; arm64) google-api-nodejs-client/9.15.1',\n      Authorization: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n      'x-goog-api-client': 'gl-node/20.19.0'\n    },\n    responseType: 'stream',\n    body: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n    signal: AbortSignal { aborted: false },\n    paramsSerializer: [Function: paramsSerializer],\n    validateStatus: [Function: validateStatus],\n    errorRedactor: [Function: defaultErrorRedactor]\n  },\n  response: {\n    config: {\n      url: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse',\n      method: 'POST',\n      params: [Object],\n      headers: [Object],\n      responseType: 'stream',\n      body: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n      signal: [AbortSignal],\n      paramsSerializer: [Function: paramsSerializer],\n      validateStatus: [Function: validateStatus],\n      errorRedactor: [Function: defaultErrorRedactor]\n    },\n    data: '[{\\n' +\n      '  \"error\": {\\n' +\n      '    \"code\": 429,\\n' +\n      '    \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\\n' +\n      '    \"errors\": [\\n' +\n      '      {\\n' +\n      '        \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\\n' +\n      '        \"domain\": \"global\",\\n' +\n      '        \"reason\": \"rateLimitExceeded\"\\n' +\n      '      }\\n' +\n      '    ],\\n' +\n      '    \"status\": \"RESOURCE_EXHAUSTED\"\\n' +\n      '  }\\n' +\n      '}\\n' +\n      ']',\n    headers: {\n      'alt-svc': 'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000',\n      'content-length': '514',\n      'content-type': 'application/json; charset=UTF-8',\n      date: 'Tue, 19 Aug 2025 16:21:36 GMT',\n      server: 'ESF',\n      'server-timing': 'gfet4t7; dur=508',\n      vary: 'Origin, X-Origin, Referer',\n      'x-content-type-options': 'nosniff',\n      'x-frame-options': 'SAMEORIGIN',\n      'x-xss-protection': '0'\n    },\n    status: 429,\n    statusText: 'Too Many Requests',\n    request: {\n      responseURL: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse'\n    }\n  },\n  error: undefined,\n  status: 429,\n  [Symbol(gaxios-gaxios-error)]: '6.7.1'\n}\nAttempt 3 failed with status 429. Retrying with backoff... GaxiosError: [{\n  \"error\": {\n    \"code\": 429,\n    \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\n    \"errors\": [\n      {\n        \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\n        \"domain\": \"global\",\n        \"reason\": \"rateLimitExceeded\"\n      }\n    ],\n    \"status\": \"RESOURCE_EXHAUSTED\"\n  }\n}\n]\n    at Gaxios._request (/Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/gaxios/build/src/gaxios.js:142:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OAuth2Client.requestAsync (/Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/google-auth-library/build/src/auth/oauth2client.js:429:18)\n    at async CodeAssistServer.streamEndpoint (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/code_assist/server.js:60:21)\n    at async CodeAssistServer.generateContentStream (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/code_assist/server.js:21:23)\n    at async retryWithBackoff (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/utils/retry.js:61:20)\n    at async GeminiChat.sendMessageStream (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/core/geminiChat.js:287:36)\n    at async runNonInteractive (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/dist/src/nonInteractiveCli.js:43:36)\n    at async main (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/dist/src/gemini.js:154:5) {\n  config: {\n    url: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse',\n    method: 'POST',\n    params: { alt: 'sse' },\n    headers: {\n      'Content-Type': 'application/json',\n      'User-Agent': 'GeminiCLI/v20.19.0 (darwin; arm64) google-api-nodejs-client/9.15.1',\n      Authorization: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n      'x-goog-api-client': 'gl-node/20.19.0'\n    },\n    responseType: 'stream',\n    body: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n    signal: AbortSignal { aborted: false },\n    paramsSerializer: [Function: paramsSerializer],\n    validateStatus: [Function: validateStatus],\n    errorRedactor: [Function: defaultErrorRedactor]\n  },\n  response: {\n    config: {\n      url: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse',\n      method: 'POST',\n      params: [Object],\n      headers: [Object],\n      responseType: 'stream',\n      body: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n      signal: [AbortSignal],\n      paramsSerializer: [Function: paramsSerializer],\n      validateStatus: [Function: validateStatus],\n      errorRedactor: [Function: defaultErrorRedactor]\n    },\n    data: '[{\\n' +\n      '  \"error\": {\\n' +\n      '    \"code\": 429,\\n' +\n      '    \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\\n' +\n      '    \"errors\": [\\n' +\n      '      {\\n' +\n      '        \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\\n' +\n      '        \"domain\": \"global\",\\n' +\n      '        \"reason\": \"rateLimitExceeded\"\\n' +\n      '      }\\n' +\n      '    ],\\n' +\n      '    \"status\": \"RESOURCE_EXHAUSTED\"\\n' +\n      '  }\\n' +\n      '}\\n' +\n      ']',\n    headers: {\n      'alt-svc': 'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000',\n      'content-length': '514',\n      'content-type': 'application/json; charset=UTF-8',\n      date: 'Tue, 19 Aug 2025 16:21:45 GMT',\n      server: 'ESF',\n      'server-timing': 'gfet4t7; dur=844',\n      vary: 'Origin, X-Origin, Referer',\n      'x-content-type-options': 'nosniff',\n      'x-frame-options': 'SAMEORIGIN',\n      'x-xss-protection': '0'\n    },\n    status: 429,\n    statusText: 'Too Many Requests',\n    request: {\n      responseURL: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse'\n    }\n  },\n  error: undefined,\n  status: 429,\n  [Symbol(gaxios-gaxios-error)]: '6.7.1'\n}"}
{"timestamp":"2025-08-19T16:23:08.377Z","level":"debug","message":"Gemini response saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755620446635-hohjw7/logs/responses/gemini-response-pr-req-1755620488851-rwm0iwudw-2025-08-19T16-23-08-376Z.json"}
{"timestamp":"2025-08-19T16:23:08.378Z","level":"info","message":"Review completed: 10 findings"}
{"timestamp":"2025-08-19T16:23:08.378Z","level":"debug","message":"Completed step 5: Plan and execute review"}
{"timestamp":"2025-08-19T16:23:08.378Z","level":"info","message":"\u001b[34m[6/8]\u001b[39m Processing and filtering findings..."}
{"timestamp":"2025-08-19T16:23:08.378Z","level":"debug","message":"Starting step 6: Process findings"}
{"timestamp":"2025-08-19T16:23:08.378Z","level":"info","message":"Found 10 total findings, 10 above threshold"}
{"timestamp":"2025-08-19T16:23:08.378Z","level":"debug","message":"Completed step 6: Process findings"}
{"timestamp":"2025-08-19T16:23:08.378Z","level":"info","message":"\u001b[34m[7/8]\u001b[39m Getting approval and posting comments..."}
{"timestamp":"2025-08-19T16:23:08.378Z","level":"debug","message":"Starting step 7: Get approval and post comments"}
{"timestamp":"2025-08-19T16:23:08.378Z","level":"info","message":"File                                                | Line | Severity | Message                                                                                                                                                                                                                                                                                                              | Rule              "}
{"timestamp":"2025-08-19T16:23:08.379Z","level":"info","message":"----------------------------------------------------+------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------"}
{"timestamp":"2025-08-19T16:23:08.379Z","level":"info","message":"/__tests__/app/lib/request-service-helper.test.ts   | 1    | ERROR    | ðŸž Bu test dosyasÄ±, test edilmesi gereken fonksiyonlarÄ±n kendisini mock'layarak sadece mock'un doÄŸru Ã§alÄ±ÅŸÄ±p Ã§alÄ±ÅŸmadÄ±ÄŸÄ±nÄ± kontrol ediyor. FonksiyonlarÄ±n gerÃ§ek implementasyon logiÄŸi test edilmiyor ve bu durum hatalÄ± bir gÃ¼venlik hissiyatÄ± yaratÄ±yor.                                                           | unit-test-coverage"}
{"timestamp":"2025-08-19T16:23:08.380Z","level":"info","message":"/__tests__/app/lib/regex-validate-operation.test.ts | 30   | ERROR    | ðŸž `validateGSMNo` iÃ§in yazÄ±lan test, fonksiyonun kendisini Ã§aÄŸÄ±rmak yerine doÄŸrudan konfigÃ¼rasyon dosyasÄ±ndaki bir `regex`'i test ediyor. AyrÄ±ca, implementasyonda kullanÄ±lan `PHONE_REGEX2` yerine `PHONE_REGEX` kullanÄ±lmÄ±ÅŸ.                                                                                      | unit-test-coverage"}
{"timestamp":"2025-08-19T16:23:08.380Z","level":"info","message":"/__tests__/app/lib/route-helper.test.ts             | 150  | ERROR    | ðŸž `getLastUnfilledDayOfCurrentRoute` fonksiyonu iÃ§in yazÄ±lan testlerdeki `assertion`'lar (doÄŸrulamalar) hatalÄ± gÃ¶rÃ¼nÃ¼yor. Test aÃ§Ä±klamasÄ± doldurulmamÄ±ÅŸ bir gÃ¼nÃ¼n dÃ¶nmesi gerektiÄŸini belirtirken, test sonucu `undefined` olarak bekleniyor. Bu durum, testin fonksiyonu doÄŸru ÅŸekilde doÄŸrulamadÄ±ÄŸÄ±nÄ± gÃ¶steriyor. | unit-test-coverage"}
{"timestamp":"2025-08-19T16:23:08.380Z","level":"info","message":"/app/lib/request-service-helper.ts                  | 65   | ERROR    | Fonksiyon parametrelerinde `any` tipi kullanÄ±lmÄ±ÅŸ. Bu durum tip gÃ¼venliÄŸini zayÄ±flatÄ±r ve potansiyel hatalara yol aÃ§abilir.                                                                                                                                                                                          | no-any-type       "}
{"timestamp":"2025-08-19T16:23:08.380Z","level":"info","message":"/app/lib/request-service-helper.ts                  | 205  | ERROR    | Fonksiyon parametresinde `any` tipi kullanÄ±lmÄ±ÅŸ. Bu durum tip gÃ¼venliÄŸini zayÄ±flatÄ±r ve potansiyel hatalara yol aÃ§abilir.                                                                                                                                                                                            | no-any-type       "}
{"timestamp":"2025-08-19T16:23:08.380Z","level":"info","message":"/app/lib/request-service-helper.ts                  | 5    | WARNING  | Koddaki `TODO: ... Ã‡AÄžLAR BURAYA BAK !!!` yorumu, Ã§Ã¶zÃ¼lmesi gereken potansiyel bir tip sorununa iÅŸaret ediyor.                                                                                                                                                                                                       | code-quality      "}
{"timestamp":"2025-08-19T16:23:08.380Z","level":"info","message":"/app/lib/route-helper.ts                            | 11   | ERROR    | `getWeekDataResult` fonksiyonu `_weekNumber` parametresi iÃ§in `any` tipi kullanÄ±yor.                                                                                                                                                                                                                                 | no-any-type       "}
{"timestamp":"2025-08-19T16:23:08.380Z","level":"info","message":"/app/lib/print-provider.ts                          | 15   | ERROR    | `printHtml` fonksiyonunun dÃ¶nÃ¼ÅŸ tipi `Promise<any>` olarak belirtilmiÅŸ. Fonksiyonun implementasyonuna bakÄ±ldÄ±ÄŸÄ±nda daha spesifik bir tip kullanÄ±labilir.                                                                                                                                                             | no-any-type       "}
{"timestamp":"2025-08-19T16:23:08.380Z","level":"info","message":"/app/lib/print-provider.ts                          | 59   | ERROR    | `printPdf` fonksiyonunun dÃ¶nÃ¼ÅŸ tipi `Promise<any>` olarak belirtilmiÅŸ. Fonksiyonun implementasyonuna bakÄ±ldÄ±ÄŸÄ±nda daha spesifik bir tip kullanÄ±labilir.                                                                                                                                                              | no-any-type       "}
{"timestamp":"2025-08-19T16:23:08.380Z","level":"info","message":"/__tests__/app/lib/location-helper.test.ts          | 141  | ERROR    | Test dosyasÄ±nda `any` tipi kullanÄ±lmÄ±ÅŸ. Tip gÃ¼venliÄŸini artÄ±rmak iÃ§in `any` yerine daha spesifik tipler kullanÄ±lmalÄ±dÄ±r.                                                                                                                                                                                             | no-any-type       "}
{"timestamp":"2025-08-19T17:40:17.898Z","level":"debug","message":"Completed getApproval"}
{"timestamp":"2025-08-19T17:40:17.901Z","level":"info","message":"Mapping 10 findings to ADO comment threads"}
{"timestamp":"2025-08-19T17:40:17.948Z","level":"info","message":"Mapping completed: 10 threads, 10 comments"}
{"timestamp":"2025-08-19T17:40:17.949Z","level":"info","message":"Posting 10 comment threads to PR 18782"}
{"timestamp":"2025-08-19T17:40:17.952Z","level":"debug","message":"Fetching comment threads for PR 18782"}
{"timestamp":"2025-08-19T17:40:17.955Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18782/threads"}
{"timestamp":"2025-08-19T17:40:18.741Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18782/threads"}
{"timestamp":"2025-08-19T17:40:18.742Z","level":"debug","message":"Successfully fetched 1 comment threads"}
{"timestamp":"2025-08-19T17:40:18.742Z","level":"debug","message":"Found 1 existing comment threads"}
{"timestamp":"2025-08-19T17:40:18.742Z","level":"debug","message":"Processing batch 1/2 (5 threads)"}
{"timestamp":"2025-08-19T17:40:18.743Z","level":"debug","message":"Creating new thread at /__tests__/app/lib/location-helper.test.ts:141"}
{"timestamp":"2025-08-19T17:40:18.743Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T17:40:18.743Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18782/threads"}
{"timestamp":"2025-08-19T17:40:18.966Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18782/threads"}
{"timestamp":"2025-08-19T17:40:18.966Z","level":"debug","message":"Successfully created comment thread 61433"}
{"timestamp":"2025-08-19T17:40:18.966Z","level":"debug","message":"Creating new thread at /__tests__/app/lib/regex-validate-operation.test.ts:30"}
{"timestamp":"2025-08-19T17:40:18.966Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T17:40:18.966Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18782/threads"}
{"timestamp":"2025-08-19T17:40:19.191Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18782/threads"}
{"timestamp":"2025-08-19T17:40:19.191Z","level":"debug","message":"Successfully created comment thread 61434"}
{"timestamp":"2025-08-19T17:40:19.191Z","level":"debug","message":"Creating new thread at /__tests__/app/lib/request-service-helper.test.ts:1"}
{"timestamp":"2025-08-19T17:40:19.191Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T17:40:19.191Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18782/threads"}
{"timestamp":"2025-08-19T17:40:19.434Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18782/threads"}
{"timestamp":"2025-08-19T17:40:19.434Z","level":"debug","message":"Successfully created comment thread 61435"}
{"timestamp":"2025-08-19T17:40:19.435Z","level":"debug","message":"Creating new thread at /__tests__/app/lib/route-helper.test.ts:150"}
{"timestamp":"2025-08-19T17:40:19.435Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T17:40:19.435Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18782/threads"}
{"timestamp":"2025-08-19T17:40:19.662Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18782/threads"}
{"timestamp":"2025-08-19T17:40:19.662Z","level":"debug","message":"Successfully created comment thread 61436"}
{"timestamp":"2025-08-19T17:40:19.662Z","level":"debug","message":"Creating new thread at /app/lib/print-provider.ts:15"}
{"timestamp":"2025-08-19T17:40:19.663Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T17:40:19.663Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18782/threads"}
{"timestamp":"2025-08-19T17:40:19.889Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18782/threads"}
{"timestamp":"2025-08-19T17:40:19.890Z","level":"debug","message":"Successfully created comment thread 61437"}
{"timestamp":"2025-08-19T17:40:20.892Z","level":"debug","message":"Processing batch 2/2 (5 threads)"}
{"timestamp":"2025-08-19T17:40:20.892Z","level":"debug","message":"Creating new thread at /app/lib/print-provider.ts:59"}
{"timestamp":"2025-08-19T17:40:20.893Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T17:40:20.893Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18782/threads"}
{"timestamp":"2025-08-19T17:40:21.120Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18782/threads"}
{"timestamp":"2025-08-19T17:40:21.120Z","level":"debug","message":"Successfully created comment thread 61438"}
{"timestamp":"2025-08-19T17:40:21.120Z","level":"debug","message":"Creating new thread at /app/lib/request-service-helper.ts:65"}
{"timestamp":"2025-08-19T17:40:21.120Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T17:40:21.121Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18782/threads"}
{"timestamp":"2025-08-19T17:40:21.343Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18782/threads"}
{"timestamp":"2025-08-19T17:40:21.343Z","level":"debug","message":"Successfully created comment thread 61439"}
{"timestamp":"2025-08-19T17:40:21.343Z","level":"debug","message":"Creating new thread at /app/lib/request-service-helper.ts:205"}
{"timestamp":"2025-08-19T17:40:21.344Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T17:40:21.344Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18782/threads"}
{"timestamp":"2025-08-19T17:40:21.562Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18782/threads"}
{"timestamp":"2025-08-19T17:40:21.563Z","level":"debug","message":"Successfully created comment thread 61440"}
{"timestamp":"2025-08-19T17:40:21.563Z","level":"debug","message":"Creating new thread at /app/lib/route-helper.ts:11"}
{"timestamp":"2025-08-19T17:40:21.563Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T17:40:21.564Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18782/threads"}
{"timestamp":"2025-08-19T17:40:21.820Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18782/threads"}
{"timestamp":"2025-08-19T17:40:21.820Z","level":"debug","message":"Successfully created comment thread 61441"}
{"timestamp":"2025-08-19T17:40:21.820Z","level":"debug","message":"Creating new thread at /app/lib/request-service-helper.ts:5"}
{"timestamp":"2025-08-19T17:40:21.820Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T17:40:21.821Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18782/threads"}
{"timestamp":"2025-08-19T17:40:22.081Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18782/threads"}
{"timestamp":"2025-08-19T17:40:22.081Z","level":"debug","message":"Successfully created comment thread 61442"}
{"timestamp":"2025-08-19T17:40:22.081Z","level":"info","message":"Comment posting completed: 10 threads created, 10 comments created"}
{"timestamp":"2025-08-19T17:40:22.082Z","level":"debug","message":"Completed step 7: Get approval and post comments"}
{"timestamp":"2025-08-19T17:40:22.082Z","level":"info","message":"\u001b[34m[8/8]\u001b[39m Updating PR status and cleaning up..."}
{"timestamp":"2025-08-19T17:40:22.082Z","level":"debug","message":"Starting step 8: Update PR status"}
{"timestamp":"2025-08-19T17:40:22.082Z","level":"debug","message":"Completed step 8: Update PR status"}
{"timestamp":"2025-08-19T17:40:22.082Z","level":"info","message":"\u001b[32mâœ… Review completed successfully in 4775452ms\u001b[39m"}
{"timestamp":"2025-08-19T17:40:22.082Z","level":"info","message":"Cleaning up workspace: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755620446635-hohjw7"}
{"timestamp":"2025-08-19T17:40:22.762Z","level":"info","message":"Workspace cleanup completed: 3975 files, 982 directories deleted"}
{"timestamp":"2025-08-19T17:43:33.752Z","level":"info","message":"\u001b[34mðŸš€ Starting Azure DevOps PR Review...\u001b[39m"}
{"timestamp":"2025-08-19T17:43:33.752Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T17:43:33.753Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T17:43:33.753Z","level":"info","message":"\u001b[34m[1/8]\u001b[39m Initializing and validating options..."}
{"timestamp":"2025-08-19T17:43:33.753Z","level":"debug","message":"Starting step 1: Initialize"}
{"timestamp":"2025-08-19T17:43:33.754Z","level":"info","message":"Loading configuration..."}
{"timestamp":"2025-08-19T17:43:33.755Z","level":"debug","message":"Found .adorevrc.yaml in project root, loading configuration"}
{"timestamp":"2025-08-19T17:43:33.756Z","level":"debug","message":"Project root configuration loaded successfully"}
{"timestamp":"2025-08-19T17:43:33.756Z","level":"info","message":"Using configuration from: project-root"}
{"timestamp":"2025-08-19T17:43:33.756Z","level":"debug","message":"Log level overridden by ADO_REVIEW_LOG_LEVEL: debug"}
{"timestamp":"2025-08-19T17:43:33.756Z","level":"debug","message":"Configuration loaded and merged successfully"}
{"timestamp":"2025-08-19T17:43:33.756Z","level":"debug","message":"Gemini timeout: 120000ms"}
{"timestamp":"2025-08-19T17:43:33.756Z","level":"debug","message":"Current log level: debug"}
{"timestamp":"2025-08-19T17:43:33.757Z","level":"debug","message":"Initializing GeminiAdapter with timeout: 120000ms"}
{"timestamp":"2025-08-19T17:43:33.757Z","level":"debug","message":"GeminiAdapter initialized with default timeout: 120000ms"}
{"timestamp":"2025-08-19T17:43:33.758Z","level":"debug","message":"All components initialized successfully"}
{"timestamp":"2025-08-19T17:43:33.758Z","level":"debug","message":"Completed step 1: Initialize"}
{"timestamp":"2025-08-19T17:43:33.758Z","level":"info","message":"\u001b[34m[2/8]\u001b[39m Setting up temporary workspace..."}
{"timestamp":"2025-08-19T17:43:33.758Z","level":"debug","message":"Starting step 2: Setup workspace"}
{"timestamp":"2025-08-19T17:43:33.764Z","level":"info","message":"Workspace created: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755625413758-mjw79z"}
{"timestamp":"2025-08-19T17:43:33.764Z","level":"debug","message":"Workspace config path: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755625413758-mjw79z/.adorevrc.yaml"}
{"timestamp":"2025-08-19T17:43:33.764Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T17:43:33.764Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T17:43:33.764Z","level":"debug","message":"Completed step 2: Setup workspace"}
{"timestamp":"2025-08-19T17:43:33.764Z","level":"info","message":"\u001b[34m[3/8]\u001b[39m Fetching PR information and changes..."}
{"timestamp":"2025-08-19T17:43:33.764Z","level":"debug","message":"Starting step 3: Fetch PR info and diffs"}
{"timestamp":"2025-08-19T17:43:33.764Z","level":"debug","message":"Fetching PR 18795 info"}
{"timestamp":"2025-08-19T17:43:33.765Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18795"}
{"timestamp":"2025-08-19T17:43:34.195Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18795"}
{"timestamp":"2025-08-19T17:43:34.195Z","level":"debug","message":"Successfully fetched PR 18795 info"}
{"timestamp":"2025-08-19T17:43:34.195Z","level":"debug","message":"Response status: 200"}
{"timestamp":"2025-08-19T17:43:34.195Z","level":"debug","message":"Response data keys:"}
{"timestamp":"2025-08-19T17:43:34.195Z","level":"debug","message":"PR Info structure:"}
{"timestamp":"2025-08-19T17:43:34.196Z","level":"debug","message":"Completed fetchPRInfo"}
{"timestamp":"2025-08-19T17:43:34.196Z","level":"debug","message":"fetchDiffs - prInfo structure:"}
{"timestamp":"2025-08-19T17:43:34.196Z","level":"info","message":"Cloning repository: https://inploid@dev.azure.com/inploid/AuditReactProject/_git/AuditReactProject.RN0.71.X"}
{"timestamp":"2025-08-19T17:43:34.196Z","level":"debug","message":"Clone options: {\"branch\":\"refs/heads/feature/TDM-14375\",\"workingDirectory\":\"/var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755625413758-mjw79z/source\"}"}
{"timestamp":"2025-08-19T17:43:34.196Z","level":"debug","message":"Executing: git init "}
{"timestamp":"2025-08-19T17:43:34.223Z","level":"debug","message":"Executing: git remote add origin https://inploid@dev.azure.com/inploid/AuditReactProject/_git/AuditReactProject.RN0.71.X"}
{"timestamp":"2025-08-19T17:43:34.236Z","level":"debug","message":"Executing: git fetch origin refs/heads/feature/TDM-14375"}
{"timestamp":"2025-08-19T17:44:13.843Z","level":"debug","message":"Executing: git checkout -b local-branch origin/feature/TDM-14375"}
{"timestamp":"2025-08-19T17:44:14.540Z","level":"debug","message":"Executing: git rev-parse HEAD"}
{"timestamp":"2025-08-19T17:44:14.550Z","level":"info","message":"Successfully cloned repository to /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755625413758-mjw79z/source"}
{"timestamp":"2025-08-19T17:44:14.550Z","level":"debug","message":"Commit ID: b43cef4b1944257ac2376e070ae4c94673c34247"}
{"timestamp":"2025-08-19T17:44:14.550Z","level":"debug","message":"Reinitializing ConfigLoader with cloned workspace directory:"}
{"timestamp":"2025-08-19T17:44:14.550Z","level":"debug","message":"Workspace config path: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755625413758-mjw79z/source/.adorevrc.yaml"}
{"timestamp":"2025-08-19T17:44:14.550Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T17:44:14.550Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T17:44:14.552Z","level":"debug","message":"Found .adorevrc.yaml in project root, loading configuration"}
{"timestamp":"2025-08-19T17:44:14.552Z","level":"debug","message":"Project root configuration loaded successfully"}
{"timestamp":"2025-08-19T17:44:14.552Z","level":"info","message":"Using configuration from: project-root"}
{"timestamp":"2025-08-19T17:44:14.552Z","level":"debug","message":"Log level overridden by ADO_REVIEW_LOG_LEVEL: debug"}
{"timestamp":"2025-08-19T17:44:14.552Z","level":"debug","message":"Configuration loaded and merged successfully"}
{"timestamp":"2025-08-19T17:44:14.552Z","level":"debug","message":"Gemini timeout: 120000ms"}
{"timestamp":"2025-08-19T17:44:14.552Z","level":"debug","message":"Current log level: debug"}
{"timestamp":"2025-08-19T17:44:14.553Z","level":"debug","message":"Reloaded configuration from workspace:"}
{"timestamp":"2025-08-19T17:44:14.553Z","level":"info","message":"Fetching iteration changes for PR 18795"}
{"timestamp":"2025-08-19T17:44:14.553Z","level":"debug","message":"Fetching PR 18795 iterations"}
{"timestamp":"2025-08-19T17:44:14.553Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18795/iterations"}
{"timestamp":"2025-08-19T17:44:14.743Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18795/iterations"}
{"timestamp":"2025-08-19T17:44:14.743Z","level":"debug","message":"Successfully fetched 1 iterations"}
{"timestamp":"2025-08-19T17:44:14.743Z","level":"debug","message":"Fetching changes for iteration 1"}
{"timestamp":"2025-08-19T17:44:14.743Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18795/iterations/1/changes"}
{"timestamp":"2025-08-19T17:44:14.924Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18795/iterations/1/changes"}
{"timestamp":"2025-08-19T17:44:14.924Z","level":"debug","message":"Successfully fetched 17 changes"}
{"timestamp":"2025-08-19T17:44:14.924Z","level":"debug","message":"Processing iteration changes with 17 file changes"}
{"timestamp":"2025-08-19T17:44:14.924Z","level":"debug","message":"Processing iteration change for file: /__mocks__/@react-native-community/geolocation.js"}
{"timestamp":"2025-08-19T17:44:14.924Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b43cef4b1944257ac2376e070ae4c94673c34247"}
{"timestamp":"2025-08-19T17:44:14.924Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b43cef4b1944257ac2376e070ae4c94673c34247 -- __mocks__/@react-native-community/geolocation.js"}
{"timestamp":"2025-08-19T17:44:14.936Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:44:14.937Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/location-helper.test.ts"}
{"timestamp":"2025-08-19T17:44:14.937Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b43cef4b1944257ac2376e070ae4c94673c34247"}
{"timestamp":"2025-08-19T17:44:14.937Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b43cef4b1944257ac2376e070ae4c94673c34247 -- __tests__/app/lib/location-helper.test.ts"}
{"timestamp":"2025-08-19T17:44:14.948Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:44:14.949Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/orientation.test.ts"}
{"timestamp":"2025-08-19T17:44:14.949Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b43cef4b1944257ac2376e070ae4c94673c34247"}
{"timestamp":"2025-08-19T17:44:14.949Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b43cef4b1944257ac2376e070ae4c94673c34247 -- __tests__/app/lib/orientation.test.ts"}
{"timestamp":"2025-08-19T17:44:14.959Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:44:14.960Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/regex-validate-operation.test.ts"}
{"timestamp":"2025-08-19T17:44:14.960Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b43cef4b1944257ac2376e070ae4c94673c34247"}
{"timestamp":"2025-08-19T17:44:14.960Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b43cef4b1944257ac2376e070ae4c94673c34247 -- __tests__/app/lib/regex-validate-operation.test.ts"}
{"timestamp":"2025-08-19T17:44:14.971Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:44:14.971Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/request-service-helper.test.ts"}
{"timestamp":"2025-08-19T17:44:14.971Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b43cef4b1944257ac2376e070ae4c94673c34247"}
{"timestamp":"2025-08-19T17:44:14.971Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b43cef4b1944257ac2376e070ae4c94673c34247 -- __tests__/app/lib/request-service-helper.test.ts"}
{"timestamp":"2025-08-19T17:44:14.982Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:44:14.982Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/print-provider.test.ts"}
{"timestamp":"2025-08-19T17:44:14.982Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b43cef4b1944257ac2376e070ae4c94673c34247"}
{"timestamp":"2025-08-19T17:44:14.982Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b43cef4b1944257ac2376e070ae4c94673c34247 -- __tests__/app/lib/print-provider.test.ts"}
{"timestamp":"2025-08-19T17:44:14.993Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:44:14.993Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/sentry/SentryBackend.test.ts"}
{"timestamp":"2025-08-19T17:44:14.993Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b43cef4b1944257ac2376e070ae4c94673c34247"}
{"timestamp":"2025-08-19T17:44:14.993Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b43cef4b1944257ac2376e070ae4c94673c34247 -- __tests__/app/lib/sentry/SentryBackend.test.ts"}
{"timestamp":"2025-08-19T17:44:15.004Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:44:15.004Z","level":"debug","message":"Processing iteration change for file: /app/lib/orientation.ts"}
{"timestamp":"2025-08-19T17:44:15.004Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b43cef4b1944257ac2376e070ae4c94673c34247"}
{"timestamp":"2025-08-19T17:44:15.004Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b43cef4b1944257ac2376e070ae4c94673c34247 -- app/lib/orientation.ts"}
{"timestamp":"2025-08-19T17:44:15.015Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:44:15.015Z","level":"debug","message":"Processing iteration change for file: /app/lib/regex-validate-operation.ts"}
{"timestamp":"2025-08-19T17:44:15.015Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b43cef4b1944257ac2376e070ae4c94673c34247"}
{"timestamp":"2025-08-19T17:44:15.015Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b43cef4b1944257ac2376e070ae4c94673c34247 -- app/lib/regex-validate-operation.ts"}
{"timestamp":"2025-08-19T17:44:15.026Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:44:15.026Z","level":"debug","message":"Processing iteration change for file: /app/lib/print-provider.ts"}
{"timestamp":"2025-08-19T17:44:15.026Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b43cef4b1944257ac2376e070ae4c94673c34247"}
{"timestamp":"2025-08-19T17:44:15.026Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b43cef4b1944257ac2376e070ae4c94673c34247 -- app/lib/print-provider.ts"}
{"timestamp":"2025-08-19T17:44:15.037Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:44:15.037Z","level":"debug","message":"Processing iteration change for file: /app/lib/location-helper.ts"}
{"timestamp":"2025-08-19T17:44:15.037Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b43cef4b1944257ac2376e070ae4c94673c34247"}
{"timestamp":"2025-08-19T17:44:15.037Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b43cef4b1944257ac2376e070ae4c94673c34247 -- app/lib/location-helper.ts"}
{"timestamp":"2025-08-19T17:44:15.049Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:44:15.049Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/responsive.test.ts"}
{"timestamp":"2025-08-19T17:44:15.049Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b43cef4b1944257ac2376e070ae4c94673c34247"}
{"timestamp":"2025-08-19T17:44:15.049Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b43cef4b1944257ac2376e070ae4c94673c34247 -- __tests__/app/lib/responsive.test.ts"}
{"timestamp":"2025-08-19T17:44:15.060Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:44:15.060Z","level":"debug","message":"Processing iteration change for file: /app/lib/request-service-helper.ts"}
{"timestamp":"2025-08-19T17:44:15.060Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b43cef4b1944257ac2376e070ae4c94673c34247"}
{"timestamp":"2025-08-19T17:44:15.060Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b43cef4b1944257ac2376e070ae4c94673c34247 -- app/lib/request-service-helper.ts"}
{"timestamp":"2025-08-19T17:44:15.071Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:44:15.072Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/route-helper.test.ts"}
{"timestamp":"2025-08-19T17:44:15.072Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b43cef4b1944257ac2376e070ae4c94673c34247"}
{"timestamp":"2025-08-19T17:44:15.072Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b43cef4b1944257ac2376e070ae4c94673c34247 -- __tests__/app/lib/route-helper.test.ts"}
{"timestamp":"2025-08-19T17:44:15.083Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:44:15.083Z","level":"debug","message":"Processing iteration change for file: /app/lib/route-helper.ts"}
{"timestamp":"2025-08-19T17:44:15.083Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b43cef4b1944257ac2376e070ae4c94673c34247"}
{"timestamp":"2025-08-19T17:44:15.083Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b43cef4b1944257ac2376e070ae4c94673c34247 -- app/lib/route-helper.ts"}
{"timestamp":"2025-08-19T17:44:15.094Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:44:15.095Z","level":"debug","message":"Processing iteration change for file: /app/lib/responsive.ts"}
{"timestamp":"2025-08-19T17:44:15.095Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b43cef4b1944257ac2376e070ae4c94673c34247"}
{"timestamp":"2025-08-19T17:44:15.095Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b43cef4b1944257ac2376e070ae4c94673c34247 -- app/lib/responsive.ts"}
{"timestamp":"2025-08-19T17:44:15.107Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:44:15.107Z","level":"debug","message":"Processing iteration change for file: /app/lib/sentry/SentryBackend.ts"}
{"timestamp":"2025-08-19T17:44:15.107Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b43cef4b1944257ac2376e070ae4c94673c34247"}
{"timestamp":"2025-08-19T17:44:15.108Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b43cef4b1944257ac2376e070ae4c94673c34247 -- app/lib/sentry/SentryBackend.ts"}
{"timestamp":"2025-08-19T17:44:15.120Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:44:15.120Z","level":"info","message":"Successfully fetched diff: 17 files, +1835/-65 lines"}
{"timestamp":"2025-08-19T17:44:15.122Z","level":"debug","message":"Diff data saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755625413758-mjw79z/logs/diffs/diff-pr-pr-18795-2025-08-19T17-44-15-121Z.txt"}
{"timestamp":"2025-08-19T17:44:15.122Z","level":"debug","message":"Completed step 3: Fetch PR info and diffs"}
{"timestamp":"2025-08-19T17:44:15.122Z","level":"info","message":"\u001b[34m[4/8]\u001b[39m Loading rules and building review context..."}
{"timestamp":"2025-08-19T17:44:15.122Z","level":"debug","message":"Starting step 4: Load rules and build context"}
{"timestamp":"2025-08-19T17:44:15.122Z","level":"info","message":"Loading review rules and guidelines"}
{"timestamp":"2025-08-19T17:44:15.122Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T17:44:15.123Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T17:44:15.125Z","level":"warn","message":"No rules found in /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T17:44:15.125Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T17:44:15.126Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T17:44:15.129Z","level":"debug","message":"Loaded 28 rules from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T17:44:15.129Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T17:44:15.129Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T17:44:15.129Z","level":"debug","message":"Loaded guideline \"Azure DevOps Review Rules\" from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T17:44:15.129Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T17:44:15.130Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T17:44:15.130Z","level":"debug","message":"Loaded guideline \"React Native Field App - Architecture Guide\" from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T17:44:15.130Z","level":"info","message":"Loaded 1 rule sets, 28 total rules (28 enabled), 2 guidelines"}
{"timestamp":"2025-08-19T17:44:15.130Z","level":"debug","message":"Completed loadRules"}
{"timestamp":"2025-08-19T17:44:15.131Z","level":"info","message":"Building review context"}
{"timestamp":"2025-08-19T17:44:15.132Z","level":"info","message":"Context built: 17 files, 34 hunks, 28 rules, 2 guidelines"}
{"timestamp":"2025-08-19T17:44:15.132Z","level":"debug","message":"Completed step 4: Load rules and build context"}
{"timestamp":"2025-08-19T17:44:15.132Z","level":"info","message":"\u001b[34m[5/8]\u001b[39m Planning and executing AI review..."}
{"timestamp":"2025-08-19T17:44:15.133Z","level":"debug","message":"Starting step 5: Plan and execute review"}
{"timestamp":"2025-08-19T17:44:15.133Z","level":"info","message":"Creating review plan"}
{"timestamp":"2025-08-19T17:44:15.133Z","level":"debug","message":"Completed planReview"}
{"timestamp":"2025-08-19T17:44:15.133Z","level":"debug","message":"Executing Gemini review with plan"}
{"timestamp":"2025-08-19T17:44:15.133Z","level":"info","message":"Executing single batch review"}
{"timestamp":"2025-08-19T17:44:15.133Z","level":"info","message":"Starting Gemini review with model: gemini-2.5-flash"}
{"timestamp":"2025-08-19T17:44:15.134Z","level":"debug","message":"Prompt data saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755625413758-mjw79z/logs/prompts/prompt-pr-review-2025-08-19T17-44-15-133Z.txt"}
{"timestamp":"2025-08-19T17:44:15.134Z","level":"debug","message":"Spawning Gemini CLI with stdin approach"}
{"timestamp":"2025-08-19T17:44:16.141Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T17:44:16.223Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T17:44:16.251Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T17:44:54.334Z","level":"debug","message":"Gemini CLI stdout: ```json\n{\n  \"findings\": [\n    {\n      \"file\": \"/__tests__/app/lib/request-service-helper.test.ts\",\n      \"line\": 1,\n      \"endLine\": 215,\n      \"severity\": \"error\",\n      \"message\": \"The test suite for `request-service-helper` is not testing the actual implementation. It mocks the functions that are supposed to be tested and then configures mock return values. The tests only assert that the mocks return these configured values, which provides no validation of the actual business logic.\",\n      \"suggestion\": \""}
{"timestamp":"2025-08-19T17:44:54.697Z","level":"debug","message":"Gemini CLI stdout: The test file should be rewritten to import the real functions from `../../../app/lib/request-service-helper.ts` and test their behavior with different inputs. This will ensure the functions work as expected and provide meaningful test coverage.\",\n      \"ruleId\": \"unit-test-coverage\",\n      \""}
{"timestamp":"2025-08-19T17:44:55.106Z","level":"debug","message":"Gemini CLI stdout: category\": \"testing\"\n    },\n    {\n      \"file\": \"/app/lib/request-service-helper.ts\",\n      \"line\": 5,\n      \"endLine\": 5,\n      \"severity\": \"warning\",\n      \"message\": \"The code contains an"}
{"timestamp":"2025-08-19T17:44:55.618Z","level":"debug","message":"Gemini CLI stdout: informal TODO comment directed at a specific developer: `// TODO: kullanÄ±lan yerde type bu ama Ä±cÄ±nde 'requestFlowProductAssembleItems' field'Ä± yok Ã‡AÄžLAR BURAYA BAK !!!`. Such comments are unprofessional and should not be included in the codebase.\",\n      \"suggestion\": \"Please remove the informal comment"}
{"timestamp":"2025-08-19T17:44:56.130Z","level":"debug","message":"Gemini CLI stdout: . If this points to a legitimate issue, it should be tracked in a proper issue tracking system.\",\n      \"ruleId\": \"component-structure\",\n      \"category\": \"code-quality\"\n    },\n    {\n      \"file\": \"/app/lib/location-helper.ts\","}
{"timestamp":"2025-08-19T17:44:56.642Z","level":"debug","message":"Gemini CLI stdout: \"line\": 269,\n      \"endLine\": 285,\n      \"severity\": \"warning\",\n      \"message\": \"The JSDoc comment does not match the function it is documenting. The comment describes a function for calculating average latitude/longitude and delta, but it"}
{"timestamp":"2025-08-19T17:44:57.154Z","level":"debug","message":"Gemini CLI stdout: is placed above the `addDistanceToEachDestination` function.\",\n      \"suggestion\": \"Please correct the documentation by either moving the comment to the appropriate function or updating the comment's text to accurately describe the `addDistanceToEachDestination` function.\",\n      \"ruleId\": \"component-structure\",\n      \"category"}
{"timestamp":"2025-08-19T17:44:57.563Z","level":"debug","message":"Gemini CLI stdout: \": \"code-quality\"\n    },\n    {\n      \"file\": \"/__tests__/app/lib/sentry/SentryBackend.test.ts\",\n      \"line\": 170,\n      \"endLine\": 174,\n      \"severity\": \"info"}
{"timestamp":"2025-08-19T17:44:58.177Z","level":"debug","message":"Gemini CLI stdout: \",\n      \"message\": \"The test file contains `console.log` statements, which are likely left over from a debugging session.\",\n      \"suggestion\": \"Please remove the `console.log` statements to keep the test output clean.\",\n      \"ruleId\": \"component-structure\",\n      \"category\":"}
{"timestamp":"2025-08-19T17:44:58.690Z","level":"debug","message":"Gemini CLI stdout: \"code-quality\"\n    }\n  ],\n  \"summary\": \"The review identified several areas for improvement. A critical issue was found in a test file that provides no actual test coverage for its target module. Additionally, there are minor issues related to code cleanliness, such as leftover debugging statements and unprofessional comments, and a"}
{"timestamp":"2025-08-19T17:44:59.124Z","level":"debug","message":"Gemini CLI stdout: documentation error where a comment does not match the function it describes. The newly added JSDoc comments and other unit tests are a good step towards improving code quality and maintainability.\"\n}\n```"}
{"timestamp":"2025-08-19T17:44:59.141Z","level":"debug","message":"Gemini CLI stdout: "}
{"timestamp":"2025-08-19T17:44:59.149Z","level":"debug","message":"Gemini CLI exited with code: 0"}
{"timestamp":"2025-08-19T17:44:59.150Z","level":"debug","message":"Gemini CLI final stdout: [dotenv@16.6.0] injecting env (9) from .env\n[dotenv@16.6.0] injecting env (9) from .env\n[dotenv@16.6.0] injecting env (9) from .env\n```json\n{\n  \"findings\": [\n    {\n      \"file\": \"/__tests__/app/lib/request-service-helper.test.ts\",\n      \"line\": 1,\n      \"endLine\": 215,\n      \"severity\": \"error\",\n      \"message\": \"The test suite for `request-service-helper` is not testing the actual implementation. It mocks the functions that are supposed to be tested and then configures mock return values. The tests only assert that the mocks return these configured values, which provides no validation of the actual business logic.\",\n      \"suggestion\": \"The test file should be rewritten to import the real functions from `../../../app/lib/request-service-helper.ts` and test their behavior with different inputs. This will ensure the functions work as expected and provide meaningful test coverage.\",\n      \"ruleId\": \"unit-test-coverage\",\n      \"category\": \"testing\"\n    },\n    {\n      \"file\": \"/app/lib/request-service-helper.ts\",\n      \"line\": 5,\n      \"endLine\": 5,\n      \"severity\": \"warning\",\n      \"message\": \"The code contains an informal TODO comment directed at a specific developer: `// TODO: kullanÄ±lan yerde type bu ama Ä±cÄ±nde 'requestFlowProductAssembleItems' field'Ä± yok Ã‡AÄžLAR BURAYA BAK !!!`. Such comments are unprofessional and should not be included in the codebase.\",\n      \"suggestion\": \"Please remove the informal comment. If this points to a legitimate issue, it should be tracked in a proper issue tracking system.\",\n      \"ruleId\": \"component-structure\",\n      \"category\": \"code-quality\"\n    },\n    {\n      \"file\": \"/app/lib/location-helper.ts\",\n      \"line\": 269,\n      \"endLine\": 285,\n      \"severity\": \"warning\",\n      \"message\": \"The JSDoc comment does not match the function it is documenting. The comment describes a function for calculating average latitude/longitude and delta, but it is placed above the `addDistanceToEachDestination` function.\",\n      \"suggestion\": \"Please correct the documentation by either moving the comment to the appropriate function or updating the comment's text to accurately describe the `addDistanceToEachDestination` function.\",\n      \"ruleId\": \"component-structure\",\n      \"category\": \"code-quality\"\n    },\n    {\n      \"file\": \"/__tests__/app/lib/sentry/SentryBackend.test.ts\",\n      \"line\": 170,\n      \"endLine\": 174,\n      \"severity\": \"info\",\n      \"message\": \"The test file contains `console.log` statements, which are likely left over from a debugging session.\",\n      \"suggestion\": \"Please remove the `console.log` statements to keep the test output clean.\",\n      \"ruleId\": \"component-structure\",\n      \"category\": \"code-quality\"\n    }\n  ],\n  \"summary\": \"The review identified several areas for improvement. A critical issue was found in a test file that provides no actual test coverage for its target module. Additionally, there are minor issues related to code cleanliness, such as leftover debugging statements and unprofessional comments, and a documentation error where a comment does not match the function it describes. The newly added JSDoc comments and other unit tests are a good step towards improving code quality and maintainability.\"\n}\n```"}
{"timestamp":"2025-08-19T17:44:59.150Z","level":"debug","message":"Gemini CLI final stderr: "}
{"timestamp":"2025-08-19T17:44:59.152Z","level":"debug","message":"Gemini response saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755625413758-mjw79z/logs/responses/gemini-response-pr-req-1755625455133-6w3qblcon-2025-08-19T17-44-59-151Z.json"}
{"timestamp":"2025-08-19T17:44:59.153Z","level":"info","message":"Review completed: 4 findings"}
{"timestamp":"2025-08-19T17:44:59.153Z","level":"debug","message":"Completed step 5: Plan and execute review"}
{"timestamp":"2025-08-19T17:44:59.153Z","level":"info","message":"\u001b[34m[6/8]\u001b[39m Processing and filtering findings..."}
{"timestamp":"2025-08-19T17:44:59.153Z","level":"debug","message":"Starting step 6: Process findings"}
{"timestamp":"2025-08-19T17:44:59.153Z","level":"info","message":"Found 4 total findings, 4 above threshold"}
{"timestamp":"2025-08-19T17:44:59.153Z","level":"debug","message":"Completed step 6: Process findings"}
{"timestamp":"2025-08-19T17:44:59.153Z","level":"info","message":"\u001b[34m[7/8]\u001b[39m Getting approval and posting comments..."}
{"timestamp":"2025-08-19T17:44:59.153Z","level":"debug","message":"Starting step 7: Get approval and post comments"}
{"timestamp":"2025-08-19T17:44:59.154Z","level":"info","message":"File                                              | Line | Severity | Message                                                                                                                                                                                                                                                                                                             | Rule               "}
{"timestamp":"2025-08-19T17:44:59.154Z","level":"info","message":"--------------------------------------------------+------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------"}
{"timestamp":"2025-08-19T17:44:59.154Z","level":"info","message":"/__tests__/app/lib/request-service-helper.test.ts | 1    | ERROR    | The test suite for `request-service-helper` is not testing the actual implementation. It mocks the functions that are supposed to be tested and then configures mock return values. The tests only assert that the mocks return these configured values, which provides no validation of the actual business logic. | unit-test-coverage "}
{"timestamp":"2025-08-19T17:44:59.154Z","level":"info","message":"/app/lib/request-service-helper.ts                | 5    | WARNING  | The code contains an informal TODO comment directed at a specific developer: `// TODO: kullanÄ±lan yerde type bu ama Ä±cÄ±nde 'requestFlowProductAssembleItems' field'Ä± yok Ã‡AÄžLAR BURAYA BAK !!!`. Such comments are unprofessional and should not be included in the codebase.                                       | component-structure"}
{"timestamp":"2025-08-19T17:44:59.154Z","level":"info","message":"/app/lib/location-helper.ts                       | 269  | WARNING  | The JSDoc comment does not match the function it is documenting. The comment describes a function for calculating average latitude/longitude and delta, but it is placed above the `addDistanceToEachDestination` function.                                                                                         | component-structure"}
{"timestamp":"2025-08-19T17:44:59.155Z","level":"info","message":"/__tests__/app/lib/sentry/SentryBackend.test.ts   | 170  | INFO     | The test file contains `console.log` statements, which are likely left over from a debugging session.                                                                                                                                                                                                               | component-structure"}
{"timestamp":"2025-08-19T17:46:46.320Z","level":"debug","message":"Completed getApproval"}
{"timestamp":"2025-08-19T17:46:46.322Z","level":"info","message":"Mapping 4 findings to ADO comment threads"}
{"timestamp":"2025-08-19T17:46:46.351Z","level":"info","message":"Mapping completed: 4 threads, 4 comments"}
{"timestamp":"2025-08-19T17:46:46.361Z","level":"info","message":"Posting 4 comment threads to PR 18795"}
{"timestamp":"2025-08-19T17:46:46.366Z","level":"debug","message":"Fetching comment threads for PR 18795"}
{"timestamp":"2025-08-19T17:46:46.411Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18795/threads"}
{"timestamp":"2025-08-19T17:46:46.791Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18795/threads"}
{"timestamp":"2025-08-19T17:46:46.795Z","level":"debug","message":"Successfully fetched 0 comment threads"}
{"timestamp":"2025-08-19T17:46:46.795Z","level":"debug","message":"Found 0 existing comment threads"}
{"timestamp":"2025-08-19T17:46:46.795Z","level":"debug","message":"Processing batch 1/1 (4 threads)"}
{"timestamp":"2025-08-19T17:46:46.796Z","level":"debug","message":"Creating new thread at /__tests__/app/lib/request-service-helper.test.ts:1"}
{"timestamp":"2025-08-19T17:46:46.797Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T17:46:46.798Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18795/threads"}
{"timestamp":"2025-08-19T17:46:47.031Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18795/threads"}
{"timestamp":"2025-08-19T17:46:47.031Z","level":"debug","message":"Successfully created comment thread 61443"}
{"timestamp":"2025-08-19T17:46:47.031Z","level":"debug","message":"Creating new thread at /app/lib/location-helper.ts:269"}
{"timestamp":"2025-08-19T17:46:47.031Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T17:46:47.032Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18795/threads"}
{"timestamp":"2025-08-19T17:46:47.256Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18795/threads"}
{"timestamp":"2025-08-19T17:46:47.256Z","level":"debug","message":"Successfully created comment thread 61444"}
{"timestamp":"2025-08-19T17:46:47.256Z","level":"debug","message":"Creating new thread at /app/lib/request-service-helper.ts:5"}
{"timestamp":"2025-08-19T17:46:47.256Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T17:46:47.256Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18795/threads"}
{"timestamp":"2025-08-19T17:46:47.484Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18795/threads"}
{"timestamp":"2025-08-19T17:46:47.484Z","level":"debug","message":"Successfully created comment thread 61445"}
{"timestamp":"2025-08-19T17:46:47.484Z","level":"debug","message":"Creating new thread at /__tests__/app/lib/sentry/SentryBackend.test.ts:170"}
{"timestamp":"2025-08-19T17:46:47.484Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T17:46:47.484Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18795/threads"}
{"timestamp":"2025-08-19T17:46:47.695Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18795/threads"}
{"timestamp":"2025-08-19T17:46:47.695Z","level":"debug","message":"Successfully created comment thread 61446"}
{"timestamp":"2025-08-19T17:46:47.696Z","level":"info","message":"Comment posting completed: 4 threads created, 4 comments created"}
{"timestamp":"2025-08-19T17:46:47.696Z","level":"debug","message":"Completed step 7: Get approval and post comments"}
{"timestamp":"2025-08-19T17:46:47.696Z","level":"info","message":"\u001b[34m[8/8]\u001b[39m Updating PR status and cleaning up..."}
{"timestamp":"2025-08-19T17:46:47.696Z","level":"debug","message":"Starting step 8: Update PR status"}
{"timestamp":"2025-08-19T17:46:47.696Z","level":"debug","message":"Completed step 8: Update PR status"}
{"timestamp":"2025-08-19T17:46:47.696Z","level":"info","message":"\u001b[32mâœ… Review completed successfully in 193943ms\u001b[39m"}
{"timestamp":"2025-08-19T17:46:47.697Z","level":"info","message":"Cleaning up workspace: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755625413758-mjw79z"}
{"timestamp":"2025-08-19T17:46:48.482Z","level":"info","message":"Workspace cleanup completed: 3976 files, 983 directories deleted"}
{"timestamp":"2025-08-19T17:47:42.204Z","level":"info","message":"\u001b[34mðŸš€ Starting Azure DevOps PR Review...\u001b[39m"}
{"timestamp":"2025-08-19T17:47:42.204Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T17:47:42.205Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T17:47:42.205Z","level":"info","message":"\u001b[34m[1/8]\u001b[39m Initializing and validating options..."}
{"timestamp":"2025-08-19T17:47:42.205Z","level":"debug","message":"Starting step 1: Initialize"}
{"timestamp":"2025-08-19T17:47:42.206Z","level":"info","message":"Loading configuration..."}
{"timestamp":"2025-08-19T17:47:42.207Z","level":"debug","message":"Found .adorevrc.yaml in project root, loading configuration"}
{"timestamp":"2025-08-19T17:47:42.207Z","level":"debug","message":"Project root configuration loaded successfully"}
{"timestamp":"2025-08-19T17:47:42.207Z","level":"info","message":"Using configuration from: project-root"}
{"timestamp":"2025-08-19T17:47:42.207Z","level":"debug","message":"Log level overridden by ADO_REVIEW_LOG_LEVEL: debug"}
{"timestamp":"2025-08-19T17:47:42.207Z","level":"debug","message":"Configuration loaded and merged successfully"}
{"timestamp":"2025-08-19T17:47:42.207Z","level":"debug","message":"Gemini timeout: 120000ms"}
{"timestamp":"2025-08-19T17:47:42.207Z","level":"debug","message":"Current log level: debug"}
{"timestamp":"2025-08-19T17:47:42.208Z","level":"debug","message":"Initializing GeminiAdapter with timeout: 120000ms"}
{"timestamp":"2025-08-19T17:47:42.209Z","level":"debug","message":"GeminiAdapter initialized with default timeout: 120000ms"}
{"timestamp":"2025-08-19T17:47:42.209Z","level":"debug","message":"All components initialized successfully"}
{"timestamp":"2025-08-19T17:47:42.209Z","level":"debug","message":"Completed step 1: Initialize"}
{"timestamp":"2025-08-19T17:47:42.209Z","level":"info","message":"\u001b[34m[2/8]\u001b[39m Setting up temporary workspace..."}
{"timestamp":"2025-08-19T17:47:42.209Z","level":"debug","message":"Starting step 2: Setup workspace"}
{"timestamp":"2025-08-19T17:47:42.216Z","level":"info","message":"Workspace created: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755625662210-ds6qwf"}
{"timestamp":"2025-08-19T17:47:42.217Z","level":"debug","message":"Workspace config path: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755625662210-ds6qwf/.adorevrc.yaml"}
{"timestamp":"2025-08-19T17:47:42.217Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T17:47:42.217Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T17:47:42.217Z","level":"debug","message":"Completed step 2: Setup workspace"}
{"timestamp":"2025-08-19T17:47:42.217Z","level":"info","message":"\u001b[34m[3/8]\u001b[39m Fetching PR information and changes..."}
{"timestamp":"2025-08-19T17:47:42.217Z","level":"debug","message":"Starting step 3: Fetch PR info and diffs"}
{"timestamp":"2025-08-19T17:47:42.217Z","level":"debug","message":"Fetching PR 18816 info"}
{"timestamp":"2025-08-19T17:47:42.218Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18816"}
{"timestamp":"2025-08-19T17:47:42.612Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18816"}
{"timestamp":"2025-08-19T17:47:42.612Z","level":"debug","message":"Successfully fetched PR 18816 info"}
{"timestamp":"2025-08-19T17:47:42.612Z","level":"debug","message":"Response status: 200"}
{"timestamp":"2025-08-19T17:47:42.612Z","level":"debug","message":"Response data keys:"}
{"timestamp":"2025-08-19T17:47:42.612Z","level":"debug","message":"PR Info structure:"}
{"timestamp":"2025-08-19T17:47:42.612Z","level":"debug","message":"Completed fetchPRInfo"}
{"timestamp":"2025-08-19T17:47:42.613Z","level":"debug","message":"fetchDiffs - prInfo structure:"}
{"timestamp":"2025-08-19T17:47:42.613Z","level":"info","message":"Cloning repository: https://inploid@dev.azure.com/inploid/AuditReactProject/_git/AuditReactProject.RN0.71.X"}
{"timestamp":"2025-08-19T17:47:42.613Z","level":"debug","message":"Clone options: {\"branch\":\"refs/heads/feature/TDM-14376\",\"workingDirectory\":\"/var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755625662210-ds6qwf/source\"}"}
{"timestamp":"2025-08-19T17:47:42.613Z","level":"debug","message":"Executing: git init "}
{"timestamp":"2025-08-19T17:47:42.637Z","level":"debug","message":"Executing: git remote add origin https://inploid@dev.azure.com/inploid/AuditReactProject/_git/AuditReactProject.RN0.71.X"}
{"timestamp":"2025-08-19T17:47:42.651Z","level":"debug","message":"Executing: git fetch origin refs/heads/feature/TDM-14376"}
{"timestamp":"2025-08-19T17:48:24.247Z","level":"debug","message":"Executing: git checkout -b local-branch origin/feature/TDM-14376"}
{"timestamp":"2025-08-19T17:48:24.801Z","level":"debug","message":"Executing: git rev-parse HEAD"}
{"timestamp":"2025-08-19T17:48:24.811Z","level":"info","message":"Successfully cloned repository to /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755625662210-ds6qwf/source"}
{"timestamp":"2025-08-19T17:48:24.811Z","level":"debug","message":"Commit ID: 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:48:24.811Z","level":"debug","message":"Reinitializing ConfigLoader with cloned workspace directory:"}
{"timestamp":"2025-08-19T17:48:24.811Z","level":"debug","message":"Workspace config path: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755625662210-ds6qwf/source/.adorevrc.yaml"}
{"timestamp":"2025-08-19T17:48:24.811Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T17:48:24.811Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T17:48:24.812Z","level":"debug","message":"Found .adorevrc.yaml in project root, loading configuration"}
{"timestamp":"2025-08-19T17:48:24.813Z","level":"debug","message":"Project root configuration loaded successfully"}
{"timestamp":"2025-08-19T17:48:24.813Z","level":"info","message":"Using configuration from: project-root"}
{"timestamp":"2025-08-19T17:48:24.813Z","level":"debug","message":"Log level overridden by ADO_REVIEW_LOG_LEVEL: debug"}
{"timestamp":"2025-08-19T17:48:24.813Z","level":"debug","message":"Configuration loaded and merged successfully"}
{"timestamp":"2025-08-19T17:48:24.813Z","level":"debug","message":"Gemini timeout: 120000ms"}
{"timestamp":"2025-08-19T17:48:24.813Z","level":"debug","message":"Current log level: debug"}
{"timestamp":"2025-08-19T17:48:24.813Z","level":"debug","message":"Reloaded configuration from workspace:"}
{"timestamp":"2025-08-19T17:48:24.813Z","level":"info","message":"Fetching iteration changes for PR 18816"}
{"timestamp":"2025-08-19T17:48:24.813Z","level":"debug","message":"Fetching PR 18816 iterations"}
{"timestamp":"2025-08-19T17:48:24.814Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18816/iterations"}
{"timestamp":"2025-08-19T17:48:24.996Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18816/iterations"}
{"timestamp":"2025-08-19T17:48:24.996Z","level":"debug","message":"Successfully fetched 1 iterations"}
{"timestamp":"2025-08-19T17:48:24.996Z","level":"debug","message":"Fetching changes for iteration 1"}
{"timestamp":"2025-08-19T17:48:24.997Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18816/iterations/1/changes"}
{"timestamp":"2025-08-19T17:48:25.177Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18816/iterations/1/changes"}
{"timestamp":"2025-08-19T17:48:25.177Z","level":"debug","message":"Successfully fetched 19 changes"}
{"timestamp":"2025-08-19T17:48:25.177Z","level":"debug","message":"Processing iteration changes with 19 file changes"}
{"timestamp":"2025-08-19T17:48:25.177Z","level":"debug","message":"Processing iteration change for file: /__mocks__/@react-native-community/geolocation.js"}
{"timestamp":"2025-08-19T17:48:25.178Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:48:25.178Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- __mocks__/@react-native-community/geolocation.js"}
{"timestamp":"2025-08-19T17:48:25.196Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:48:25.197Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/location-helper.test.ts"}
{"timestamp":"2025-08-19T17:48:25.197Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:48:25.197Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- __tests__/app/lib/location-helper.test.ts"}
{"timestamp":"2025-08-19T17:48:25.209Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:48:25.209Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/orientation.test.ts"}
{"timestamp":"2025-08-19T17:48:25.209Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:48:25.209Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- __tests__/app/lib/orientation.test.ts"}
{"timestamp":"2025-08-19T17:48:25.221Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:48:25.221Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/request-service-helper.test.ts"}
{"timestamp":"2025-08-19T17:48:25.221Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:48:25.221Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- __tests__/app/lib/request-service-helper.test.ts"}
{"timestamp":"2025-08-19T17:48:25.233Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:48:25.234Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/print-provider.test.ts"}
{"timestamp":"2025-08-19T17:48:25.234Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:48:25.234Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- __tests__/app/lib/print-provider.test.ts"}
{"timestamp":"2025-08-19T17:48:25.245Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:48:25.245Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/regex-validate-operation.test.ts"}
{"timestamp":"2025-08-19T17:48:25.245Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:48:25.245Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- __tests__/app/lib/regex-validate-operation.test.ts"}
{"timestamp":"2025-08-19T17:48:25.257Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:48:25.257Z","level":"debug","message":"Processing iteration change for file: /app/lib/regex-validate-operation.ts"}
{"timestamp":"2025-08-19T17:48:25.257Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:48:25.257Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- app/lib/regex-validate-operation.ts"}
{"timestamp":"2025-08-19T17:48:25.269Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:48:25.269Z","level":"debug","message":"Processing iteration change for file: /app/lib/orientation.ts"}
{"timestamp":"2025-08-19T17:48:25.269Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:48:25.269Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- app/lib/orientation.ts"}
{"timestamp":"2025-08-19T17:48:25.281Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:48:25.282Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/responsive.test.ts"}
{"timestamp":"2025-08-19T17:48:25.282Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:48:25.282Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- __tests__/app/lib/responsive.test.ts"}
{"timestamp":"2025-08-19T17:48:25.294Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:48:25.295Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/sentry/SentryMobile.test.ts"}
{"timestamp":"2025-08-19T17:48:25.295Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:48:25.295Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- __tests__/app/lib/sentry/SentryMobile.test.ts"}
{"timestamp":"2025-08-19T17:48:25.307Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:48:25.307Z","level":"debug","message":"Processing iteration change for file: /app/lib/location-helper.ts"}
{"timestamp":"2025-08-19T17:48:25.307Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:48:25.308Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- app/lib/location-helper.ts"}
{"timestamp":"2025-08-19T17:48:25.367Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:48:25.368Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/route-helper.test.ts"}
{"timestamp":"2025-08-19T17:48:25.368Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:48:25.368Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- __tests__/app/lib/route-helper.test.ts"}
{"timestamp":"2025-08-19T17:48:25.391Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:48:25.391Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/sentry/SentryBackend.test.ts"}
{"timestamp":"2025-08-19T17:48:25.391Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:48:25.391Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- __tests__/app/lib/sentry/SentryBackend.test.ts"}
{"timestamp":"2025-08-19T17:48:25.402Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:48:25.402Z","level":"debug","message":"Processing iteration change for file: /app/lib/print-provider.ts"}
{"timestamp":"2025-08-19T17:48:25.402Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:48:25.402Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- app/lib/print-provider.ts"}
{"timestamp":"2025-08-19T17:48:25.414Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:48:25.414Z","level":"debug","message":"Processing iteration change for file: /app/lib/responsive.ts"}
{"timestamp":"2025-08-19T17:48:25.414Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:48:25.414Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- app/lib/responsive.ts"}
{"timestamp":"2025-08-19T17:48:25.425Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:48:25.425Z","level":"debug","message":"Processing iteration change for file: /app/lib/sentry/SentryBackend.ts"}
{"timestamp":"2025-08-19T17:48:25.425Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:48:25.425Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- app/lib/sentry/SentryBackend.ts"}
{"timestamp":"2025-08-19T17:48:25.438Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:48:25.438Z","level":"debug","message":"Processing iteration change for file: /app/lib/route-helper.ts"}
{"timestamp":"2025-08-19T17:48:25.438Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:48:25.438Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- app/lib/route-helper.ts"}
{"timestamp":"2025-08-19T17:48:25.450Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:48:25.450Z","level":"debug","message":"Processing iteration change for file: /app/lib/sentry/SentryMobile.ts"}
{"timestamp":"2025-08-19T17:48:25.450Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:48:25.450Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- app/lib/sentry/SentryMobile.ts"}
{"timestamp":"2025-08-19T17:48:25.462Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:48:25.462Z","level":"debug","message":"Processing iteration change for file: /app/lib/request-service-helper.ts"}
{"timestamp":"2025-08-19T17:48:25.462Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:48:25.462Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- app/lib/request-service-helper.ts"}
{"timestamp":"2025-08-19T17:48:25.475Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:48:25.475Z","level":"info","message":"Successfully fetched diff: 19 files, +2233/-65 lines"}
{"timestamp":"2025-08-19T17:48:25.477Z","level":"debug","message":"Diff data saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755625662210-ds6qwf/logs/diffs/diff-pr-pr-18816-2025-08-19T17-48-25-476Z.txt"}
{"timestamp":"2025-08-19T17:48:25.477Z","level":"debug","message":"Completed step 3: Fetch PR info and diffs"}
{"timestamp":"2025-08-19T17:48:25.477Z","level":"info","message":"\u001b[34m[4/8]\u001b[39m Loading rules and building review context..."}
{"timestamp":"2025-08-19T17:48:25.477Z","level":"debug","message":"Starting step 4: Load rules and build context"}
{"timestamp":"2025-08-19T17:48:25.477Z","level":"info","message":"Loading review rules and guidelines"}
{"timestamp":"2025-08-19T17:48:25.477Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T17:48:25.478Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T17:48:25.480Z","level":"warn","message":"No rules found in /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T17:48:25.480Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T17:48:25.481Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T17:48:25.483Z","level":"debug","message":"Loaded 28 rules from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T17:48:25.484Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T17:48:25.484Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T17:48:25.484Z","level":"debug","message":"Loaded guideline \"Azure DevOps Review Rules\" from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T17:48:25.484Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T17:48:25.485Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T17:48:25.486Z","level":"debug","message":"Loaded guideline \"React Native Field App - Architecture Guide\" from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T17:48:25.487Z","level":"info","message":"Loaded 1 rule sets, 28 total rules (28 enabled), 2 guidelines"}
{"timestamp":"2025-08-19T17:48:25.487Z","level":"debug","message":"Completed loadRules"}
{"timestamp":"2025-08-19T17:48:25.487Z","level":"info","message":"Building review context"}
{"timestamp":"2025-08-19T17:48:25.488Z","level":"info","message":"Context built: 19 files, 36 hunks, 28 rules, 2 guidelines"}
{"timestamp":"2025-08-19T17:48:25.488Z","level":"debug","message":"Completed step 4: Load rules and build context"}
{"timestamp":"2025-08-19T17:48:25.488Z","level":"info","message":"\u001b[34m[5/8]\u001b[39m Planning and executing AI review..."}
{"timestamp":"2025-08-19T17:48:25.488Z","level":"debug","message":"Starting step 5: Plan and execute review"}
{"timestamp":"2025-08-19T17:48:25.488Z","level":"info","message":"Creating review plan"}
{"timestamp":"2025-08-19T17:48:25.488Z","level":"debug","message":"Completed planReview"}
{"timestamp":"2025-08-19T17:48:25.488Z","level":"debug","message":"Executing Gemini review with plan"}
{"timestamp":"2025-08-19T17:48:25.488Z","level":"info","message":"Executing single batch review"}
{"timestamp":"2025-08-19T17:48:25.488Z","level":"info","message":"Starting Gemini review with model: gemini-2.5-flash"}
{"timestamp":"2025-08-19T17:48:25.489Z","level":"debug","message":"Prompt data saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755625662210-ds6qwf/logs/prompts/prompt-pr-review-2025-08-19T17-48-25-489Z.txt"}
{"timestamp":"2025-08-19T17:48:25.489Z","level":"debug","message":"Spawning Gemini CLI with stdin approach"}
{"timestamp":"2025-08-19T17:48:26.466Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T17:48:26.542Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T17:48:26.572Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T17:48:28.719Z","level":"debug","message":"Gemini CLI stderr: Attempt 1 failed with status 429. Retrying with backoff... GaxiosError: [{\n  \"error\": {\n    \"code\": 429,\n    \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\n    \"errors\": [\n      {\n        \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\n        \"domain\": \"global\",\n        \"reason\": \"rateLimitExceeded\"\n      }\n    ],\n    \"status\": \"RESOURCE_EXHAUSTED\"\n  }\n}\n]\n    at Gaxios._request (/Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/gaxios/build/src/gaxios.js:142:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OAuth2Client.requestAsync (/Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/google-auth-library/build/src/auth/oauth2client.js:429:18)\n    at async CodeAssistServer.streamEndpoint (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/code_assist/server.js:60:21)\n    at async CodeAssistServer.generateContentStream (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/code_assist/server.js:21:23)\n    at async retryWithBackoff (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/utils/retry.js:61:20)\n    at async GeminiChat.sendMessageStream (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/core/geminiChat.js:287:36)\n    at async runNonInteractive (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/dist/src/nonInteractiveCli.js:43:36)\n    at async main (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/dist/src/gemini.js:154:5) {\n  config: {\n    url: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse',\n    method: 'POST',\n    params: { alt: 'sse' },\n    headers: {\n      'Content-Type': 'application/json',\n      'User-Agent': 'GeminiCLI/v20.19.0 (darwin; arm64) google-api-nodejs-client/9.15.1',\n      Authorization: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n      'x-goog-api-client': 'gl-node/20.19.0'\n    },\n    responseType: 'stream',\n    body: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n    signal: AbortSignal { aborted: false },\n    paramsSerializer: [Function: paramsSerializer],\n    validateStatus: [Function: validateStatus],\n    errorRedactor: [Function: defaultErrorRedactor]\n  },\n  response: {\n    config: {\n      url: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse',\n      method: 'POST',\n      params: [Object],\n      headers: [Object],\n      responseType: 'stream',\n      body: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n      signal: [AbortSignal],\n      paramsSerializer: [Function: paramsSerializer],\n      validateStatus: [Function: validateStatus],\n      errorRedactor: [Function: defaultErrorRedactor]\n    },\n    data: '[{\\n' +\n      '  \"error\": {\\n' +\n      '    \"code\": 429,\\n' +\n      '    \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\\n' +\n      '    \"errors\": [\\n' +\n      '      {\\n' +\n      '        \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\\n' +\n      '        \"domain\": \"global\",\\n' +\n      '        \"reason\": \"rateLimitExceeded\"\\n' +\n      '      }\\n' +\n      '    ],\\n' +\n      '    \"status\": \"RESOURCE_EXHAUSTED\"\\n' +\n      '  }\\n' +\n      '}\\n' +\n      ']',\n    headers: {\n      'alt-svc': 'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000',\n      'content-length': '514',\n      'content-type': 'application/json; charset=UTF-8',\n      date: 'Tue, 19 Aug 2025 17:48:28 GMT',\n      server: 'ESF',\n      'server-timing': 'gfet4t7; dur=599',\n      vary: 'Origin, X-Origin, Referer',\n      'x-content-type-options': 'nosniff',\n      'x-frame-options': 'SAMEORIGIN',\n      'x-xss-protection': '0'\n    },\n    status: 429,\n    statusText: 'Too Many Requests',\n    request: {\n      responseURL: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse'\n    }\n  },\n  error: undefined,\n  status: 429,\n  [Symbol(gaxios-gaxios-error)]: '6.7.1'\n}"}
{"timestamp":"2025-08-19T17:49:24.269Z","level":"debug","message":"Gemini CLI stdout: ```json\n{\n  \"findings\": [\n    {\n      \"file\": \"/__tests__/app/lib/request-service-helper.test.ts\",\n      \"line\": 1,\n      \"endLine\": 215,\n      \"severity\": \"warning\",\n      \""}
{"timestamp":"2025-08-19T17:49:24.271Z","level":"debug","message":"Gemini CLI stdout: message\": \"âš ï¸ `request-service-helper` iÃ§in yazÄ±lan test dosyasÄ±, fonksiyonlarÄ±n gerÃ§ek implementasyonunu test etmiyor. Test edilen modÃ¼ldeki fonksiyonlar `jest.fn()` ile mock'lanmÄ±ÅŸ ve testler bu mock'larÄ± Ã§aÄŸÄ±rÄ±yor. Bu durum, helper fonksiyonlarÄ± iÃ§"}
{"timestamp":"2025-08-19T17:49:24.642Z","level":"debug","message":"Gemini CLI stdout: indeki iÅŸ mantÄ±ÄŸÄ± iÃ§in sÄ±fÄ±r test kapsamÄ± anlamÄ±na geliyor ve yanÄ±ltÄ±cÄ± bir test sonucu Ã¼retir.\",\n      \"suggestion\": \"ðŸ’¡ Testleri, gerÃ§ek fonksiyonlarÄ± import edip Ã§eÅŸitli girdilerle davranÄ±ÅŸlarÄ±nÄ± test edecek ÅŸekilde yeniden dÃ¼zenleyin. Mock'lar, test edilen fonksiyonlar iÃ§in deÄŸil, yalnÄ±zca harici"}
{"timestamp":"2025-08-19T17:49:25.029Z","level":"debug","message":"Gemini CLI stdout: baÄŸÄ±mlÄ±lÄ±klar (API Ã§aÄŸrÄ±larÄ±, kÃ¼tÃ¼phaneler vb.) iÃ§in kullanÄ±lmalÄ±dÄ±r. Ã–rneÄŸin:\\n```typescript\\n// GerÃ§ek fonksiyonu import et\\nimport { checkDynamicFieldRequiredAnswers } from \\\"../../../app/lib/request-service-helper\\\";\\n\\ndescribe(\\\""}
{"timestamp":"2025-08-19T17:49:25.496Z","level":"debug","message":"Gemini CLI stdout: checkDynamicFieldRequiredAnswers\\\", () => {\\n  it(\\\"should return success true when dynamicFields is empty\\\", () => {\\n    // GerÃ§ek fonksiyonu Ã§aÄŸÄ±r\\n    const result = checkDynamicFieldRequiredAnswers([], {});\\n    expect(result.success).toBe(true);\\n"}
{"timestamp":"2025-08-19T17:49:25.941Z","level":"debug","message":"Gemini CLI stdout: expect(result.field).toBe(null);\\n  });\\n});\\n```\",\n      \"ruleId\": \"unit-test-coverage\",\n      \"category\": \"testing\"\n    },\n    {\n      \"file\": \"/__tests__/app/lib/route-helper."}
{"timestamp":"2025-08-19T17:49:26.464Z","level":"debug","message":"Gemini CLI stdout: test.ts\",\n      \"line\": 153,\n      \"endLine\": 187,\n      \"severity\": \"warning\",\n      \"message\": \"âš ï¸ 'should return the last unfilled day' test senaryosu yanlÄ±ÅŸ bir doÄŸrulama (`assertion`) iÃ§eriyor. SaÄŸ"}
{"timestamp":"2025-08-19T17:49:26.893Z","level":"debug","message":"Gemini CLI stdout: lanan mock veriye ve fonksiyonun mantÄ±ÄŸÄ±na gÃ¶re, testin doldurulmamÄ±ÅŸ gÃ¼n (21 MayÄ±s) iÃ§in bir `Road` nesnesi dÃ¶nmesini beklemesi gerekirken, sonucun `undefined` olduÄŸunu doÄŸruluyor. Bu durum testin kendisinde bir hata olduÄŸunu gÃ¶steriyor.\",\n      \"suggestion\":"}
{"timestamp":"2025-08-19T17:49:27.383Z","level":"debug","message":"Gemini CLI stdout: \"ðŸ’¡ `expect(result).toBeUndefined()` doÄŸrulamasÄ±nÄ±, beklenen `Road` nesnesini iÃ§erecek ÅŸekilde `expect(result).toEqual(...)` olarak dÃ¼zeltin. Bu, testin fonksiyon mantÄ±ÄŸÄ±nÄ± doÄŸru bir ÅŸekilde doÄŸrulamasÄ±nÄ± saÄŸlayacaktÄ±r. DoldurulmamÄ±ÅŸ gÃ¼n verisi `mockData."}
{"timestamp":"2025-08-19T17:49:27.793Z","level":"debug","message":"Gemini CLI stdout: roadInfos[1]` olduÄŸundan, doÄŸrulama `expect(result).toEqual(mockData.roadInfos[1]);` gibi olmalÄ±dÄ±r.\",\n      \"ruleId\": \"unit-test-coverage\",\n      \"category\": \"testing\"\n    }\n  ],\n  \"summary\": \""}
{"timestamp":"2025-08-19T17:49:28.305Z","level":"debug","message":"Gemini CLI stdout: Kod deÄŸiÅŸiklikleri genel olarak olumlu. Ã–zellikle `lib` altÄ±ndaki helper fonksiyonlarÄ±na JSDoc formatÄ±nda aÃ§Ä±klamalar eklenmesi ve kapsamlÄ± yeni birim testlerinin yazÄ±lmasÄ± kod kalitesini ve okunabilirliÄŸi artÄ±rÄ±yor. Ancak, iki Ã¶nemli test dosyasÄ±nda kritik hatalar tespit edildi:\\n"}
{"timestamp":"2025-08-19T17:49:28.720Z","level":"debug","message":"Gemini CLI stdout: \\n1.  `request-service-helper.test.ts` dosyasÄ±ndaki testler, asÄ±l fonksiyonlarÄ± test etmek yerine mock'larÄ± test ediyor, bu da testlerin iÅŸlevsiz olmasÄ±na neden oluyor.\\n2.  `route-helper.test.ts` dosyasÄ±nda hatalÄ±"}
{"timestamp":"2025-08-19T17:49:29.116Z","level":"debug","message":"Gemini CLI stdout: bir doÄŸrulama (assertion) mevcut, bu da testin gÃ¼venilirliÄŸini zayÄ±flatÄ±yor.\\n\\nBu test hatalarÄ±nÄ±n dÃ¼zeltilmesi, eklenen yeni testlerin kalitesini ve projenin genel saÄŸlÄ±ÄŸÄ±nÄ± gÃ¼vence altÄ±na almak iÃ§in Ã¶nemlidir.\"\n}\n```"}
{"timestamp":"2025-08-19T17:49:29.121Z","level":"debug","message":"Gemini CLI stdout: "}
{"timestamp":"2025-08-19T17:49:29.133Z","level":"debug","message":"Gemini CLI exited with code: 0"}
{"timestamp":"2025-08-19T17:49:29.133Z","level":"debug","message":"Gemini CLI final stdout: [dotenv@16.6.0] injecting env (9) from .env\n[dotenv@16.6.0] injecting env (9) from .env\n[dotenv@16.6.0] injecting env (9) from .env\n```json\n{\n  \"findings\": [\n    {\n      \"file\": \"/__tests__/app/lib/request-service-helper.test.ts\",\n      \"line\": 1,\n      \"endLine\": 215,\n      \"severity\": \"warning\",\n      \"message\": \"âš ï¸ `request-service-helper` iÃ§in yazÄ±lan test dosyasÄ±, fonksiyonlarÄ±n gerÃ§ek implementasyonunu test etmiyor. Test edilen modÃ¼ldeki fonksiyonlar `jest.fn()` ile mock'lanmÄ±ÅŸ ve testler bu mock'larÄ± Ã§aÄŸÄ±rÄ±yor. Bu durum, helper fonksiyonlarÄ± iÃ§indeki iÅŸ mantÄ±ÄŸÄ± iÃ§in sÄ±fÄ±r test kapsamÄ± anlamÄ±na geliyor ve yanÄ±ltÄ±cÄ± bir test sonucu Ã¼retir.\",\n      \"suggestion\": \"ðŸ’¡ Testleri, gerÃ§ek fonksiyonlarÄ± import edip Ã§eÅŸitli girdilerle davranÄ±ÅŸlarÄ±nÄ± test edecek ÅŸekilde yeniden dÃ¼zenleyin. Mock'lar, test edilen fonksiyonlar iÃ§in deÄŸil, yalnÄ±zca harici baÄŸÄ±mlÄ±lÄ±klar (API Ã§aÄŸrÄ±larÄ±, kÃ¼tÃ¼phaneler vb.) iÃ§in kullanÄ±lmalÄ±dÄ±r. Ã–rneÄŸin:\\n```typescript\\n// GerÃ§ek fonksiyonu import et\\nimport { checkDynamicFieldRequiredAnswers } from \\\"../../../app/lib/request-service-helper\\\";\\n\\ndescribe(\\\"checkDynamicFieldRequiredAnswers\\\", () => {\\n  it(\\\"should return success true when dynamicFields is empty\\\", () => {\\n    // GerÃ§ek fonksiyonu Ã§aÄŸÄ±r\\n    const result = checkDynamicFieldRequiredAnswers([], {});\\n    expect(result.success).toBe(true);\\n    expect(result.field).toBe(null);\\n  });\\n});\\n```\",\n      \"ruleId\": \"unit-test-coverage\",\n      \"category\": \"testing\"\n    },\n    {\n      \"file\": \"/__tests__/app/lib/route-helper.test.ts\",\n      \"line\": 153,\n      \"endLine\": 187,\n      \"severity\": \"warning\",\n      \"message\": \"âš ï¸ 'should return the last unfilled day' test senaryosu yanlÄ±ÅŸ bir doÄŸrulama (`assertion`) iÃ§eriyor. SaÄŸlanan mock veriye ve fonksiyonun mantÄ±ÄŸÄ±na gÃ¶re, testin doldurulmamÄ±ÅŸ gÃ¼n (21 MayÄ±s) iÃ§in bir `Road` nesnesi dÃ¶nmesini beklemesi gerekirken, sonucun `undefined` olduÄŸunu doÄŸruluyor. Bu durum testin kendisinde bir hata olduÄŸunu gÃ¶steriyor.\",\n      \"suggestion\": \"ðŸ’¡ `expect(result).toBeUndefined()` doÄŸrulamasÄ±nÄ±, beklenen `Road` nesnesini iÃ§erecek ÅŸekilde `expect(result).toEqual(...)` olarak dÃ¼zeltin. Bu, testin fonksiyon mantÄ±ÄŸÄ±nÄ± doÄŸru bir ÅŸekilde doÄŸrulamasÄ±nÄ± saÄŸlayacaktÄ±r. DoldurulmamÄ±ÅŸ gÃ¼n verisi `mockData.roadInfos[1]` olduÄŸundan, doÄŸrulama `expect(result).toEqual(mockData.roadInfos[1]);` gibi olmalÄ±dÄ±r.\",\n      \"ruleId\": \"unit-test-coverage\",\n      \"category\": \"testing\"\n    }\n  ],\n  \"summary\": \"Kod deÄŸiÅŸiklikleri genel olarak olumlu. Ã–zellikle `lib` altÄ±ndaki helper fonksiyonlarÄ±na JSDoc formatÄ±nda aÃ§Ä±klamalar eklenmesi ve kapsamlÄ± yeni birim testlerinin yazÄ±lmasÄ± kod kalitesini ve okunabilirliÄŸi artÄ±rÄ±yor. Ancak, iki Ã¶nemli test dosyasÄ±nda kritik hatalar tespit edildi:\\n\\n1.  `request-service-helper.test.ts` dosyasÄ±ndaki testler, asÄ±l fonksiyonlarÄ± test etmek yerine mock'larÄ± test ediyor, bu da testlerin iÅŸlevsiz olmasÄ±na neden oluyor.\\n2.  `route-helper.test.ts` dosyasÄ±nda hatalÄ± bir doÄŸrulama (assertion) mevcut, bu da testin gÃ¼venilirliÄŸini zayÄ±flatÄ±yor.\\n\\nBu test hatalarÄ±nÄ±n dÃ¼zeltilmesi, eklenen yeni testlerin kalitesini ve projenin genel saÄŸlÄ±ÄŸÄ±nÄ± gÃ¼vence altÄ±na almak iÃ§in Ã¶nemlidir.\"\n}\n```"}
{"timestamp":"2025-08-19T17:49:29.133Z","level":"debug","message":"Gemini CLI final stderr: Attempt 1 failed with status 429. Retrying with backoff... GaxiosError: [{\n  \"error\": {\n    \"code\": 429,\n    \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\n    \"errors\": [\n      {\n        \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\n        \"domain\": \"global\",\n        \"reason\": \"rateLimitExceeded\"\n      }\n    ],\n    \"status\": \"RESOURCE_EXHAUSTED\"\n  }\n}\n]\n    at Gaxios._request (/Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/gaxios/build/src/gaxios.js:142:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OAuth2Client.requestAsync (/Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/google-auth-library/build/src/auth/oauth2client.js:429:18)\n    at async CodeAssistServer.streamEndpoint (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/code_assist/server.js:60:21)\n    at async CodeAssistServer.generateContentStream (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/code_assist/server.js:21:23)\n    at async retryWithBackoff (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/utils/retry.js:61:20)\n    at async GeminiChat.sendMessageStream (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/core/geminiChat.js:287:36)\n    at async runNonInteractive (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/dist/src/nonInteractiveCli.js:43:36)\n    at async main (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/dist/src/gemini.js:154:5) {\n  config: {\n    url: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse',\n    method: 'POST',\n    params: { alt: 'sse' },\n    headers: {\n      'Content-Type': 'application/json',\n      'User-Agent': 'GeminiCLI/v20.19.0 (darwin; arm64) google-api-nodejs-client/9.15.1',\n      Authorization: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n      'x-goog-api-client': 'gl-node/20.19.0'\n    },\n    responseType: 'stream',\n    body: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n    signal: AbortSignal { aborted: false },\n    paramsSerializer: [Function: paramsSerializer],\n    validateStatus: [Function: validateStatus],\n    errorRedactor: [Function: defaultErrorRedactor]\n  },\n  response: {\n    config: {\n      url: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse',\n      method: 'POST',\n      params: [Object],\n      headers: [Object],\n      responseType: 'stream',\n      body: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n      signal: [AbortSignal],\n      paramsSerializer: [Function: paramsSerializer],\n      validateStatus: [Function: validateStatus],\n      errorRedactor: [Function: defaultErrorRedactor]\n    },\n    data: '[{\\n' +\n      '  \"error\": {\\n' +\n      '    \"code\": 429,\\n' +\n      '    \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\\n' +\n      '    \"errors\": [\\n' +\n      '      {\\n' +\n      '        \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\\n' +\n      '        \"domain\": \"global\",\\n' +\n      '        \"reason\": \"rateLimitExceeded\"\\n' +\n      '      }\\n' +\n      '    ],\\n' +\n      '    \"status\": \"RESOURCE_EXHAUSTED\"\\n' +\n      '  }\\n' +\n      '}\\n' +\n      ']',\n    headers: {\n      'alt-svc': 'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000',\n      'content-length': '514',\n      'content-type': 'application/json; charset=UTF-8',\n      date: 'Tue, 19 Aug 2025 17:48:28 GMT',\n      server: 'ESF',\n      'server-timing': 'gfet4t7; dur=599',\n      vary: 'Origin, X-Origin, Referer',\n      'x-content-type-options': 'nosniff',\n      'x-frame-options': 'SAMEORIGIN',\n      'x-xss-protection': '0'\n    },\n    status: 429,\n    statusText: 'Too Many Requests',\n    request: {\n      responseURL: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse'\n    }\n  },\n  error: undefined,\n  status: 429,\n  [Symbol(gaxios-gaxios-error)]: '6.7.1'\n}"}
{"timestamp":"2025-08-19T17:49:29.135Z","level":"debug","message":"Gemini response saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755625662210-ds6qwf/logs/responses/gemini-response-pr-req-1755625705488-fyqsa784h-2025-08-19T17-49-29-134Z.json"}
{"timestamp":"2025-08-19T17:49:29.135Z","level":"warn","message":"Failed to parse JSON response: Unterminated string in JSON at position 799"}
{"timestamp":"2025-08-19T17:49:29.135Z","level":"debug","message":"Response content: [dotenv@16.6.0] injecting env (9) from .env\n[dotenv@16.6.0] injecting env (9) from .env\n[dotenv@16.6.0] injecting env (9) from .env\n```json\n{\n  \"findings\": [\n    {\n      \"file\": \"/__tests__/app/lib/request-service-helper.test.ts\",\n      \"line\": 1,\n      \"endLine\": 215,\n      \"severity\": \"warning\",\n      \"message\": \"âš ï¸ `request-service-helper` iÃ§in yazÄ±lan test dosyasÄ±, fonksiyonlarÄ±n gerÃ§ek implementasyonunu test etmiyor. Test edilen modÃ¼ldeki fonksiyonlar `jest.fn()` ile mock'lanmÄ±ÅŸ ve testler bu mock'larÄ± Ã§aÄŸÄ±rÄ±yor. Bu durum, helper fonksiyonlarÄ± iÃ§indeki iÅŸ mantÄ±ÄŸÄ± iÃ§in sÄ±fÄ±r test kapsamÄ± anlamÄ±na geliyor ve yanÄ±ltÄ±cÄ± bir test sonucu Ã¼retir.\",\n      \"suggestion\": \"ðŸ’¡ Testleri, gerÃ§ek fonksiyonlarÄ± import edip Ã§eÅŸitli girdilerle davranÄ±ÅŸlarÄ±nÄ± test edecek ÅŸekilde yeniden dÃ¼zenleyin. Mock'lar, test edilen fonksiyonlar iÃ§in deÄŸil, yalnÄ±zca harici baÄŸÄ±mlÄ±lÄ±klar (API Ã§aÄŸrÄ±larÄ±, kÃ¼tÃ¼phaneler vb.) iÃ§in kullanÄ±lmalÄ±dÄ±r. Ã–rneÄŸin:\\n```typescript\\n// GerÃ§ek fonksiyonu import et\\nimport { checkDynamicFieldRequiredAnswers } from \\\"../../../app/lib/request-service-helper\\\";\\n\\ndescribe(\\\"checkDynamicFieldRequiredAnswers\\\", () => {\\n  it(\\\"should return success true when dynamicFields is empty\\\", () => {\\n    // GerÃ§ek fonksiyonu Ã§aÄŸÄ±r\\n    const result = checkDynamicFieldRequiredAnswers([], {});\\n    expect(result.success).toBe(true);\\n    expect(result.field).toBe(null);\\n  });\\n});\\n```\",\n      \"ruleId\": \"unit-test-coverage\",\n      \"category\": \"testing\"\n    },\n    {\n      \"file\": \"/__tests__/app/lib/route-helper.test.ts\",\n      \"line\": 153,\n      \"endLine\": 187,\n      \"severity\": \"warning\",\n      \"message\": \"âš ï¸ 'should return the last unfilled day' test senaryosu yanlÄ±ÅŸ bir doÄŸrulama (`assertion`) iÃ§eriyor. SaÄŸlanan mock veriye ve fonksiyonun mantÄ±ÄŸÄ±na gÃ¶re, testin doldurulmamÄ±ÅŸ gÃ¼n (21 MayÄ±s) iÃ§in bir `Road` nesnesi dÃ¶nmesini beklemesi gerekirken, sonucun `undefined` olduÄŸunu doÄŸruluyor. Bu durum testin kendisinde bir hata olduÄŸunu gÃ¶steriyor.\",\n      \"suggestion\": \"ðŸ’¡ `expect(result).toBeUndefined()` doÄŸrulamasÄ±nÄ±, beklenen `Road` nesnesini iÃ§erecek ÅŸekilde `expect(result).toEqual(...)` olarak dÃ¼zeltin. Bu, testin fonksiyon mantÄ±ÄŸÄ±nÄ± doÄŸru bir ÅŸekilde doÄŸrulamasÄ±nÄ± saÄŸlayacaktÄ±r. DoldurulmamÄ±ÅŸ gÃ¼n verisi `mockData.roadInfos[1]` olduÄŸundan, doÄŸrulama `expect(result).toEqual(mockData.roadInfos[1]);` gibi olmalÄ±dÄ±r.\",\n      \"ruleId\": \"unit-test-coverage\",\n      \"category\": \"testing\"\n    }\n  ],\n  \"summary\": \"Kod deÄŸiÅŸiklikleri genel olarak olumlu. Ã–zellikle `lib` altÄ±ndaki helper fonksiyonlarÄ±na JSDoc formatÄ±nda aÃ§Ä±klamalar eklenmesi ve kapsamlÄ± yeni birim testlerinin yazÄ±lmasÄ± kod kalitesini ve okunabilirliÄŸi artÄ±rÄ±yor. Ancak, iki Ã¶nemli test dosyasÄ±nda kritik hatalar tespit edildi:\\n\\n1.  `request-service-helper.test.ts` dosyasÄ±ndaki testler, asÄ±l fonksiyonlarÄ± test etmek yerine mock'larÄ± test ediyor, bu da testlerin iÅŸlevsiz olmasÄ±na neden oluyor.\\n2.  `route-helper.test.ts` dosyasÄ±nda hatalÄ± bir doÄŸrulama (assertion) mevcut, bu da testin gÃ¼venilirliÄŸini zayÄ±flatÄ±yor.\\n\\nBu test hatalarÄ±nÄ±n dÃ¼zeltilmesi, eklenen yeni testlerin kalitesini ve projenin genel saÄŸlÄ±ÄŸÄ±nÄ± gÃ¼vence altÄ±na almak iÃ§in Ã¶nemlidir.\"\n}\n```"}
{"timestamp":"2025-08-19T17:49:29.135Z","level":"debug","message":"Parsing response as plain text"}
{"timestamp":"2025-08-19T17:49:29.135Z","level":"info","message":"Review completed: 0 findings"}
{"timestamp":"2025-08-19T17:49:29.135Z","level":"debug","message":"Completed step 5: Plan and execute review"}
{"timestamp":"2025-08-19T17:49:29.136Z","level":"info","message":"\u001b[34m[6/8]\u001b[39m Processing and filtering findings..."}
{"timestamp":"2025-08-19T17:49:29.136Z","level":"debug","message":"Starting step 6: Process findings"}
{"timestamp":"2025-08-19T17:49:29.136Z","level":"info","message":"Found 0 total findings, 0 above threshold"}
{"timestamp":"2025-08-19T17:49:29.136Z","level":"debug","message":"Completed step 6: Process findings"}
{"timestamp":"2025-08-19T17:49:29.136Z","level":"info","message":"\u001b[34m[7/8]\u001b[39m Getting approval and posting comments..."}
{"timestamp":"2025-08-19T17:49:29.136Z","level":"debug","message":"Starting step 7: Get approval and post comments"}
{"timestamp":"2025-08-19T17:49:29.136Z","level":"info","message":"\u001b[32mâœ… No issues found!\u001b[39m"}
{"timestamp":"2025-08-19T17:51:47.884Z","level":"debug","message":"Completed getApproval"}
{"timestamp":"2025-08-19T17:51:47.885Z","level":"info","message":"No findings to post"}
{"timestamp":"2025-08-19T17:51:47.885Z","level":"debug","message":"Completed step 7: Get approval and post comments"}
{"timestamp":"2025-08-19T17:51:47.885Z","level":"info","message":"\u001b[34m[8/8]\u001b[39m Updating PR status and cleaning up..."}
{"timestamp":"2025-08-19T17:51:47.885Z","level":"debug","message":"Starting step 8: Update PR status"}
{"timestamp":"2025-08-19T17:51:47.885Z","level":"debug","message":"Completed step 8: Update PR status"}
{"timestamp":"2025-08-19T17:51:47.885Z","level":"info","message":"\u001b[32mâœ… Review completed successfully in 245680ms\u001b[39m"}
{"timestamp":"2025-08-19T17:51:47.886Z","level":"info","message":"Cleaning up workspace: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755625662210-ds6qwf"}
{"timestamp":"2025-08-19T17:51:48.551Z","level":"info","message":"Workspace cleanup completed: 3977 files, 983 directories deleted"}
{"timestamp":"2025-08-19T17:51:59.069Z","level":"info","message":"\u001b[34mðŸš€ Starting Azure DevOps PR Review...\u001b[39m"}
{"timestamp":"2025-08-19T17:51:59.070Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T17:51:59.070Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T17:51:59.070Z","level":"info","message":"\u001b[34m[1/8]\u001b[39m Initializing and validating options..."}
{"timestamp":"2025-08-19T17:51:59.070Z","level":"debug","message":"Starting step 1: Initialize"}
{"timestamp":"2025-08-19T17:51:59.071Z","level":"info","message":"Loading configuration..."}
{"timestamp":"2025-08-19T17:51:59.072Z","level":"debug","message":"Found .adorevrc.yaml in project root, loading configuration"}
{"timestamp":"2025-08-19T17:51:59.072Z","level":"debug","message":"Project root configuration loaded successfully"}
{"timestamp":"2025-08-19T17:51:59.072Z","level":"info","message":"Using configuration from: project-root"}
{"timestamp":"2025-08-19T17:51:59.073Z","level":"debug","message":"Log level overridden by ADO_REVIEW_LOG_LEVEL: debug"}
{"timestamp":"2025-08-19T17:51:59.073Z","level":"debug","message":"Configuration loaded and merged successfully"}
{"timestamp":"2025-08-19T17:51:59.073Z","level":"debug","message":"Gemini timeout: 120000ms"}
{"timestamp":"2025-08-19T17:51:59.073Z","level":"debug","message":"Current log level: debug"}
{"timestamp":"2025-08-19T17:51:59.073Z","level":"debug","message":"Initializing GeminiAdapter with timeout: 120000ms"}
{"timestamp":"2025-08-19T17:51:59.074Z","level":"debug","message":"GeminiAdapter initialized with default timeout: 120000ms"}
{"timestamp":"2025-08-19T17:51:59.074Z","level":"debug","message":"All components initialized successfully"}
{"timestamp":"2025-08-19T17:51:59.074Z","level":"debug","message":"Completed step 1: Initialize"}
{"timestamp":"2025-08-19T17:51:59.074Z","level":"info","message":"\u001b[34m[2/8]\u001b[39m Setting up temporary workspace..."}
{"timestamp":"2025-08-19T17:51:59.074Z","level":"debug","message":"Starting step 2: Setup workspace"}
{"timestamp":"2025-08-19T17:51:59.092Z","level":"info","message":"Workspace created: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755625919074-7bdvve"}
{"timestamp":"2025-08-19T17:51:59.092Z","level":"debug","message":"Workspace config path: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755625919074-7bdvve/.adorevrc.yaml"}
{"timestamp":"2025-08-19T17:51:59.092Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T17:51:59.093Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T17:51:59.093Z","level":"debug","message":"Completed step 2: Setup workspace"}
{"timestamp":"2025-08-19T17:51:59.094Z","level":"info","message":"\u001b[34m[3/8]\u001b[39m Fetching PR information and changes..."}
{"timestamp":"2025-08-19T17:51:59.094Z","level":"debug","message":"Starting step 3: Fetch PR info and diffs"}
{"timestamp":"2025-08-19T17:51:59.094Z","level":"debug","message":"Fetching PR 18816 info"}
{"timestamp":"2025-08-19T17:51:59.095Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18816"}
{"timestamp":"2025-08-19T17:51:59.587Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18816"}
{"timestamp":"2025-08-19T17:51:59.587Z","level":"debug","message":"Successfully fetched PR 18816 info"}
{"timestamp":"2025-08-19T17:51:59.587Z","level":"debug","message":"Response status: 200"}
{"timestamp":"2025-08-19T17:51:59.587Z","level":"debug","message":"Response data keys:"}
{"timestamp":"2025-08-19T17:51:59.587Z","level":"debug","message":"PR Info structure:"}
{"timestamp":"2025-08-19T17:51:59.587Z","level":"debug","message":"Completed fetchPRInfo"}
{"timestamp":"2025-08-19T17:51:59.587Z","level":"debug","message":"fetchDiffs - prInfo structure:"}
{"timestamp":"2025-08-19T17:51:59.588Z","level":"info","message":"Cloning repository: https://inploid@dev.azure.com/inploid/AuditReactProject/_git/AuditReactProject.RN0.71.X"}
{"timestamp":"2025-08-19T17:51:59.588Z","level":"debug","message":"Clone options: {\"branch\":\"refs/heads/feature/TDM-14376\",\"workingDirectory\":\"/var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755625919074-7bdvve/source\"}"}
{"timestamp":"2025-08-19T17:51:59.588Z","level":"debug","message":"Executing: git init "}
{"timestamp":"2025-08-19T17:51:59.612Z","level":"debug","message":"Executing: git remote add origin https://inploid@dev.azure.com/inploid/AuditReactProject/_git/AuditReactProject.RN0.71.X"}
{"timestamp":"2025-08-19T17:51:59.622Z","level":"debug","message":"Executing: git fetch origin refs/heads/feature/TDM-14376"}
{"timestamp":"2025-08-19T17:55:05.486Z","level":"debug","message":"Executing: git checkout -b local-branch origin/feature/TDM-14376"}
{"timestamp":"2025-08-19T17:55:06.038Z","level":"debug","message":"Executing: git rev-parse HEAD"}
{"timestamp":"2025-08-19T17:55:06.049Z","level":"info","message":"Successfully cloned repository to /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755625919074-7bdvve/source"}
{"timestamp":"2025-08-19T17:55:06.049Z","level":"debug","message":"Commit ID: 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:55:06.049Z","level":"debug","message":"Reinitializing ConfigLoader with cloned workspace directory:"}
{"timestamp":"2025-08-19T17:55:06.049Z","level":"debug","message":"Workspace config path: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755625919074-7bdvve/source/.adorevrc.yaml"}
{"timestamp":"2025-08-19T17:55:06.049Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T17:55:06.049Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T17:55:06.051Z","level":"debug","message":"Found .adorevrc.yaml in project root, loading configuration"}
{"timestamp":"2025-08-19T17:55:06.051Z","level":"debug","message":"Project root configuration loaded successfully"}
{"timestamp":"2025-08-19T17:55:06.052Z","level":"info","message":"Using configuration from: project-root"}
{"timestamp":"2025-08-19T17:55:06.052Z","level":"debug","message":"Log level overridden by ADO_REVIEW_LOG_LEVEL: debug"}
{"timestamp":"2025-08-19T17:55:06.052Z","level":"debug","message":"Configuration loaded and merged successfully"}
{"timestamp":"2025-08-19T17:55:06.052Z","level":"debug","message":"Gemini timeout: 120000ms"}
{"timestamp":"2025-08-19T17:55:06.052Z","level":"debug","message":"Current log level: debug"}
{"timestamp":"2025-08-19T17:55:06.053Z","level":"debug","message":"Reloaded configuration from workspace:"}
{"timestamp":"2025-08-19T17:55:06.053Z","level":"info","message":"Fetching iteration changes for PR 18816"}
{"timestamp":"2025-08-19T17:55:06.053Z","level":"debug","message":"Fetching PR 18816 iterations"}
{"timestamp":"2025-08-19T17:55:06.053Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18816/iterations"}
{"timestamp":"2025-08-19T17:55:06.057Z","level":"warn","message":"HTTP EPIPE error from /git/repositories/AuditReactProject.RN0.71.X/pullrequests/18816/iterations: write EPIPE. Retrying in 1000ms (attempt 1/3)"}
{"timestamp":"2025-08-19T17:55:07.060Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18816/iterations"}
{"timestamp":"2025-08-19T17:55:07.456Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18816/iterations"}
{"timestamp":"2025-08-19T17:55:07.456Z","level":"debug","message":"Successfully fetched 1 iterations"}
{"timestamp":"2025-08-19T17:55:07.457Z","level":"debug","message":"Fetching changes for iteration 1"}
{"timestamp":"2025-08-19T17:55:07.457Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18816/iterations/1/changes"}
{"timestamp":"2025-08-19T17:55:07.644Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18816/iterations/1/changes"}
{"timestamp":"2025-08-19T17:55:07.644Z","level":"debug","message":"Successfully fetched 19 changes"}
{"timestamp":"2025-08-19T17:55:07.644Z","level":"debug","message":"Processing iteration changes with 19 file changes"}
{"timestamp":"2025-08-19T17:55:07.645Z","level":"debug","message":"Processing iteration change for file: /__mocks__/@react-native-community/geolocation.js"}
{"timestamp":"2025-08-19T17:55:07.645Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:55:07.645Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- __mocks__/@react-native-community/geolocation.js"}
{"timestamp":"2025-08-19T17:55:07.660Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:55:07.660Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/location-helper.test.ts"}
{"timestamp":"2025-08-19T17:55:07.660Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:55:07.660Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- __tests__/app/lib/location-helper.test.ts"}
{"timestamp":"2025-08-19T17:55:07.673Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:55:07.674Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/orientation.test.ts"}
{"timestamp":"2025-08-19T17:55:07.674Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:55:07.674Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- __tests__/app/lib/orientation.test.ts"}
{"timestamp":"2025-08-19T17:55:07.693Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:55:07.693Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/request-service-helper.test.ts"}
{"timestamp":"2025-08-19T17:55:07.694Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:55:07.694Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- __tests__/app/lib/request-service-helper.test.ts"}
{"timestamp":"2025-08-19T17:55:07.709Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:55:07.709Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/print-provider.test.ts"}
{"timestamp":"2025-08-19T17:55:07.709Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:55:07.709Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- __tests__/app/lib/print-provider.test.ts"}
{"timestamp":"2025-08-19T17:55:07.724Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:55:07.724Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/regex-validate-operation.test.ts"}
{"timestamp":"2025-08-19T17:55:07.724Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:55:07.724Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- __tests__/app/lib/regex-validate-operation.test.ts"}
{"timestamp":"2025-08-19T17:55:07.736Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:55:07.736Z","level":"debug","message":"Processing iteration change for file: /app/lib/regex-validate-operation.ts"}
{"timestamp":"2025-08-19T17:55:07.736Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:55:07.736Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- app/lib/regex-validate-operation.ts"}
{"timestamp":"2025-08-19T17:55:07.749Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:55:07.750Z","level":"debug","message":"Processing iteration change for file: /app/lib/orientation.ts"}
{"timestamp":"2025-08-19T17:55:07.750Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:55:07.750Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- app/lib/orientation.ts"}
{"timestamp":"2025-08-19T17:55:07.763Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:55:07.763Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/responsive.test.ts"}
{"timestamp":"2025-08-19T17:55:07.763Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:55:07.763Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- __tests__/app/lib/responsive.test.ts"}
{"timestamp":"2025-08-19T17:55:07.777Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:55:07.777Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/sentry/SentryMobile.test.ts"}
{"timestamp":"2025-08-19T17:55:07.777Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:55:07.777Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- __tests__/app/lib/sentry/SentryMobile.test.ts"}
{"timestamp":"2025-08-19T17:55:07.791Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:55:07.791Z","level":"debug","message":"Processing iteration change for file: /app/lib/location-helper.ts"}
{"timestamp":"2025-08-19T17:55:07.791Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:55:07.791Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- app/lib/location-helper.ts"}
{"timestamp":"2025-08-19T17:55:07.805Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:55:07.805Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/route-helper.test.ts"}
{"timestamp":"2025-08-19T17:55:07.806Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:55:07.806Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- __tests__/app/lib/route-helper.test.ts"}
{"timestamp":"2025-08-19T17:55:07.819Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:55:07.819Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/sentry/SentryBackend.test.ts"}
{"timestamp":"2025-08-19T17:55:07.819Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:55:07.819Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- __tests__/app/lib/sentry/SentryBackend.test.ts"}
{"timestamp":"2025-08-19T17:55:07.833Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:55:07.833Z","level":"debug","message":"Processing iteration change for file: /app/lib/print-provider.ts"}
{"timestamp":"2025-08-19T17:55:07.833Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:55:07.833Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- app/lib/print-provider.ts"}
{"timestamp":"2025-08-19T17:55:07.845Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:55:07.846Z","level":"debug","message":"Processing iteration change for file: /app/lib/responsive.ts"}
{"timestamp":"2025-08-19T17:55:07.846Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:55:07.846Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- app/lib/responsive.ts"}
{"timestamp":"2025-08-19T17:55:07.858Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:55:07.858Z","level":"debug","message":"Processing iteration change for file: /app/lib/sentry/SentryBackend.ts"}
{"timestamp":"2025-08-19T17:55:07.858Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:55:07.858Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- app/lib/sentry/SentryBackend.ts"}
{"timestamp":"2025-08-19T17:55:07.870Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:55:07.870Z","level":"debug","message":"Processing iteration change for file: /app/lib/route-helper.ts"}
{"timestamp":"2025-08-19T17:55:07.870Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:55:07.870Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- app/lib/route-helper.ts"}
{"timestamp":"2025-08-19T17:55:07.882Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:55:07.882Z","level":"debug","message":"Processing iteration change for file: /app/lib/sentry/SentryMobile.ts"}
{"timestamp":"2025-08-19T17:55:07.882Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:55:07.882Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- app/lib/sentry/SentryMobile.ts"}
{"timestamp":"2025-08-19T17:55:07.894Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:55:07.894Z","level":"debug","message":"Processing iteration change for file: /app/lib/request-service-helper.ts"}
{"timestamp":"2025-08-19T17:55:07.894Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:55:07.894Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- app/lib/request-service-helper.ts"}
{"timestamp":"2025-08-19T17:55:07.905Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:55:07.905Z","level":"info","message":"Successfully fetched diff: 19 files, +2233/-65 lines"}
{"timestamp":"2025-08-19T17:55:07.906Z","level":"debug","message":"Diff data saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755625919074-7bdvve/logs/diffs/diff-pr-pr-18816-2025-08-19T17-55-07-906Z.txt"}
{"timestamp":"2025-08-19T17:55:07.906Z","level":"debug","message":"Completed step 3: Fetch PR info and diffs"}
{"timestamp":"2025-08-19T17:55:07.907Z","level":"info","message":"\u001b[34m[4/8]\u001b[39m Loading rules and building review context..."}
{"timestamp":"2025-08-19T17:55:07.907Z","level":"debug","message":"Starting step 4: Load rules and build context"}
{"timestamp":"2025-08-19T17:55:07.907Z","level":"info","message":"Loading review rules and guidelines"}
{"timestamp":"2025-08-19T17:55:07.907Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T17:55:07.908Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T17:55:07.910Z","level":"warn","message":"No rules found in /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T17:55:07.910Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T17:55:07.911Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T17:55:07.912Z","level":"debug","message":"Loaded 28 rules from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T17:55:07.912Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T17:55:07.913Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T17:55:07.913Z","level":"debug","message":"Loaded guideline \"Azure DevOps Review Rules\" from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T17:55:07.913Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T17:55:07.914Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T17:55:07.914Z","level":"debug","message":"Loaded guideline \"React Native Field App - Architecture Guide\" from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T17:55:07.915Z","level":"info","message":"Loaded 1 rule sets, 28 total rules (28 enabled), 2 guidelines"}
{"timestamp":"2025-08-19T17:55:07.915Z","level":"debug","message":"Completed loadRules"}
{"timestamp":"2025-08-19T17:55:07.915Z","level":"info","message":"Building review context"}
{"timestamp":"2025-08-19T17:55:07.916Z","level":"info","message":"Context built: 19 files, 36 hunks, 28 rules, 2 guidelines"}
{"timestamp":"2025-08-19T17:55:07.916Z","level":"debug","message":"Completed step 4: Load rules and build context"}
{"timestamp":"2025-08-19T17:55:07.916Z","level":"info","message":"\u001b[34m[5/8]\u001b[39m Planning and executing AI review..."}
{"timestamp":"2025-08-19T17:55:07.916Z","level":"debug","message":"Starting step 5: Plan and execute review"}
{"timestamp":"2025-08-19T17:55:07.916Z","level":"info","message":"Creating review plan"}
{"timestamp":"2025-08-19T17:55:07.916Z","level":"debug","message":"Completed planReview"}
{"timestamp":"2025-08-19T17:55:07.917Z","level":"debug","message":"Executing Gemini review with plan"}
{"timestamp":"2025-08-19T17:55:07.917Z","level":"info","message":"Executing single batch review"}
{"timestamp":"2025-08-19T17:55:07.917Z","level":"info","message":"Starting Gemini review with model: gemini-2.5-flash"}
{"timestamp":"2025-08-19T17:55:07.918Z","level":"debug","message":"Prompt data saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755625919074-7bdvve/logs/prompts/prompt-pr-review-2025-08-19T17-55-07-917Z.txt"}
{"timestamp":"2025-08-19T17:55:07.918Z","level":"debug","message":"Spawning Gemini CLI with stdin approach"}
{"timestamp":"2025-08-19T17:55:08.699Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T17:55:08.776Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T17:55:08.805Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T17:56:02.787Z","level":"debug","message":"Gemini CLI stdout: ```json\n{\n  \"findings\": [\n    {\n      \"file\": \"/__tests__/app/lib/request-service-helper.test.ts\",\n      \"line\": 1,\n      \"endLine\": 215,\n      \"severity\": \"warning\",\n      \""}
{"timestamp":"2025-08-19T17:56:02.788Z","level":"debug","message":"Gemini CLI stdout: message\": \"âš ï¸ `request-service-helper` iÃ§in yazÄ±lan test dosyasÄ±, fonksiyonlarÄ±n gerÃ§ek implementasyonunu test etmiyor. Test edilen modÃ¼ldeki fonksiyonlar `jest.fn()` ile mock'lanmÄ±ÅŸ ve testler bu mock'larÄ± Ã§aÄŸÄ±rÄ±yor. Bu durum, helper fonksiyonlarÄ± iÃ§"}
{"timestamp":"2025-08-19T17:56:02.843Z","level":"debug","message":"Gemini CLI stdout: indeki iÅŸ mantÄ±ÄŸÄ± iÃ§in sÄ±fÄ±r test kapsamÄ± anlamÄ±na geliyor ve yanÄ±ltÄ±cÄ± bir test sonucu Ã¼retir.\",\n      \"suggestion\": \"ðŸ’¡ Testleri, gerÃ§ek fonksiyonlarÄ± import edip Ã§eÅŸitli girdilerle davranÄ±ÅŸlarÄ±nÄ± test edecek ÅŸekilde yeniden dÃ¼zenleyin. Mock'lar, test edilen fonksiyonlar iÃ§in deÄŸil, yalnÄ±zca harici"}
{"timestamp":"2025-08-19T17:56:03.300Z","level":"debug","message":"Gemini CLI stdout: baÄŸÄ±mlÄ±lÄ±klar (API Ã§aÄŸrÄ±larÄ±, kÃ¼tÃ¼phaneler vb.) iÃ§in kullanÄ±lmalÄ±dÄ±r. Ã–rneÄŸin:\\n```typescript\\n// GerÃ§ek fonksiyonu import et\\nimport { checkDynamicFieldRequiredAnswers } from \\\"../../../app/lib/request-service-helper\\\";\\n\\ndescribe(\\\""}
{"timestamp":"2025-08-19T17:56:03.786Z","level":"debug","message":"Gemini CLI stdout: checkDynamicFieldRequiredAnswers\\\", () => {\\n  it(\\\"should return success true when dynamicFields is empty\\\", () => {\\n    // GerÃ§ek fonksiyonu Ã§aÄŸÄ±r\\n    const result = checkDynamicFieldRequiredAnswers([], {});\\n    expect(result.success).toBe(true);\\n"}
{"timestamp":"2025-08-19T17:56:04.303Z","level":"debug","message":"Gemini CLI stdout: expect(result.field).toBe(null);\\n  });\\n});\\n```\",\n      \"ruleId\": \"unit-test-coverage\",\n      \"category\": \"testing\"\n    },\n    {\n      \"file\": \"/__tests__/app/lib/route-helper."}
{"timestamp":"2025-08-19T17:56:04.656Z","level":"debug","message":"Gemini CLI stdout: test.ts\",\n      \"line\": 153,\n      \"endLine\": 187,\n      \"severity\": \"warning\",\n      \"message\": \"âš ï¸ 'should return the last unfilled day' test senaryosu yanlÄ±ÅŸ bir doÄŸrulama (`assertion`) iÃ§eriyor. SaÄŸ"}
{"timestamp":"2025-08-19T17:56:05.208Z","level":"debug","message":"Gemini CLI stdout: lanan mock veriye ve fonksiyonun mantÄ±ÄŸÄ±na gÃ¶re, testin doldurulmamÄ±ÅŸ gÃ¼n (21 MayÄ±s) iÃ§in bir `Road` nesnesi dÃ¶nmesini beklemesi gerekirken, sonucun `undefined` olduÄŸunu doÄŸruluyor. Bu durum testin kendisinde bir hata olduÄŸunu gÃ¶steriyor.\",\n      \"suggestion\":"}
{"timestamp":"2025-08-19T17:56:05.619Z","level":"debug","message":"Gemini CLI stdout: \"ðŸ’¡ `expect(result).toBeUndefined()` doÄŸrulamasÄ±nÄ±, beklenen `Road` nesnesini iÃ§erecek ÅŸekilde `expect(result).toEqual(...)` olarak dÃ¼zeltin. Bu, testin fonksiyon mantÄ±ÄŸÄ±nÄ± doÄŸru bir ÅŸekilde doÄŸrulamasÄ±nÄ± saÄŸlayacaktÄ±r. DoldurulmamÄ±ÅŸ gÃ¼n verisi `mockData."}
{"timestamp":"2025-08-19T17:56:06.452Z","level":"debug","message":"Gemini CLI stdout: roadInfos[1]` olduÄŸundan, doÄŸrulama `expect(result).toEqual(mockData.roadInfos[1]);` gibi olmalÄ±dÄ±r.\",\n      \"ruleId\": \"unit-test-coverage\",\n      \"category\": \"testing\"\n    }\n  ],\n  \"summary\": \""}
{"timestamp":"2025-08-19T17:56:06.860Z","level":"debug","message":"Gemini CLI stdout: Kod deÄŸiÅŸiklikleri genel olarak olumlu. Ã–zellikle `lib` altÄ±ndaki helper fonksiyonlarÄ±na JSDoc formatÄ±nda aÃ§Ä±klamalar eklenmesi ve kapsamlÄ± yeni birim testlerinin yazÄ±lmasÄ± kod kalitesini ve okunabilirliÄŸi artÄ±rÄ±yor. Ancak, iki Ã¶nemli test dosyasÄ±nda kritik hatalar tespit edildi:\\n"}
{"timestamp":"2025-08-19T17:56:07.292Z","level":"debug","message":"Gemini CLI stdout: \\n1.  `request-service-helper.test.ts` dosyasÄ±ndaki testler, asÄ±l fonksiyonlarÄ± test etmek yerine mock'larÄ± test ediyor, bu da testlerin iÅŸlevsiz olmasÄ±na neden oluyor.\\n2.  `route-helper.test.ts` dosyasÄ±nda hatalÄ±"}
{"timestamp":"2025-08-19T17:56:07.782Z","level":"debug","message":"Gemini CLI stdout: bir doÄŸrulama (assertion) mevcut, bu da testin gÃ¼venilirliÄŸini zayÄ±flatÄ±yor.\\n\\nBu test hatalarÄ±nÄ±n dÃ¼zeltilmesi, eklenen yeni testlerin kalitesini ve projenin genel saÄŸlÄ±ÄŸÄ±nÄ± gÃ¼vence altÄ±na almak iÃ§in Ã¶nemlidir.\"\n}\n```"}
{"timestamp":"2025-08-19T17:56:07.790Z","level":"debug","message":"Gemini CLI stdout: "}
{"timestamp":"2025-08-19T17:56:07.812Z","level":"debug","message":"Gemini CLI exited with code: 0"}
{"timestamp":"2025-08-19T17:56:07.812Z","level":"debug","message":"Gemini CLI final stdout: [dotenv@16.6.0] injecting env (9) from .env\n[dotenv@16.6.0] injecting env (9) from .env\n[dotenv@16.6.0] injecting env (9) from .env\n```json\n{\n  \"findings\": [\n    {\n      \"file\": \"/__tests__/app/lib/request-service-helper.test.ts\",\n      \"line\": 1,\n      \"endLine\": 215,\n      \"severity\": \"warning\",\n      \"message\": \"âš ï¸ `request-service-helper` iÃ§in yazÄ±lan test dosyasÄ±, fonksiyonlarÄ±n gerÃ§ek implementasyonunu test etmiyor. Test edilen modÃ¼ldeki fonksiyonlar `jest.fn()` ile mock'lanmÄ±ÅŸ ve testler bu mock'larÄ± Ã§aÄŸÄ±rÄ±yor. Bu durum, helper fonksiyonlarÄ± iÃ§indeki iÅŸ mantÄ±ÄŸÄ± iÃ§in sÄ±fÄ±r test kapsamÄ± anlamÄ±na geliyor ve yanÄ±ltÄ±cÄ± bir test sonucu Ã¼retir.\",\n      \"suggestion\": \"ðŸ’¡ Testleri, gerÃ§ek fonksiyonlarÄ± import edip Ã§eÅŸitli girdilerle davranÄ±ÅŸlarÄ±nÄ± test edecek ÅŸekilde yeniden dÃ¼zenleyin. Mock'lar, test edilen fonksiyonlar iÃ§in deÄŸil, yalnÄ±zca harici baÄŸÄ±mlÄ±lÄ±klar (API Ã§aÄŸrÄ±larÄ±, kÃ¼tÃ¼phaneler vb.) iÃ§in kullanÄ±lmalÄ±dÄ±r. Ã–rneÄŸin:\\n```typescript\\n// GerÃ§ek fonksiyonu import et\\nimport { checkDynamicFieldRequiredAnswers } from \\\"../../../app/lib/request-service-helper\\\";\\n\\ndescribe(\\\"checkDynamicFieldRequiredAnswers\\\", () => {\\n  it(\\\"should return success true when dynamicFields is empty\\\", () => {\\n    // GerÃ§ek fonksiyonu Ã§aÄŸÄ±r\\n    const result = checkDynamicFieldRequiredAnswers([], {});\\n    expect(result.success).toBe(true);\\n    expect(result.field).toBe(null);\\n  });\\n});\\n```\",\n      \"ruleId\": \"unit-test-coverage\",\n      \"category\": \"testing\"\n    },\n    {\n      \"file\": \"/__tests__/app/lib/route-helper.test.ts\",\n      \"line\": 153,\n      \"endLine\": 187,\n      \"severity\": \"warning\",\n      \"message\": \"âš ï¸ 'should return the last unfilled day' test senaryosu yanlÄ±ÅŸ bir doÄŸrulama (`assertion`) iÃ§eriyor. SaÄŸlanan mock veriye ve fonksiyonun mantÄ±ÄŸÄ±na gÃ¶re, testin doldurulmamÄ±ÅŸ gÃ¼n (21 MayÄ±s) iÃ§in bir `Road` nesnesi dÃ¶nmesini beklemesi gerekirken, sonucun `undefined` olduÄŸunu doÄŸruluyor. Bu durum testin kendisinde bir hata olduÄŸunu gÃ¶steriyor.\",\n      \"suggestion\": \"ðŸ’¡ `expect(result).toBeUndefined()` doÄŸrulamasÄ±nÄ±, beklenen `Road` nesnesini iÃ§erecek ÅŸekilde `expect(result).toEqual(...)` olarak dÃ¼zeltin. Bu, testin fonksiyon mantÄ±ÄŸÄ±nÄ± doÄŸru bir ÅŸekilde doÄŸrulamasÄ±nÄ± saÄŸlayacaktÄ±r. DoldurulmamÄ±ÅŸ gÃ¼n verisi `mockData.roadInfos[1]` olduÄŸundan, doÄŸrulama `expect(result).toEqual(mockData.roadInfos[1]);` gibi olmalÄ±dÄ±r.\",\n      \"ruleId\": \"unit-test-coverage\",\n      \"category\": \"testing\"\n    }\n  ],\n  \"summary\": \"Kod deÄŸiÅŸiklikleri genel olarak olumlu. Ã–zellikle `lib` altÄ±ndaki helper fonksiyonlarÄ±na JSDoc formatÄ±nda aÃ§Ä±klamalar eklenmesi ve kapsamlÄ± yeni birim testlerinin yazÄ±lmasÄ± kod kalitesini ve okunabilirliÄŸi artÄ±rÄ±yor. Ancak, iki Ã¶nemli test dosyasÄ±nda kritik hatalar tespit edildi:\\n\\n1.  `request-service-helper.test.ts` dosyasÄ±ndaki testler, asÄ±l fonksiyonlarÄ± test etmek yerine mock'larÄ± test ediyor, bu da testlerin iÅŸlevsiz olmasÄ±na neden oluyor.\\n2.  `route-helper.test.ts` dosyasÄ±nda hatalÄ± bir doÄŸrulama (assertion) mevcut, bu da testin gÃ¼venilirliÄŸini zayÄ±flatÄ±yor.\\n\\nBu test hatalarÄ±nÄ±n dÃ¼zeltilmesi, eklenen yeni testlerin kalitesini ve projenin genel saÄŸlÄ±ÄŸÄ±nÄ± gÃ¼vence altÄ±na almak iÃ§in Ã¶nemlidir.\"\n}\n```"}
{"timestamp":"2025-08-19T17:56:07.812Z","level":"debug","message":"Gemini CLI final stderr: "}
{"timestamp":"2025-08-19T17:56:07.814Z","level":"debug","message":"Gemini response saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755625919074-7bdvve/logs/responses/gemini-response-pr-req-1755626107917-lstjt3kyv-2025-08-19T17-56-07-813Z.json"}
{"timestamp":"2025-08-19T17:56:07.814Z","level":"warn","message":"Failed to parse JSON response: Unterminated string in JSON at position 799"}
{"timestamp":"2025-08-19T17:56:07.815Z","level":"debug","message":"Response content: [dotenv@16.6.0] injecting env (9) from .env\n[dotenv@16.6.0] injecting env (9) from .env\n[dotenv@16.6.0] injecting env (9) from .env\n```json\n{\n  \"findings\": [\n    {\n      \"file\": \"/__tests__/app/lib/request-service-helper.test.ts\",\n      \"line\": 1,\n      \"endLine\": 215,\n      \"severity\": \"warning\",\n      \"message\": \"âš ï¸ `request-service-helper` iÃ§in yazÄ±lan test dosyasÄ±, fonksiyonlarÄ±n gerÃ§ek implementasyonunu test etmiyor. Test edilen modÃ¼ldeki fonksiyonlar `jest.fn()` ile mock'lanmÄ±ÅŸ ve testler bu mock'larÄ± Ã§aÄŸÄ±rÄ±yor. Bu durum, helper fonksiyonlarÄ± iÃ§indeki iÅŸ mantÄ±ÄŸÄ± iÃ§in sÄ±fÄ±r test kapsamÄ± anlamÄ±na geliyor ve yanÄ±ltÄ±cÄ± bir test sonucu Ã¼retir.\",\n      \"suggestion\": \"ðŸ’¡ Testleri, gerÃ§ek fonksiyonlarÄ± import edip Ã§eÅŸitli girdilerle davranÄ±ÅŸlarÄ±nÄ± test edecek ÅŸekilde yeniden dÃ¼zenleyin. Mock'lar, test edilen fonksiyonlar iÃ§in deÄŸil, yalnÄ±zca harici baÄŸÄ±mlÄ±lÄ±klar (API Ã§aÄŸrÄ±larÄ±, kÃ¼tÃ¼phaneler vb.) iÃ§in kullanÄ±lmalÄ±dÄ±r. Ã–rneÄŸin:\\n```typescript\\n// GerÃ§ek fonksiyonu import et\\nimport { checkDynamicFieldRequiredAnswers } from \\\"../../../app/lib/request-service-helper\\\";\\n\\ndescribe(\\\"checkDynamicFieldRequiredAnswers\\\", () => {\\n  it(\\\"should return success true when dynamicFields is empty\\\", () => {\\n    // GerÃ§ek fonksiyonu Ã§aÄŸÄ±r\\n    const result = checkDynamicFieldRequiredAnswers([], {});\\n    expect(result.success).toBe(true);\\n    expect(result.field).toBe(null);\\n  });\\n});\\n```\",\n      \"ruleId\": \"unit-test-coverage\",\n      \"category\": \"testing\"\n    },\n    {\n      \"file\": \"/__tests__/app/lib/route-helper.test.ts\",\n      \"line\": 153,\n      \"endLine\": 187,\n      \"severity\": \"warning\",\n      \"message\": \"âš ï¸ 'should return the last unfilled day' test senaryosu yanlÄ±ÅŸ bir doÄŸrulama (`assertion`) iÃ§eriyor. SaÄŸlanan mock veriye ve fonksiyonun mantÄ±ÄŸÄ±na gÃ¶re, testin doldurulmamÄ±ÅŸ gÃ¼n (21 MayÄ±s) iÃ§in bir `Road` nesnesi dÃ¶nmesini beklemesi gerekirken, sonucun `undefined` olduÄŸunu doÄŸruluyor. Bu durum testin kendisinde bir hata olduÄŸunu gÃ¶steriyor.\",\n      \"suggestion\": \"ðŸ’¡ `expect(result).toBeUndefined()` doÄŸrulamasÄ±nÄ±, beklenen `Road` nesnesini iÃ§erecek ÅŸekilde `expect(result).toEqual(...)` olarak dÃ¼zeltin. Bu, testin fonksiyon mantÄ±ÄŸÄ±nÄ± doÄŸru bir ÅŸekilde doÄŸrulamasÄ±nÄ± saÄŸlayacaktÄ±r. DoldurulmamÄ±ÅŸ gÃ¼n verisi `mockData.roadInfos[1]` olduÄŸundan, doÄŸrulama `expect(result).toEqual(mockData.roadInfos[1]);` gibi olmalÄ±dÄ±r.\",\n      \"ruleId\": \"unit-test-coverage\",\n      \"category\": \"testing\"\n    }\n  ],\n  \"summary\": \"Kod deÄŸiÅŸiklikleri genel olarak olumlu. Ã–zellikle `lib` altÄ±ndaki helper fonksiyonlarÄ±na JSDoc formatÄ±nda aÃ§Ä±klamalar eklenmesi ve kapsamlÄ± yeni birim testlerinin yazÄ±lmasÄ± kod kalitesini ve okunabilirliÄŸi artÄ±rÄ±yor. Ancak, iki Ã¶nemli test dosyasÄ±nda kritik hatalar tespit edildi:\\n\\n1.  `request-service-helper.test.ts` dosyasÄ±ndaki testler, asÄ±l fonksiyonlarÄ± test etmek yerine mock'larÄ± test ediyor, bu da testlerin iÅŸlevsiz olmasÄ±na neden oluyor.\\n2.  `route-helper.test.ts` dosyasÄ±nda hatalÄ± bir doÄŸrulama (assertion) mevcut, bu da testin gÃ¼venilirliÄŸini zayÄ±flatÄ±yor.\\n\\nBu test hatalarÄ±nÄ±n dÃ¼zeltilmesi, eklenen yeni testlerin kalitesini ve projenin genel saÄŸlÄ±ÄŸÄ±nÄ± gÃ¼vence altÄ±na almak iÃ§in Ã¶nemlidir.\"\n}\n```"}
{"timestamp":"2025-08-19T17:56:07.815Z","level":"debug","message":"Parsing response as plain text"}
{"timestamp":"2025-08-19T17:56:07.815Z","level":"info","message":"Review completed: 0 findings"}
{"timestamp":"2025-08-19T17:56:07.815Z","level":"debug","message":"Completed step 5: Plan and execute review"}
{"timestamp":"2025-08-19T17:56:07.815Z","level":"info","message":"\u001b[34m[6/8]\u001b[39m Processing and filtering findings..."}
{"timestamp":"2025-08-19T17:56:07.815Z","level":"debug","message":"Starting step 6: Process findings"}
{"timestamp":"2025-08-19T17:56:07.816Z","level":"info","message":"Found 0 total findings, 0 above threshold"}
{"timestamp":"2025-08-19T17:56:07.816Z","level":"debug","message":"Completed step 6: Process findings"}
{"timestamp":"2025-08-19T17:56:07.816Z","level":"info","message":"\u001b[34m[7/8]\u001b[39m Getting approval and posting comments..."}
{"timestamp":"2025-08-19T17:56:07.816Z","level":"debug","message":"Starting step 7: Get approval and post comments"}
{"timestamp":"2025-08-19T17:56:07.816Z","level":"info","message":"\u001b[32mâœ… No issues found!\u001b[39m"}
