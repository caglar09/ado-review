{"timestamp":"2025-08-19T13:50:00.835Z","level":"info","message":"\u001b[34m🚀 Starting Azure DevOps PR Review...\u001b[39m"}
{"timestamp":"2025-08-19T13:50:00.835Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T13:50:00.836Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T13:50:00.836Z","level":"info","message":"\u001b[34m[1/8]\u001b[39m Initializing and validating options..."}
{"timestamp":"2025-08-19T13:50:00.836Z","level":"debug","message":"Starting step 1: Initialize"}
{"timestamp":"2025-08-19T13:50:00.837Z","level":"info","message":"Loading configuration..."}
{"timestamp":"2025-08-19T13:50:00.838Z","level":"debug","message":"Found .adorevrc.yaml in project root, loading configuration"}
{"timestamp":"2025-08-19T13:50:00.838Z","level":"debug","message":"Project root configuration loaded successfully"}
{"timestamp":"2025-08-19T13:50:00.838Z","level":"info","message":"Using configuration from: project-root"}
{"timestamp":"2025-08-19T13:50:00.838Z","level":"debug","message":"Log level overridden by ADO_REVIEW_LOG_LEVEL: debug"}
{"timestamp":"2025-08-19T13:50:00.838Z","level":"debug","message":"Configuration loaded and merged successfully"}
{"timestamp":"2025-08-19T13:50:00.838Z","level":"debug","message":"Gemini timeout: 120000ms"}
{"timestamp":"2025-08-19T13:50:00.839Z","level":"debug","message":"Current log level: debug"}
{"timestamp":"2025-08-19T13:50:00.840Z","level":"debug","message":"Initializing GeminiAdapter with timeout: 120000ms"}
{"timestamp":"2025-08-19T13:50:00.840Z","level":"debug","message":"GeminiAdapter initialized with default timeout: 120000ms"}
{"timestamp":"2025-08-19T13:50:00.841Z","level":"debug","message":"All components initialized successfully"}
{"timestamp":"2025-08-19T13:50:00.841Z","level":"debug","message":"Completed step 1: Initialize"}
{"timestamp":"2025-08-19T13:50:00.841Z","level":"info","message":"\u001b[34m[2/8]\u001b[39m Setting up temporary workspace..."}
{"timestamp":"2025-08-19T13:50:00.841Z","level":"debug","message":"Starting step 2: Setup workspace"}
{"timestamp":"2025-08-19T13:50:00.852Z","level":"info","message":"Workspace created: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755611400841-qhu98a"}
{"timestamp":"2025-08-19T13:50:00.852Z","level":"debug","message":"Workspace config path: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755611400841-qhu98a/.adorevrc.yaml"}
{"timestamp":"2025-08-19T13:50:00.853Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T13:50:00.853Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T13:50:00.853Z","level":"debug","message":"Completed step 2: Setup workspace"}
{"timestamp":"2025-08-19T13:50:00.853Z","level":"info","message":"\u001b[34m[3/8]\u001b[39m Fetching PR information and changes..."}
{"timestamp":"2025-08-19T13:50:00.853Z","level":"debug","message":"Starting step 3: Fetch PR info and diffs"}
{"timestamp":"2025-08-19T13:50:00.853Z","level":"debug","message":"Fetching PR 18670 info"}
{"timestamp":"2025-08-19T13:50:00.854Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18670"}
{"timestamp":"2025-08-19T13:50:01.449Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18670"}
{"timestamp":"2025-08-19T13:50:01.449Z","level":"debug","message":"Successfully fetched PR 18670 info"}
{"timestamp":"2025-08-19T13:50:01.449Z","level":"debug","message":"Response status: 200"}
{"timestamp":"2025-08-19T13:50:01.449Z","level":"debug","message":"Response data keys:"}
{"timestamp":"2025-08-19T13:50:01.450Z","level":"debug","message":"PR Info structure:"}
{"timestamp":"2025-08-19T13:50:01.450Z","level":"debug","message":"Completed fetchPRInfo"}
{"timestamp":"2025-08-19T13:50:01.450Z","level":"debug","message":"fetchDiffs - prInfo structure:"}
{"timestamp":"2025-08-19T13:50:01.450Z","level":"info","message":"Cloning repository: https://inploid@dev.azure.com/inploid/AuditReactProject/_git/AuditReactProject.RN0.71.X"}
{"timestamp":"2025-08-19T13:50:01.450Z","level":"debug","message":"Clone options: {\"branch\":\"refs/heads/feature/TDM-14369\",\"workingDirectory\":\"/var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755611400841-qhu98a/source\"}"}
{"timestamp":"2025-08-19T13:50:01.450Z","level":"debug","message":"Executing: git init "}
{"timestamp":"2025-08-19T13:50:01.470Z","level":"debug","message":"Executing: git remote add origin https://inploid@dev.azure.com/inploid/AuditReactProject/_git/AuditReactProject.RN0.71.X"}
{"timestamp":"2025-08-19T13:50:01.487Z","level":"debug","message":"Executing: git fetch origin refs/heads/feature/TDM-14369"}
{"timestamp":"2025-08-19T13:50:38.041Z","level":"debug","message":"Executing: git checkout -b local-branch origin/feature/TDM-14369"}
{"timestamp":"2025-08-19T13:50:38.643Z","level":"debug","message":"Executing: git rev-parse HEAD"}
{"timestamp":"2025-08-19T13:50:38.669Z","level":"info","message":"Successfully cloned repository to /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755611400841-qhu98a/source"}
{"timestamp":"2025-08-19T13:50:38.670Z","level":"debug","message":"Commit ID: c70bd7cc2b6f76b1771309f08669e7ab59ce20d0"}
{"timestamp":"2025-08-19T13:50:38.671Z","level":"debug","message":"Reinitializing ConfigLoader with cloned workspace directory:"}
{"timestamp":"2025-08-19T13:50:38.686Z","level":"debug","message":"Workspace config path: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755611400841-qhu98a/source/.adorevrc.yaml"}
{"timestamp":"2025-08-19T13:50:38.686Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T13:50:38.686Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T13:50:38.688Z","level":"debug","message":"Found .adorevrc.yaml in project root, loading configuration"}
{"timestamp":"2025-08-19T13:50:38.689Z","level":"debug","message":"Project root configuration loaded successfully"}
{"timestamp":"2025-08-19T13:50:38.689Z","level":"info","message":"Using configuration from: project-root"}
{"timestamp":"2025-08-19T13:50:38.689Z","level":"debug","message":"Log level overridden by ADO_REVIEW_LOG_LEVEL: debug"}
{"timestamp":"2025-08-19T13:50:38.689Z","level":"debug","message":"Configuration loaded and merged successfully"}
{"timestamp":"2025-08-19T13:50:38.689Z","level":"debug","message":"Gemini timeout: 120000ms"}
{"timestamp":"2025-08-19T13:50:38.689Z","level":"debug","message":"Current log level: debug"}
{"timestamp":"2025-08-19T13:50:38.689Z","level":"debug","message":"Reloaded configuration from workspace:"}
{"timestamp":"2025-08-19T13:50:38.695Z","level":"info","message":"Fetching iteration changes for PR 18670"}
{"timestamp":"2025-08-19T13:50:38.695Z","level":"debug","message":"Fetching PR 18670 iterations"}
{"timestamp":"2025-08-19T13:50:38.696Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18670/iterations"}
{"timestamp":"2025-08-19T13:50:38.922Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18670/iterations"}
{"timestamp":"2025-08-19T13:50:38.922Z","level":"debug","message":"Successfully fetched 2 iterations"}
{"timestamp":"2025-08-19T13:50:38.922Z","level":"debug","message":"Fetching changes for iteration 2"}
{"timestamp":"2025-08-19T13:50:38.923Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18670/iterations/2/changes"}
{"timestamp":"2025-08-19T13:50:39.108Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18670/iterations/2/changes"}
{"timestamp":"2025-08-19T13:50:39.108Z","level":"debug","message":"Successfully fetched 5 changes"}
{"timestamp":"2025-08-19T13:50:39.108Z","level":"debug","message":"Processing iteration changes with 5 file changes"}
{"timestamp":"2025-08-19T13:50:39.108Z","level":"debug","message":"Processing iteration change for file: /__mocks__/@react-native-community/geolocation.js"}
{"timestamp":"2025-08-19T13:50:39.109Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to c70bd7cc2b6f76b1771309f08669e7ab59ce20d0"}
{"timestamp":"2025-08-19T13:50:39.109Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 c70bd7cc2b6f76b1771309f08669e7ab59ce20d0 -- __mocks__/@react-native-community/geolocation.js"}
{"timestamp":"2025-08-19T13:50:39.125Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T13:50:39.125Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/location-helper.test.ts"}
{"timestamp":"2025-08-19T13:50:39.125Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to c70bd7cc2b6f76b1771309f08669e7ab59ce20d0"}
{"timestamp":"2025-08-19T13:50:39.125Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 c70bd7cc2b6f76b1771309f08669e7ab59ce20d0 -- __tests__/app/lib/location-helper.test.ts"}
{"timestamp":"2025-08-19T13:50:39.138Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T13:50:39.139Z","level":"debug","message":"Processing iteration change for file: /app/lib/location-helper.ts"}
{"timestamp":"2025-08-19T13:50:39.139Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to c70bd7cc2b6f76b1771309f08669e7ab59ce20d0"}
{"timestamp":"2025-08-19T13:50:39.139Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 c70bd7cc2b6f76b1771309f08669e7ab59ce20d0 -- app/lib/location-helper.ts"}
{"timestamp":"2025-08-19T13:50:39.150Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T13:50:39.151Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/orientation.test.ts"}
{"timestamp":"2025-08-19T13:50:39.151Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to c70bd7cc2b6f76b1771309f08669e7ab59ce20d0"}
{"timestamp":"2025-08-19T13:50:39.151Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 c70bd7cc2b6f76b1771309f08669e7ab59ce20d0 -- __tests__/app/lib/orientation.test.ts"}
{"timestamp":"2025-08-19T13:50:39.161Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T13:50:39.161Z","level":"debug","message":"Processing iteration change for file: /app/lib/orientation.ts"}
{"timestamp":"2025-08-19T13:50:39.161Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to c70bd7cc2b6f76b1771309f08669e7ab59ce20d0"}
{"timestamp":"2025-08-19T13:50:39.161Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 c70bd7cc2b6f76b1771309f08669e7ab59ce20d0 -- app/lib/orientation.ts"}
{"timestamp":"2025-08-19T13:50:39.172Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T13:50:39.172Z","level":"info","message":"Successfully fetched diff: 5 files, +734/-65 lines"}
{"timestamp":"2025-08-19T13:50:39.173Z","level":"debug","message":"Diff data saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755611400841-qhu98a/logs/diffs/diff-pr-pr-18670-2025-08-19T13-50-39-172Z.txt"}
{"timestamp":"2025-08-19T13:50:39.173Z","level":"debug","message":"Completed step 3: Fetch PR info and diffs"}
{"timestamp":"2025-08-19T13:50:39.173Z","level":"info","message":"\u001b[34m[4/8]\u001b[39m Loading rules and building review context..."}
{"timestamp":"2025-08-19T13:50:39.173Z","level":"debug","message":"Starting step 4: Load rules and build context"}
{"timestamp":"2025-08-19T13:50:39.173Z","level":"info","message":"Loading review rules and guidelines"}
{"timestamp":"2025-08-19T13:50:39.173Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T13:50:39.174Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T13:50:39.176Z","level":"warn","message":"No rules found in /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T13:50:39.176Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T13:50:39.176Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T13:50:39.178Z","level":"debug","message":"Loaded 28 rules from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T13:50:39.178Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T13:50:39.178Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T13:50:39.179Z","level":"debug","message":"Loaded guideline \"Azure DevOps Review Rules\" from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T13:50:39.179Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T13:50:39.180Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T13:50:39.180Z","level":"debug","message":"Loaded guideline \"React Native Field App - Architecture Guide\" from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T13:50:39.180Z","level":"info","message":"Loaded 1 rule sets, 28 total rules (28 enabled), 2 guidelines"}
{"timestamp":"2025-08-19T13:50:39.180Z","level":"debug","message":"Completed loadRules"}
{"timestamp":"2025-08-19T13:50:39.181Z","level":"info","message":"Building review context"}
{"timestamp":"2025-08-19T13:50:39.181Z","level":"info","message":"Context built: 5 files, 12 hunks, 28 rules, 2 guidelines"}
{"timestamp":"2025-08-19T13:50:39.181Z","level":"debug","message":"Completed step 4: Load rules and build context"}
{"timestamp":"2025-08-19T13:50:39.181Z","level":"info","message":"\u001b[34m[5/8]\u001b[39m Planning and executing AI review..."}
{"timestamp":"2025-08-19T13:50:39.182Z","level":"debug","message":"Starting step 5: Plan and execute review"}
{"timestamp":"2025-08-19T13:50:39.182Z","level":"info","message":"Creating review plan"}
{"timestamp":"2025-08-19T13:50:39.182Z","level":"debug","message":"Completed planReview"}
{"timestamp":"2025-08-19T13:50:39.182Z","level":"debug","message":"Executing Gemini review with plan"}
{"timestamp":"2025-08-19T13:50:39.182Z","level":"info","message":"Executing single batch review"}
{"timestamp":"2025-08-19T13:50:39.182Z","level":"info","message":"Starting Gemini review with model: gemini-pro"}
{"timestamp":"2025-08-19T13:50:39.182Z","level":"debug","message":"Prompt data saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755611400841-qhu98a/logs/prompts/prompt-pr-review-2025-08-19T13-50-39-182Z.txt"}
{"timestamp":"2025-08-19T13:50:39.183Z","level":"debug","message":"Spawning Gemini CLI with stdin approach"}
{"timestamp":"2025-08-19T13:50:40.086Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T13:50:40.172Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T13:50:40.201Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T13:51:07.397Z","level":"debug","message":"Gemini CLI stdout: ```json\n{\n  \"findings\": [\n    {\n      \"file\": \"app/lib/location-helper.ts\",\n      \"line\": 273,\n      \"endLine\": 284,\n      \"severity\": \"warning\",\n      \"message\": \"Yan"}
{"timestamp":"2025-08-19T13:51:07.444Z","level":"debug","message":"Gemini CLI stdout: lış yerleştirilmiş JSDoc bloğu. Bu yorum `calculateLatitudeLongitudeAverageAndDelta` fonksiyonuna ait gibi görünürken, `addDistanceToEachDestination` fonksiyonunun üzerinde yer alıyor.\",\n      \"suggestion\": \"Lütfen JSDoc bloğunu doğru fonksiyon olan `calculateLatitudeLongitudeAverageAndDelta"}
{"timestamp":"2025-08-19T13:51:07.526Z","level":"debug","message":"Gemini CLI stdout: `'nın üzerine taşıyın. Bu, kodun okunabilirliğini ve bakımını kolaylaştıracaktır.\",\n      \"ruleId\": \"component-structure\",\n      \"category\": \"code-quality\"\n    }\n  ],\n  \"summary\": \"Değişiklikler genel olarak olumlu."}
{"timestamp":"2025-08-19T13:51:07.932Z","level":"debug","message":"Gemini CLI stdout: `location-helper` için kapsamlı testler eklenmiş ve `orientation` ile `location-helper` dosyalarına JSDoc yorumları eklenerek kod dokümantasyonu iyileştirilmiş. Ancak, `location-helper.ts` dosyasında bir JSDoc yorumunun yanlış fonks"}
{"timestamp":"2025-08-19T13:51:08.137Z","level":"debug","message":"Gemini CLI stdout: iyona eklendiği tespit edildi. Bu küçük hatanın düzeltilmesi gerekiyor.\"\n}\n```"}
{"timestamp":"2025-08-19T13:51:08.147Z","level":"debug","message":"Gemini CLI stdout: "}
{"timestamp":"2025-08-19T13:51:08.160Z","level":"debug","message":"Gemini CLI exited with code: 0"}
{"timestamp":"2025-08-19T13:51:08.161Z","level":"debug","message":"Gemini CLI final stdout: [dotenv@16.6.0] injecting env (9) from .env\n[dotenv@16.6.0] injecting env (9) from .env\n[dotenv@16.6.0] injecting env (9) from .env\n```json\n{\n  \"findings\": [\n    {\n      \"file\": \"app/lib/location-helper.ts\",\n      \"line\": 273,\n      \"endLine\": 284,\n      \"severity\": \"warning\",\n      \"message\": \"Yanlış yerleştirilmiş JSDoc bloğu. Bu yorum `calculateLatitudeLongitudeAverageAndDelta` fonksiyonuna ait gibi görünürken, `addDistanceToEachDestination` fonksiyonunun üzerinde yer alıyor.\",\n      \"suggestion\": \"Lütfen JSDoc bloğunu doğru fonksiyon olan `calculateLatitudeLongitudeAverageAndDelta`'nın üzerine taşıyın. Bu, kodun okunabilirliğini ve bakımını kolaylaştıracaktır.\",\n      \"ruleId\": \"component-structure\",\n      \"category\": \"code-quality\"\n    }\n  ],\n  \"summary\": \"Değişiklikler genel olarak olumlu. `location-helper` için kapsamlı testler eklenmiş ve `orientation` ile `location-helper` dosyalarına JSDoc yorumları eklenerek kod dokümantasyonu iyileştirilmiş. Ancak, `location-helper.ts` dosyasında bir JSDoc yorumunun yanlış fonksiyona eklendiği tespit edildi. Bu küçük hatanın düzeltilmesi gerekiyor.\"\n}\n```"}
{"timestamp":"2025-08-19T13:51:08.161Z","level":"debug","message":"Gemini CLI final stderr: "}
{"timestamp":"2025-08-19T13:51:08.162Z","level":"debug","message":"Gemini response saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755611400841-qhu98a/logs/responses/gemini-response-pr-req-1755611439182-6juhj7wxk-2025-08-19T13-51-08-161Z.json"}
{"timestamp":"2025-08-19T13:51:08.163Z","level":"info","message":"Review completed: 1 findings"}
{"timestamp":"2025-08-19T13:51:08.163Z","level":"debug","message":"Completed step 5: Plan and execute review"}
{"timestamp":"2025-08-19T13:51:08.163Z","level":"info","message":"\u001b[34m[6/8]\u001b[39m Processing and filtering findings..."}
{"timestamp":"2025-08-19T13:51:08.163Z","level":"debug","message":"Starting step 6: Process findings"}
{"timestamp":"2025-08-19T13:51:08.163Z","level":"info","message":"Found 1 total findings, 1 above threshold"}
{"timestamp":"2025-08-19T13:51:08.163Z","level":"debug","message":"Completed step 6: Process findings"}
{"timestamp":"2025-08-19T13:51:08.163Z","level":"info","message":"\u001b[34m[7/8]\u001b[39m Getting approval and posting comments..."}
{"timestamp":"2025-08-19T13:51:08.164Z","level":"debug","message":"Starting step 7: Get approval and post comments"}
{"timestamp":"2025-08-19T13:51:08.164Z","level":"info","message":"File                       | Line | Severity | Message                                                                                                                                                                                     | Rule               "}
{"timestamp":"2025-08-19T13:51:08.164Z","level":"info","message":"---------------------------+------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------"}
{"timestamp":"2025-08-19T13:51:08.164Z","level":"info","message":"app/lib/location-helper.ts | 273  | WARNING  | Yanlış yerleştirilmiş JSDoc bloğu. Bu yorum `calculateLatitudeLongitudeAverageAndDelta` fonksiyonuna ait gibi görünürken, `addDistanceToEachDestination` fonksiyonunun üzerinde yer alıyor. | component-structure"}
{"timestamp":"2025-08-19T13:52:42.352Z","level":"debug","message":"Completed getApproval"}
{"timestamp":"2025-08-19T13:52:42.353Z","level":"info","message":"Mapping 1 findings to ADO comment threads"}
{"timestamp":"2025-08-19T13:52:42.354Z","level":"info","message":"Mapping completed: 1 threads, 1 comments"}
{"timestamp":"2025-08-19T13:52:42.354Z","level":"info","message":"Posting 1 comment threads to PR 18670"}
{"timestamp":"2025-08-19T13:52:42.355Z","level":"debug","message":"Fetching comment threads for PR 18670"}
{"timestamp":"2025-08-19T13:52:42.356Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18670/threads"}
{"timestamp":"2025-08-19T13:52:42.788Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18670/threads"}
{"timestamp":"2025-08-19T13:52:42.788Z","level":"debug","message":"Successfully fetched 1 comment threads"}
{"timestamp":"2025-08-19T13:52:42.788Z","level":"debug","message":"Found 1 existing comment threads"}
{"timestamp":"2025-08-19T13:52:42.788Z","level":"debug","message":"Processing batch 1/1 (1 threads)"}
{"timestamp":"2025-08-19T13:52:42.788Z","level":"debug","message":"Creating new thread at app/lib/location-helper.ts:273"}
{"timestamp":"2025-08-19T13:52:42.788Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T13:52:42.789Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18670/threads"}
{"timestamp":"2025-08-19T13:52:43.034Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18670/threads"}
{"timestamp":"2025-08-19T13:52:43.034Z","level":"debug","message":"Successfully created comment thread 61407"}
{"timestamp":"2025-08-19T13:52:43.034Z","level":"info","message":"Comment posting completed: 1 threads created, 1 comments created"}
{"timestamp":"2025-08-19T13:52:43.034Z","level":"debug","message":"Completed step 7: Get approval and post comments"}
{"timestamp":"2025-08-19T13:52:43.035Z","level":"info","message":"\u001b[34m[8/8]\u001b[39m Updating PR status and cleaning up..."}
{"timestamp":"2025-08-19T13:52:43.035Z","level":"debug","message":"Starting step 8: Update PR status"}
{"timestamp":"2025-08-19T13:52:43.035Z","level":"debug","message":"Completed step 8: Update PR status"}
{"timestamp":"2025-08-19T13:52:43.035Z","level":"info","message":"\u001b[32m✅ Review completed successfully in 162199ms\u001b[39m"}
{"timestamp":"2025-08-19T13:52:43.036Z","level":"info","message":"Cleaning up workspace: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755611400841-qhu98a"}
{"timestamp":"2025-08-19T13:52:43.677Z","level":"info","message":"Workspace cleanup completed: 3970 files, 982 directories deleted"}
{"timestamp":"2025-08-19T14:00:05.022Z","level":"info","message":"\u001b[34m🚀 Starting Azure DevOps PR Review...\u001b[39m"}
{"timestamp":"2025-08-19T14:00:05.023Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T14:00:05.023Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T14:00:05.024Z","level":"info","message":"\u001b[34m[1/8]\u001b[39m Initializing and validating options..."}
{"timestamp":"2025-08-19T14:00:05.024Z","level":"debug","message":"Starting step 1: Initialize"}
{"timestamp":"2025-08-19T14:00:05.025Z","level":"warn","message":"Unknown Gemini model: gemini-2.0-flash. Supported models: gemini-pro, gemini-pro-vision, gemini-1.5-pro, gemini-1.5-flash"}
{"timestamp":"2025-08-19T14:00:05.025Z","level":"info","message":"Loading configuration..."}
{"timestamp":"2025-08-19T14:00:05.026Z","level":"debug","message":"Found .adorevrc.yaml in project root, loading configuration"}
{"timestamp":"2025-08-19T14:00:05.026Z","level":"debug","message":"Project root configuration loaded successfully"}
{"timestamp":"2025-08-19T14:00:05.026Z","level":"info","message":"Using configuration from: project-root"}
{"timestamp":"2025-08-19T14:00:05.027Z","level":"debug","message":"Log level overridden by ADO_REVIEW_LOG_LEVEL: debug"}
{"timestamp":"2025-08-19T14:00:05.027Z","level":"debug","message":"Configuration loaded and merged successfully"}
{"timestamp":"2025-08-19T14:00:05.027Z","level":"debug","message":"Gemini timeout: 120000ms"}
{"timestamp":"2025-08-19T14:00:05.027Z","level":"debug","message":"Current log level: debug"}
{"timestamp":"2025-08-19T14:00:05.028Z","level":"debug","message":"Initializing GeminiAdapter with timeout: 120000ms"}
{"timestamp":"2025-08-19T14:00:05.028Z","level":"debug","message":"GeminiAdapter initialized with default timeout: 120000ms"}
{"timestamp":"2025-08-19T14:00:05.028Z","level":"debug","message":"All components initialized successfully"}
{"timestamp":"2025-08-19T14:00:05.028Z","level":"debug","message":"Completed step 1: Initialize"}
{"timestamp":"2025-08-19T14:00:05.028Z","level":"info","message":"\u001b[34m[2/8]\u001b[39m Setting up temporary workspace..."}
{"timestamp":"2025-08-19T14:00:05.028Z","level":"debug","message":"Starting step 2: Setup workspace"}
{"timestamp":"2025-08-19T14:00:05.032Z","level":"info","message":"Workspace created: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755612005029-qrvexb"}
{"timestamp":"2025-08-19T14:00:05.033Z","level":"debug","message":"Workspace config path: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755612005029-qrvexb/.adorevrc.yaml"}
{"timestamp":"2025-08-19T14:00:05.033Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T14:00:05.033Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T14:00:05.033Z","level":"debug","message":"Completed step 2: Setup workspace"}
{"timestamp":"2025-08-19T14:00:05.033Z","level":"info","message":"\u001b[34m[3/8]\u001b[39m Fetching PR information and changes..."}
{"timestamp":"2025-08-19T14:00:05.033Z","level":"debug","message":"Starting step 3: Fetch PR info and diffs"}
{"timestamp":"2025-08-19T14:00:05.033Z","level":"debug","message":"Fetching PR 18693 info"}
{"timestamp":"2025-08-19T14:00:05.034Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18693"}
{"timestamp":"2025-08-19T14:00:05.586Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18693"}
{"timestamp":"2025-08-19T14:00:05.586Z","level":"debug","message":"Successfully fetched PR 18693 info"}
{"timestamp":"2025-08-19T14:00:05.586Z","level":"debug","message":"Response status: 200"}
{"timestamp":"2025-08-19T14:00:05.586Z","level":"debug","message":"Response data keys:"}
{"timestamp":"2025-08-19T14:00:05.586Z","level":"debug","message":"PR Info structure:"}
{"timestamp":"2025-08-19T14:00:05.586Z","level":"debug","message":"Completed fetchPRInfo"}
{"timestamp":"2025-08-19T14:00:05.587Z","level":"debug","message":"fetchDiffs - prInfo structure:"}
{"timestamp":"2025-08-19T14:00:05.587Z","level":"info","message":"Cloning repository: https://inploid@dev.azure.com/inploid/AuditReactProject/_git/AuditReactProject.RN0.71.X"}
{"timestamp":"2025-08-19T14:00:05.587Z","level":"debug","message":"Clone options: {\"branch\":\"refs/heads/feature/TDM-14370\",\"workingDirectory\":\"/var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755612005029-qrvexb/source\"}"}
{"timestamp":"2025-08-19T14:00:05.587Z","level":"debug","message":"Executing: git init "}
{"timestamp":"2025-08-19T14:00:05.608Z","level":"debug","message":"Executing: git remote add origin https://inploid@dev.azure.com/inploid/AuditReactProject/_git/AuditReactProject.RN0.71.X"}
{"timestamp":"2025-08-19T14:00:05.619Z","level":"debug","message":"Executing: git fetch origin refs/heads/feature/TDM-14370"}
{"timestamp":"2025-08-19T14:03:01.391Z","level":"debug","message":"Executing: git checkout -b local-branch origin/feature/TDM-14370"}
{"timestamp":"2025-08-19T14:03:02.059Z","level":"debug","message":"Executing: git rev-parse HEAD"}
{"timestamp":"2025-08-19T14:03:02.069Z","level":"info","message":"Successfully cloned repository to /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755612005029-qrvexb/source"}
{"timestamp":"2025-08-19T14:03:02.069Z","level":"debug","message":"Commit ID: 5cc65bf572a8a232c1cbe3e976c301575735b641"}
{"timestamp":"2025-08-19T14:03:02.069Z","level":"debug","message":"Reinitializing ConfigLoader with cloned workspace directory:"}
{"timestamp":"2025-08-19T14:03:02.069Z","level":"debug","message":"Workspace config path: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755612005029-qrvexb/source/.adorevrc.yaml"}
{"timestamp":"2025-08-19T14:03:02.069Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T14:03:02.069Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T14:03:02.070Z","level":"debug","message":"Found .adorevrc.yaml in project root, loading configuration"}
{"timestamp":"2025-08-19T14:03:02.071Z","level":"debug","message":"Project root configuration loaded successfully"}
{"timestamp":"2025-08-19T14:03:02.071Z","level":"info","message":"Using configuration from: project-root"}
{"timestamp":"2025-08-19T14:03:02.071Z","level":"debug","message":"Log level overridden by ADO_REVIEW_LOG_LEVEL: debug"}
{"timestamp":"2025-08-19T14:03:02.071Z","level":"debug","message":"Configuration loaded and merged successfully"}
{"timestamp":"2025-08-19T14:03:02.071Z","level":"debug","message":"Gemini timeout: 120000ms"}
{"timestamp":"2025-08-19T14:03:02.071Z","level":"debug","message":"Current log level: debug"}
{"timestamp":"2025-08-19T14:03:02.071Z","level":"debug","message":"Reloaded configuration from workspace:"}
{"timestamp":"2025-08-19T14:03:02.071Z","level":"info","message":"Fetching iteration changes for PR 18693"}
{"timestamp":"2025-08-19T14:03:02.071Z","level":"debug","message":"Fetching PR 18693 iterations"}
{"timestamp":"2025-08-19T14:03:02.072Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18693/iterations"}
{"timestamp":"2025-08-19T14:03:02.075Z","level":"warn","message":"HTTP EPIPE error from /git/repositories/AuditReactProject.RN0.71.X/pullrequests/18693/iterations: write EPIPE. Retrying in 1000ms (attempt 1/3)"}
{"timestamp":"2025-08-19T14:03:03.077Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18693/iterations"}
{"timestamp":"2025-08-19T14:03:03.519Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18693/iterations"}
{"timestamp":"2025-08-19T14:03:03.520Z","level":"debug","message":"Successfully fetched 2 iterations"}
{"timestamp":"2025-08-19T14:03:03.520Z","level":"debug","message":"Fetching changes for iteration 2"}
{"timestamp":"2025-08-19T14:03:03.521Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18693/iterations/2/changes"}
{"timestamp":"2025-08-19T14:03:03.743Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18693/iterations/2/changes"}
{"timestamp":"2025-08-19T14:03:03.743Z","level":"debug","message":"Successfully fetched 7 changes"}
{"timestamp":"2025-08-19T14:03:03.743Z","level":"debug","message":"Processing iteration changes with 7 file changes"}
{"timestamp":"2025-08-19T14:03:03.744Z","level":"debug","message":"Processing iteration change for file: /__mocks__/@react-native-community/geolocation.js"}
{"timestamp":"2025-08-19T14:03:03.744Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 5cc65bf572a8a232c1cbe3e976c301575735b641"}
{"timestamp":"2025-08-19T14:03:03.744Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 5cc65bf572a8a232c1cbe3e976c301575735b641 -- __mocks__/@react-native-community/geolocation.js"}
{"timestamp":"2025-08-19T14:03:03.757Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T14:03:03.758Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/location-helper.test.ts"}
{"timestamp":"2025-08-19T14:03:03.758Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 5cc65bf572a8a232c1cbe3e976c301575735b641"}
{"timestamp":"2025-08-19T14:03:03.758Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 5cc65bf572a8a232c1cbe3e976c301575735b641 -- __tests__/app/lib/location-helper.test.ts"}
{"timestamp":"2025-08-19T14:03:03.769Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T14:03:03.769Z","level":"debug","message":"Processing iteration change for file: /app/lib/orientation.ts"}
{"timestamp":"2025-08-19T14:03:03.770Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 5cc65bf572a8a232c1cbe3e976c301575735b641"}
{"timestamp":"2025-08-19T14:03:03.770Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 5cc65bf572a8a232c1cbe3e976c301575735b641 -- app/lib/orientation.ts"}
{"timestamp":"2025-08-19T14:03:03.781Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T14:03:03.781Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/print-provider.test.ts"}
{"timestamp":"2025-08-19T14:03:03.781Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 5cc65bf572a8a232c1cbe3e976c301575735b641"}
{"timestamp":"2025-08-19T14:03:03.781Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 5cc65bf572a8a232c1cbe3e976c301575735b641 -- __tests__/app/lib/print-provider.test.ts"}
{"timestamp":"2025-08-19T14:03:03.791Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T14:03:03.791Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/orientation.test.ts"}
{"timestamp":"2025-08-19T14:03:03.791Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 5cc65bf572a8a232c1cbe3e976c301575735b641"}
{"timestamp":"2025-08-19T14:03:03.791Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 5cc65bf572a8a232c1cbe3e976c301575735b641 -- __tests__/app/lib/orientation.test.ts"}
{"timestamp":"2025-08-19T14:03:03.801Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T14:03:03.801Z","level":"debug","message":"Processing iteration change for file: /app/lib/location-helper.ts"}
{"timestamp":"2025-08-19T14:03:03.801Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 5cc65bf572a8a232c1cbe3e976c301575735b641"}
{"timestamp":"2025-08-19T14:03:03.801Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 5cc65bf572a8a232c1cbe3e976c301575735b641 -- app/lib/location-helper.ts"}
{"timestamp":"2025-08-19T14:03:03.812Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T14:03:03.812Z","level":"debug","message":"Processing iteration change for file: /app/lib/print-provider.ts"}
{"timestamp":"2025-08-19T14:03:03.812Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 5cc65bf572a8a232c1cbe3e976c301575735b641"}
{"timestamp":"2025-08-19T14:03:03.812Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 5cc65bf572a8a232c1cbe3e976c301575735b641 -- app/lib/print-provider.ts"}
{"timestamp":"2025-08-19T14:03:03.822Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T14:03:03.822Z","level":"info","message":"Successfully fetched diff: 7 files, +887/-65 lines"}
{"timestamp":"2025-08-19T14:03:03.823Z","level":"debug","message":"Diff data saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755612005029-qrvexb/logs/diffs/diff-pr-pr-18693-2025-08-19T14-03-03-823Z.txt"}
{"timestamp":"2025-08-19T14:03:03.824Z","level":"debug","message":"Completed step 3: Fetch PR info and diffs"}
{"timestamp":"2025-08-19T14:03:03.824Z","level":"info","message":"\u001b[34m[4/8]\u001b[39m Loading rules and building review context..."}
{"timestamp":"2025-08-19T14:03:03.824Z","level":"debug","message":"Starting step 4: Load rules and build context"}
{"timestamp":"2025-08-19T14:03:03.824Z","level":"info","message":"Loading review rules and guidelines"}
{"timestamp":"2025-08-19T14:03:03.824Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T14:03:03.824Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T14:03:03.826Z","level":"warn","message":"No rules found in /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T14:03:03.826Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T14:03:03.827Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T14:03:03.828Z","level":"debug","message":"Loaded 28 rules from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T14:03:03.828Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T14:03:03.829Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T14:03:03.829Z","level":"debug","message":"Loaded guideline \"Azure DevOps Review Rules\" from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T14:03:03.829Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T14:03:03.830Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T14:03:03.830Z","level":"debug","message":"Loaded guideline \"React Native Field App - Architecture Guide\" from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T14:03:03.830Z","level":"info","message":"Loaded 1 rule sets, 28 total rules (28 enabled), 2 guidelines"}
{"timestamp":"2025-08-19T14:03:03.830Z","level":"debug","message":"Completed loadRules"}
{"timestamp":"2025-08-19T14:03:03.830Z","level":"info","message":"Building review context"}
{"timestamp":"2025-08-19T14:03:03.831Z","level":"info","message":"Context built: 7 files, 15 hunks, 28 rules, 2 guidelines"}
{"timestamp":"2025-08-19T14:03:03.831Z","level":"debug","message":"Completed step 4: Load rules and build context"}
{"timestamp":"2025-08-19T14:03:03.831Z","level":"info","message":"\u001b[34m[5/8]\u001b[39m Planning and executing AI review..."}
{"timestamp":"2025-08-19T14:03:03.831Z","level":"debug","message":"Starting step 5: Plan and execute review"}
{"timestamp":"2025-08-19T14:03:03.831Z","level":"info","message":"Creating review plan"}
{"timestamp":"2025-08-19T14:03:03.831Z","level":"debug","message":"Completed planReview"}
{"timestamp":"2025-08-19T14:03:03.831Z","level":"debug","message":"Executing Gemini review with plan"}
{"timestamp":"2025-08-19T14:03:03.831Z","level":"info","message":"Executing single batch review"}
{"timestamp":"2025-08-19T14:03:03.831Z","level":"info","message":"Starting Gemini review with model: gemini-2.0-flash"}
{"timestamp":"2025-08-19T14:03:03.832Z","level":"debug","message":"Prompt data saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755612005029-qrvexb/logs/prompts/prompt-pr-review-2025-08-19T14-03-03-831Z.txt"}
{"timestamp":"2025-08-19T14:03:03.833Z","level":"debug","message":"Spawning Gemini CLI with stdin approach"}
{"timestamp":"2025-08-19T14:03:04.697Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T14:03:04.782Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T14:03:04.809Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T14:03:35.013Z","level":"debug","message":"Gemini CLI stdout: ```json\n{\n  \"findings\": [\n    {\n      \"file\": \"app/lib/location-helper.ts\",\n      \"line\": 272,\n      \"endLine\": 284,\n      \"severity\": \"warning\",\n      \"message\": \"Yan"}
{"timestamp":"2025-08-19T14:03:35.047Z","level":"debug","message":"Gemini CLI stdout: lış yerleştirilmiş JSDoc yorumu. Bu yorum `calculateLatitudeLongitudeAverageAndDelta` fonksiyonunu açıklamasına rağmen `addDistanceToEachDestination` fonksiyonunun üzerine yerleştirilmiş.\",\n      \"suggestion\": \"Bu JSDoc bloğunu, tanımladığı `calculateLatitudeLongitudeAverageAndDelta` fonksiyon"}
{"timestamp":"2025-08-19T14:03:35.536Z","level":"debug","message":"Gemini CLI stdout: unun hemen üzerine taşıyın. Bu, dokümantasyonun açıkladığı kodla tutarlı olmasını sağlar.\",\n      \"ruleId\": \"component-structure\",\n      \"category\": \"code-quality\"\n    },\n    {\n      \"file\": \"/__tests__/app/lib/location"}
{"timestamp":"2025-08-19T14:03:36.117Z","level":"debug","message":"Gemini CLI stdout: -helper.test.ts\",\n      \"line\": 1,\n      \"endLine\": 591,\n      \"severity\": \"info\",\n      \"message\": \"Test kapsamı büyük ölçüde artırılmış ve `location-helper` içerisindeki fonksiyonlar için detaylı test sen"}
{"timestamp":"2025-08-19T14:03:36.726Z","level":"debug","message":"Gemini CLI stdout: aryoları eklenmiş. Bu, kod kalitesini ve güvenilirliğini artıran çok olumlu bir değişikliktir.\",\n      \"suggestion\": \"Mevcut testler, konum servislerinin farklı durumlarını (izin reddi, servis kapalılığı vb.) ve platforma özgü (iOS/Android)"}
{"timestamp":"2025-08-19T14:03:37.214Z","level":"debug","message":"Gemini CLI stdout: davranışları kapsamlı bir şekilde ele alıyor. Bu başarılı test yapısını projenin diğer modüllerinde de uygulamaya devam edin.\",\n      \"ruleId\": \"unit-test-coverage\",\n      \"category\": \"testing\"\n    },\n    {\n      \"file\": \"app/lib/orientation."}
{"timestamp":"2025-08-19T14:03:37.815Z","level":"debug","message":"Gemini CLI stdout: ts\",\n      \"line\": 7,\n      \"endLine\": 22,\n      \"severity\": \"info\",\n      \"message\": \"Hook'lar için eklenen JSDoc açıklamaları, kodun anlaşılabilirliğini ve bakımını kolaylaştırıyor.\",\n      \"suggestion\": \"Fon"}
{"timestamp":"2025-08-19T14:03:38.332Z","level":"debug","message":"Gemini CLI stdout: ksiyonların ve hook'ların ne işe yaradığını, hangi parametreleri aldığını ve ne döndürdüğünü açıklayan bu tür dokümantasyonları projenin genelinde standart hale getirmek faydalı olacaktır.\",\n      \"ruleId\": \"component-structure\",\n      \"category"}
{"timestamp":"2025-08-19T14:03:38.803Z","level":"debug","message":"Gemini CLI stdout: \": \"code-quality\"\n    }\n  ],\n  \"summary\": \"Genel olarak, yapılan değişiklikler kod kalitesini önemli ölçüde artırmaktadır. Özellikle `location-helper` için eklenen kapsamlı testler takdire şayan. Kod dokümantasyonu (JSDoc)"}
{"timestamp":"2025-08-19T14:03:39.406Z","level":"debug","message":"Gemini CLI stdout: eklenmesi de olumlu bir gelişme. Gözden geçirme sırasında yalnızca bir adet küçük, dokümantasyonla ilgili bir sorun tespit edildi. Bu düzeltme ile birlikte değişiklikler onaylanabilir.\"\n}\n```"}
{"timestamp":"2025-08-19T14:03:39.412Z","level":"debug","message":"Gemini CLI stdout: "}
{"timestamp":"2025-08-19T14:03:39.421Z","level":"debug","message":"Gemini CLI exited with code: 0"}
{"timestamp":"2025-08-19T14:03:39.421Z","level":"debug","message":"Gemini CLI final stdout: [dotenv@16.6.0] injecting env (9) from .env\n[dotenv@16.6.0] injecting env (9) from .env\n[dotenv@16.6.0] injecting env (9) from .env\n```json\n{\n  \"findings\": [\n    {\n      \"file\": \"app/lib/location-helper.ts\",\n      \"line\": 272,\n      \"endLine\": 284,\n      \"severity\": \"warning\",\n      \"message\": \"Yanlış yerleştirilmiş JSDoc yorumu. Bu yorum `calculateLatitudeLongitudeAverageAndDelta` fonksiyonunu açıklamasına rağmen `addDistanceToEachDestination` fonksiyonunun üzerine yerleştirilmiş.\",\n      \"suggestion\": \"Bu JSDoc bloğunu, tanımladığı `calculateLatitudeLongitudeAverageAndDelta` fonksiyonunun hemen üzerine taşıyın. Bu, dokümantasyonun açıkladığı kodla tutarlı olmasını sağlar.\",\n      \"ruleId\": \"component-structure\",\n      \"category\": \"code-quality\"\n    },\n    {\n      \"file\": \"/__tests__/app/lib/location-helper.test.ts\",\n      \"line\": 1,\n      \"endLine\": 591,\n      \"severity\": \"info\",\n      \"message\": \"Test kapsamı büyük ölçüde artırılmış ve `location-helper` içerisindeki fonksiyonlar için detaylı test senaryoları eklenmiş. Bu, kod kalitesini ve güvenilirliğini artıran çok olumlu bir değişikliktir.\",\n      \"suggestion\": \"Mevcut testler, konum servislerinin farklı durumlarını (izin reddi, servis kapalılığı vb.) ve platforma özgü (iOS/Android) davranışları kapsamlı bir şekilde ele alıyor. Bu başarılı test yapısını projenin diğer modüllerinde de uygulamaya devam edin.\",\n      \"ruleId\": \"unit-test-coverage\",\n      \"category\": \"testing\"\n    },\n    {\n      \"file\": \"app/lib/orientation.ts\",\n      \"line\": 7,\n      \"endLine\": 22,\n      \"severity\": \"info\",\n      \"message\": \"Hook'lar için eklenen JSDoc açıklamaları, kodun anlaşılabilirliğini ve bakımını kolaylaştırıyor.\",\n      \"suggestion\": \"Fonksiyonların ve hook'ların ne işe yaradığını, hangi parametreleri aldığını ve ne döndürdüğünü açıklayan bu tür dokümantasyonları projenin genelinde standart hale getirmek faydalı olacaktır.\",\n      \"ruleId\": \"component-structure\",\n      \"category\": \"code-quality\"\n    }\n  ],\n  \"summary\": \"Genel olarak, yapılan değişiklikler kod kalitesini önemli ölçüde artırmaktadır. Özellikle `location-helper` için eklenen kapsamlı testler takdire şayan. Kod dokümantasyonu (JSDoc) eklenmesi de olumlu bir gelişme. Gözden geçirme sırasında yalnızca bir adet küçük, dokümantasyonla ilgili bir sorun tespit edildi. Bu düzeltme ile birlikte değişiklikler onaylanabilir.\"\n}\n```"}
{"timestamp":"2025-08-19T14:03:39.421Z","level":"debug","message":"Gemini CLI final stderr: "}
{"timestamp":"2025-08-19T14:03:39.422Z","level":"debug","message":"Gemini response saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755612005029-qrvexb/logs/responses/gemini-response-pr-req-1755612183831-zl9ack3ot-2025-08-19T14-03-39-422Z.json"}
{"timestamp":"2025-08-19T14:03:39.423Z","level":"info","message":"Review completed: 3 findings"}
{"timestamp":"2025-08-19T14:03:39.423Z","level":"debug","message":"Completed step 5: Plan and execute review"}
{"timestamp":"2025-08-19T14:03:39.423Z","level":"info","message":"\u001b[34m[6/8]\u001b[39m Processing and filtering findings..."}
{"timestamp":"2025-08-19T14:03:39.423Z","level":"debug","message":"Starting step 6: Process findings"}
{"timestamp":"2025-08-19T14:03:39.423Z","level":"info","message":"Found 3 total findings, 3 above threshold"}
{"timestamp":"2025-08-19T14:03:39.423Z","level":"debug","message":"Completed step 6: Process findings"}
{"timestamp":"2025-08-19T14:03:39.423Z","level":"info","message":"\u001b[34m[7/8]\u001b[39m Getting approval and posting comments..."}
{"timestamp":"2025-08-19T14:03:39.423Z","level":"debug","message":"Starting step 7: Get approval and post comments"}
{"timestamp":"2025-08-19T14:03:39.424Z","level":"info","message":"File                                       | Line | Severity | Message                                                                                                                                                                                                 | Rule               "}
{"timestamp":"2025-08-19T14:03:39.424Z","level":"info","message":"-------------------------------------------+------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------"}
{"timestamp":"2025-08-19T14:03:39.424Z","level":"info","message":"app/lib/location-helper.ts                 | 272  | WARNING  | Yanlış yerleştirilmiş JSDoc yorumu. Bu yorum `calculateLatitudeLongitudeAverageAndDelta` fonksiyonunu açıklamasına rağmen `addDistanceToEachDestination` fonksiyonunun üzerine yerleştirilmiş.          | component-structure"}
{"timestamp":"2025-08-19T14:03:39.424Z","level":"info","message":"/__tests__/app/lib/location-helper.test.ts | 1    | INFO     | Test kapsamı büyük ölçüde artırılmış ve `location-helper` içerisindeki fonksiyonlar için detaylı test senaryoları eklenmiş. Bu, kod kalitesini ve güvenilirliğini artıran çok olumlu bir değişikliktir. | unit-test-coverage "}
{"timestamp":"2025-08-19T14:03:39.424Z","level":"info","message":"app/lib/orientation.ts                     | 7    | INFO     | Hook'lar için eklenen JSDoc açıklamaları, kodun anlaşılabilirliğini ve bakımını kolaylaştırıyor.                                                                                                        | component-structure"}
{"timestamp":"2025-08-19T14:38:16.414Z","level":"debug","message":"Completed getApproval"}
{"timestamp":"2025-08-19T14:38:16.416Z","level":"info","message":"Mapping 3 findings to ADO comment threads"}
{"timestamp":"2025-08-19T14:38:16.439Z","level":"info","message":"Mapping completed: 3 threads, 3 comments"}
{"timestamp":"2025-08-19T14:38:16.440Z","level":"info","message":"Posting 3 comment threads to PR 18693"}
{"timestamp":"2025-08-19T14:38:16.440Z","level":"debug","message":"Fetching comment threads for PR 18693"}
{"timestamp":"2025-08-19T14:38:16.441Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18693/threads"}
{"timestamp":"2025-08-19T14:38:16.894Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18693/threads"}
{"timestamp":"2025-08-19T14:38:16.895Z","level":"debug","message":"Successfully fetched 1 comment threads"}
{"timestamp":"2025-08-19T14:38:16.895Z","level":"debug","message":"Found 1 existing comment threads"}
{"timestamp":"2025-08-19T14:38:16.895Z","level":"debug","message":"Processing batch 1/1 (3 threads)"}
{"timestamp":"2025-08-19T14:38:16.895Z","level":"debug","message":"Creating new thread at app/lib/location-helper.ts:272"}
{"timestamp":"2025-08-19T14:38:16.896Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T14:38:16.896Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18693/threads"}
{"timestamp":"2025-08-19T14:38:17.128Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18693/threads"}
{"timestamp":"2025-08-19T14:38:17.129Z","level":"debug","message":"Successfully created comment thread 61408"}
{"timestamp":"2025-08-19T14:38:17.129Z","level":"debug","message":"Creating new thread at /__tests__/app/lib/location-helper.test.ts:1"}
{"timestamp":"2025-08-19T14:38:17.129Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T14:38:17.129Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18693/threads"}
{"timestamp":"2025-08-19T14:38:17.414Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18693/threads"}
{"timestamp":"2025-08-19T14:38:17.414Z","level":"debug","message":"Successfully created comment thread 61409"}
{"timestamp":"2025-08-19T14:38:17.414Z","level":"debug","message":"Creating new thread at app/lib/orientation.ts:7"}
{"timestamp":"2025-08-19T14:38:17.414Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T14:38:17.415Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18693/threads"}
{"timestamp":"2025-08-19T14:38:17.696Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18693/threads"}
{"timestamp":"2025-08-19T14:38:17.696Z","level":"debug","message":"Successfully created comment thread 61410"}
{"timestamp":"2025-08-19T14:38:17.696Z","level":"info","message":"Comment posting completed: 3 threads created, 3 comments created"}
{"timestamp":"2025-08-19T14:38:17.696Z","level":"debug","message":"Completed step 7: Get approval and post comments"}
{"timestamp":"2025-08-19T14:38:17.696Z","level":"info","message":"\u001b[34m[8/8]\u001b[39m Updating PR status and cleaning up..."}
{"timestamp":"2025-08-19T14:38:17.696Z","level":"debug","message":"Starting step 8: Update PR status"}
{"timestamp":"2025-08-19T14:38:17.696Z","level":"debug","message":"Completed step 8: Update PR status"}
{"timestamp":"2025-08-19T14:38:17.696Z","level":"info","message":"\u001b[32m✅ Review completed successfully in 2292672ms\u001b[39m"}
{"timestamp":"2025-08-19T14:38:17.696Z","level":"info","message":"Cleaning up workspace: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755612005029-qrvexb"}
{"timestamp":"2025-08-19T14:38:18.542Z","level":"info","message":"Workspace cleanup completed: 3971 files, 982 directories deleted"}
{"timestamp":"2025-08-19T14:39:58.224Z","level":"info","message":"\u001b[34m🚀 Starting Azure DevOps PR Review...\u001b[39m"}
{"timestamp":"2025-08-19T14:39:58.224Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T14:39:58.224Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T14:39:58.225Z","level":"info","message":"\u001b[34m[1/8]\u001b[39m Initializing and validating options..."}
{"timestamp":"2025-08-19T14:39:58.225Z","level":"debug","message":"Starting step 1: Initialize"}
{"timestamp":"2025-08-19T14:39:58.225Z","level":"warn","message":"Unknown Gemini model: gemini-2.0-flash. Supported models: gemini-pro, gemini-pro-vision, gemini-1.5-pro, gemini-1.5-flash"}
{"timestamp":"2025-08-19T14:39:58.225Z","level":"info","message":"Loading configuration..."}
{"timestamp":"2025-08-19T14:39:58.227Z","level":"debug","message":"Found .adorevrc.yaml in project root, loading configuration"}
{"timestamp":"2025-08-19T14:39:58.227Z","level":"debug","message":"Project root configuration loaded successfully"}
{"timestamp":"2025-08-19T14:39:58.227Z","level":"info","message":"Using configuration from: project-root"}
{"timestamp":"2025-08-19T14:39:58.227Z","level":"debug","message":"Log level overridden by ADO_REVIEW_LOG_LEVEL: debug"}
{"timestamp":"2025-08-19T14:39:58.227Z","level":"debug","message":"Configuration loaded and merged successfully"}
{"timestamp":"2025-08-19T14:39:58.227Z","level":"debug","message":"Gemini timeout: 120000ms"}
{"timestamp":"2025-08-19T14:39:58.227Z","level":"debug","message":"Current log level: debug"}
{"timestamp":"2025-08-19T14:39:58.228Z","level":"debug","message":"Initializing GeminiAdapter with timeout: 120000ms"}
{"timestamp":"2025-08-19T14:39:58.228Z","level":"debug","message":"GeminiAdapter initialized with default timeout: 120000ms"}
{"timestamp":"2025-08-19T14:39:58.229Z","level":"debug","message":"All components initialized successfully"}
{"timestamp":"2025-08-19T14:39:58.229Z","level":"debug","message":"Completed step 1: Initialize"}
{"timestamp":"2025-08-19T14:39:58.229Z","level":"info","message":"\u001b[34m[2/8]\u001b[39m Setting up temporary workspace..."}
{"timestamp":"2025-08-19T14:39:58.229Z","level":"debug","message":"Starting step 2: Setup workspace"}
{"timestamp":"2025-08-19T14:39:58.236Z","level":"info","message":"Workspace created: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755614398229-ye3hif"}
{"timestamp":"2025-08-19T14:39:58.236Z","level":"debug","message":"Workspace config path: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755614398229-ye3hif/.adorevrc.yaml"}
{"timestamp":"2025-08-19T14:39:58.236Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T14:39:58.236Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T14:39:58.236Z","level":"debug","message":"Completed step 2: Setup workspace"}
{"timestamp":"2025-08-19T14:39:58.236Z","level":"info","message":"\u001b[34m[3/8]\u001b[39m Fetching PR information and changes..."}
{"timestamp":"2025-08-19T14:39:58.236Z","level":"debug","message":"Starting step 3: Fetch PR info and diffs"}
{"timestamp":"2025-08-19T14:39:58.236Z","level":"debug","message":"Fetching PR 18705 info"}
{"timestamp":"2025-08-19T14:39:58.237Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18705"}
{"timestamp":"2025-08-19T14:39:58.648Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18705"}
{"timestamp":"2025-08-19T14:39:58.648Z","level":"debug","message":"Successfully fetched PR 18705 info"}
{"timestamp":"2025-08-19T14:39:58.648Z","level":"debug","message":"Response status: 200"}
{"timestamp":"2025-08-19T14:39:58.648Z","level":"debug","message":"Response data keys:"}
{"timestamp":"2025-08-19T14:39:58.648Z","level":"debug","message":"PR Info structure:"}
{"timestamp":"2025-08-19T14:39:58.648Z","level":"debug","message":"Completed fetchPRInfo"}
{"timestamp":"2025-08-19T14:39:58.648Z","level":"debug","message":"fetchDiffs - prInfo structure:"}
{"timestamp":"2025-08-19T14:39:58.649Z","level":"info","message":"Cloning repository: https://inploid@dev.azure.com/inploid/AuditReactProject/_git/AuditReactProject.RN0.71.X"}
{"timestamp":"2025-08-19T14:39:58.649Z","level":"debug","message":"Clone options: {\"branch\":\"refs/heads/feature/TDM-14371\",\"workingDirectory\":\"/var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755614398229-ye3hif/source\"}"}
{"timestamp":"2025-08-19T14:39:58.649Z","level":"debug","message":"Executing: git init "}
{"timestamp":"2025-08-19T14:39:58.679Z","level":"debug","message":"Executing: git remote add origin https://inploid@dev.azure.com/inploid/AuditReactProject/_git/AuditReactProject.RN0.71.X"}
{"timestamp":"2025-08-19T14:39:58.690Z","level":"debug","message":"Executing: git fetch origin refs/heads/feature/TDM-14371"}
{"timestamp":"2025-08-19T14:40:03.765Z","level":"error","message":"Git command failed: git fetch origin refs/heads/feature/TDM-14371"}
{"timestamp":"2025-08-19T14:40:03.765Z","level":"error","message":"Error: Command failed: git fetch origin refs/heads/feature/TDM-14371"}
{"timestamp":"2025-08-19T14:40:03.766Z","level":"error","message":"Error occurred during review process:"}
{"timestamp":"2025-08-19T14:40:03.766Z","level":"info","message":"Cleaning up workspace: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755614398229-ye3hif"}
{"timestamp":"2025-08-19T14:40:03.768Z","level":"info","message":"Cleaning up workspace: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755614398229-ye3hif"}
{"timestamp":"2025-08-19T14:40:03.768Z","level":"info","message":"Cleaning up workspace: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755614398229-ye3hif"}
{"timestamp":"2025-08-19T14:40:03.788Z","level":"warn","message":"Workspace cleanup completed with 6 errors"}
{"timestamp":"2025-08-19T15:09:53.246Z","level":"info","message":"\u001b[34m🚀 Starting Azure DevOps PR Review...\u001b[39m"}
{"timestamp":"2025-08-19T15:09:53.246Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T15:09:53.247Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T15:09:53.247Z","level":"info","message":"\u001b[34m[1/8]\u001b[39m Initializing and validating options..."}
{"timestamp":"2025-08-19T15:09:53.247Z","level":"debug","message":"Starting step 1: Initialize"}
{"timestamp":"2025-08-19T15:09:53.249Z","level":"info","message":"Loading configuration..."}
{"timestamp":"2025-08-19T15:09:53.249Z","level":"debug","message":"Found .adorevrc.yaml in project root, loading configuration"}
{"timestamp":"2025-08-19T15:09:53.250Z","level":"debug","message":"Project root configuration loaded successfully"}
{"timestamp":"2025-08-19T15:09:53.250Z","level":"info","message":"Using configuration from: project-root"}
{"timestamp":"2025-08-19T15:09:53.250Z","level":"debug","message":"Log level overridden by ADO_REVIEW_LOG_LEVEL: debug"}
{"timestamp":"2025-08-19T15:09:53.250Z","level":"debug","message":"Configuration loaded and merged successfully"}
{"timestamp":"2025-08-19T15:09:53.250Z","level":"debug","message":"Gemini timeout: 120000ms"}
{"timestamp":"2025-08-19T15:09:53.250Z","level":"debug","message":"Current log level: debug"}
{"timestamp":"2025-08-19T15:09:53.251Z","level":"debug","message":"Initializing GeminiAdapter with timeout: 120000ms"}
{"timestamp":"2025-08-19T15:09:53.251Z","level":"debug","message":"GeminiAdapter initialized with default timeout: 120000ms"}
{"timestamp":"2025-08-19T15:09:53.252Z","level":"debug","message":"All components initialized successfully"}
{"timestamp":"2025-08-19T15:09:53.253Z","level":"debug","message":"Completed step 1: Initialize"}
{"timestamp":"2025-08-19T15:09:53.253Z","level":"info","message":"\u001b[34m[2/8]\u001b[39m Setting up temporary workspace..."}
{"timestamp":"2025-08-19T15:09:53.253Z","level":"debug","message":"Starting step 2: Setup workspace"}
{"timestamp":"2025-08-19T15:09:53.261Z","level":"info","message":"Workspace created: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755616193253-0i3kgk"}
{"timestamp":"2025-08-19T15:09:53.261Z","level":"debug","message":"Workspace config path: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755616193253-0i3kgk/.adorevrc.yaml"}
{"timestamp":"2025-08-19T15:09:53.261Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T15:09:53.261Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T15:09:53.261Z","level":"debug","message":"Completed step 2: Setup workspace"}
{"timestamp":"2025-08-19T15:09:53.261Z","level":"info","message":"\u001b[34m[3/8]\u001b[39m Fetching PR information and changes..."}
{"timestamp":"2025-08-19T15:09:53.261Z","level":"debug","message":"Starting step 3: Fetch PR info and diffs"}
{"timestamp":"2025-08-19T15:09:53.261Z","level":"debug","message":"Fetching PR 18670 info"}
{"timestamp":"2025-08-19T15:09:53.262Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18670"}
{"timestamp":"2025-08-19T15:09:53.913Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18670"}
{"timestamp":"2025-08-19T15:09:53.913Z","level":"debug","message":"Successfully fetched PR 18670 info"}
{"timestamp":"2025-08-19T15:09:53.913Z","level":"debug","message":"Response status: 200"}
{"timestamp":"2025-08-19T15:09:53.913Z","level":"debug","message":"Response data keys:"}
{"timestamp":"2025-08-19T15:09:53.914Z","level":"debug","message":"PR Info structure:"}
{"timestamp":"2025-08-19T15:09:53.914Z","level":"debug","message":"Completed fetchPRInfo"}
{"timestamp":"2025-08-19T15:09:53.914Z","level":"debug","message":"fetchDiffs - prInfo structure:"}
{"timestamp":"2025-08-19T15:09:53.915Z","level":"info","message":"Cloning repository: https://inploid@dev.azure.com/inploid/AuditReactProject/_git/AuditReactProject.RN0.71.X"}
{"timestamp":"2025-08-19T15:09:53.915Z","level":"debug","message":"Clone options: {\"branch\":\"refs/heads/feature/TDM-14369\",\"workingDirectory\":\"/var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755616193253-0i3kgk/source\"}"}
{"timestamp":"2025-08-19T15:09:53.915Z","level":"debug","message":"Executing: git init "}
{"timestamp":"2025-08-19T15:09:53.952Z","level":"debug","message":"Executing: git remote add origin https://inploid@dev.azure.com/inploid/AuditReactProject/_git/AuditReactProject.RN0.71.X"}
{"timestamp":"2025-08-19T15:09:53.968Z","level":"debug","message":"Executing: git fetch origin refs/heads/feature/TDM-14369"}
{"timestamp":"2025-08-19T15:12:45.754Z","level":"debug","message":"Executing: git checkout -b local-branch origin/feature/TDM-14369"}
{"timestamp":"2025-08-19T15:12:46.362Z","level":"debug","message":"Executing: git rev-parse HEAD"}
{"timestamp":"2025-08-19T15:12:46.372Z","level":"info","message":"Successfully cloned repository to /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755616193253-0i3kgk/source"}
{"timestamp":"2025-08-19T15:12:46.372Z","level":"debug","message":"Commit ID: c70bd7cc2b6f76b1771309f08669e7ab59ce20d0"}
{"timestamp":"2025-08-19T15:12:46.372Z","level":"debug","message":"Reinitializing ConfigLoader with cloned workspace directory:"}
{"timestamp":"2025-08-19T15:12:46.372Z","level":"debug","message":"Workspace config path: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755616193253-0i3kgk/source/.adorevrc.yaml"}
{"timestamp":"2025-08-19T15:12:46.372Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T15:12:46.372Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T15:12:46.375Z","level":"debug","message":"Found .adorevrc.yaml in project root, loading configuration"}
{"timestamp":"2025-08-19T15:12:46.375Z","level":"debug","message":"Project root configuration loaded successfully"}
{"timestamp":"2025-08-19T15:12:46.375Z","level":"info","message":"Using configuration from: project-root"}
{"timestamp":"2025-08-19T15:12:46.375Z","level":"debug","message":"Log level overridden by ADO_REVIEW_LOG_LEVEL: debug"}
{"timestamp":"2025-08-19T15:12:46.375Z","level":"debug","message":"Configuration loaded and merged successfully"}
{"timestamp":"2025-08-19T15:12:46.375Z","level":"debug","message":"Gemini timeout: 120000ms"}
{"timestamp":"2025-08-19T15:12:46.375Z","level":"debug","message":"Current log level: debug"}
{"timestamp":"2025-08-19T15:12:46.375Z","level":"debug","message":"Reloaded configuration from workspace:"}
{"timestamp":"2025-08-19T15:12:46.376Z","level":"info","message":"Fetching iteration changes for PR 18670"}
{"timestamp":"2025-08-19T15:12:46.376Z","level":"debug","message":"Fetching PR 18670 iterations"}
{"timestamp":"2025-08-19T15:12:46.376Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18670/iterations"}
{"timestamp":"2025-08-19T15:12:46.379Z","level":"warn","message":"HTTP EPIPE error from /git/repositories/AuditReactProject.RN0.71.X/pullrequests/18670/iterations: write EPIPE. Retrying in 1000ms (attempt 1/3)"}
{"timestamp":"2025-08-19T15:12:47.381Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18670/iterations"}
{"timestamp":"2025-08-19T15:12:47.834Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18670/iterations"}
{"timestamp":"2025-08-19T15:12:47.835Z","level":"debug","message":"Successfully fetched 2 iterations"}
{"timestamp":"2025-08-19T15:12:47.835Z","level":"debug","message":"Fetching changes for iteration 2"}
{"timestamp":"2025-08-19T15:12:47.835Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18670/iterations/2/changes"}
{"timestamp":"2025-08-19T15:12:48.021Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18670/iterations/2/changes"}
{"timestamp":"2025-08-19T15:12:48.021Z","level":"debug","message":"Successfully fetched 5 changes"}
{"timestamp":"2025-08-19T15:12:48.021Z","level":"debug","message":"Processing iteration changes with 5 file changes"}
{"timestamp":"2025-08-19T15:12:48.022Z","level":"debug","message":"Processing iteration change for file: /__mocks__/@react-native-community/geolocation.js"}
{"timestamp":"2025-08-19T15:12:48.022Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to c70bd7cc2b6f76b1771309f08669e7ab59ce20d0"}
{"timestamp":"2025-08-19T15:12:48.022Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 c70bd7cc2b6f76b1771309f08669e7ab59ce20d0 -- __mocks__/@react-native-community/geolocation.js"}
{"timestamp":"2025-08-19T15:12:48.051Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T15:12:48.051Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/location-helper.test.ts"}
{"timestamp":"2025-08-19T15:12:48.051Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to c70bd7cc2b6f76b1771309f08669e7ab59ce20d0"}
{"timestamp":"2025-08-19T15:12:48.051Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 c70bd7cc2b6f76b1771309f08669e7ab59ce20d0 -- __tests__/app/lib/location-helper.test.ts"}
{"timestamp":"2025-08-19T15:12:48.070Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T15:12:48.071Z","level":"debug","message":"Processing iteration change for file: /app/lib/location-helper.ts"}
{"timestamp":"2025-08-19T15:12:48.071Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to c70bd7cc2b6f76b1771309f08669e7ab59ce20d0"}
{"timestamp":"2025-08-19T15:12:48.071Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 c70bd7cc2b6f76b1771309f08669e7ab59ce20d0 -- app/lib/location-helper.ts"}
{"timestamp":"2025-08-19T15:12:48.083Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T15:12:48.083Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/orientation.test.ts"}
{"timestamp":"2025-08-19T15:12:48.083Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to c70bd7cc2b6f76b1771309f08669e7ab59ce20d0"}
{"timestamp":"2025-08-19T15:12:48.083Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 c70bd7cc2b6f76b1771309f08669e7ab59ce20d0 -- __tests__/app/lib/orientation.test.ts"}
{"timestamp":"2025-08-19T15:12:48.094Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T15:12:48.095Z","level":"debug","message":"Processing iteration change for file: /app/lib/orientation.ts"}
{"timestamp":"2025-08-19T15:12:48.095Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to c70bd7cc2b6f76b1771309f08669e7ab59ce20d0"}
{"timestamp":"2025-08-19T15:12:48.095Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 c70bd7cc2b6f76b1771309f08669e7ab59ce20d0 -- app/lib/orientation.ts"}
{"timestamp":"2025-08-19T15:12:48.107Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T15:12:48.107Z","level":"info","message":"Successfully fetched diff: 5 files, +734/-65 lines"}
{"timestamp":"2025-08-19T15:12:48.108Z","level":"debug","message":"Diff data saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755616193253-0i3kgk/logs/diffs/diff-pr-pr-18670-2025-08-19T15-12-48-108Z.txt"}
{"timestamp":"2025-08-19T15:12:48.108Z","level":"debug","message":"Completed step 3: Fetch PR info and diffs"}
{"timestamp":"2025-08-19T15:12:48.108Z","level":"info","message":"\u001b[34m[4/8]\u001b[39m Loading rules and building review context..."}
{"timestamp":"2025-08-19T15:12:48.108Z","level":"debug","message":"Starting step 4: Load rules and build context"}
{"timestamp":"2025-08-19T15:12:48.109Z","level":"info","message":"Loading review rules and guidelines"}
{"timestamp":"2025-08-19T15:12:48.109Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T15:12:48.109Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T15:12:48.112Z","level":"warn","message":"No rules found in /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T15:12:48.112Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T15:12:48.113Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T15:12:48.115Z","level":"debug","message":"Loaded 28 rules from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T15:12:48.115Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T15:12:48.115Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T15:12:48.115Z","level":"debug","message":"Loaded guideline \"Azure DevOps Review Rules\" from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T15:12:48.115Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T15:12:48.116Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T15:12:48.116Z","level":"debug","message":"Loaded guideline \"React Native Field App - Architecture Guide\" from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T15:12:48.117Z","level":"info","message":"Loaded 1 rule sets, 28 total rules (28 enabled), 2 guidelines"}
{"timestamp":"2025-08-19T15:12:48.117Z","level":"debug","message":"Completed loadRules"}
{"timestamp":"2025-08-19T15:12:48.117Z","level":"info","message":"Building review context"}
{"timestamp":"2025-08-19T15:12:48.118Z","level":"info","message":"Context built: 5 files, 12 hunks, 28 rules, 2 guidelines"}
{"timestamp":"2025-08-19T15:12:48.118Z","level":"debug","message":"Completed step 4: Load rules and build context"}
{"timestamp":"2025-08-19T15:12:48.118Z","level":"info","message":"\u001b[34m[5/8]\u001b[39m Planning and executing AI review..."}
{"timestamp":"2025-08-19T15:12:48.118Z","level":"debug","message":"Starting step 5: Plan and execute review"}
{"timestamp":"2025-08-19T15:12:48.118Z","level":"info","message":"Creating review plan"}
{"timestamp":"2025-08-19T15:12:48.118Z","level":"debug","message":"Completed planReview"}
{"timestamp":"2025-08-19T15:12:48.118Z","level":"debug","message":"Executing Gemini review with plan"}
{"timestamp":"2025-08-19T15:12:48.118Z","level":"info","message":"Executing single batch review"}
{"timestamp":"2025-08-19T15:12:48.118Z","level":"info","message":"Starting Gemini review with model: gemini-2.0-flash"}
{"timestamp":"2025-08-19T15:12:48.119Z","level":"debug","message":"Prompt data saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755616193253-0i3kgk/logs/prompts/prompt-pr-review-2025-08-19T15-12-48-118Z.txt"}
{"timestamp":"2025-08-19T15:12:48.119Z","level":"debug","message":"Spawning Gemini CLI with stdin approach"}
{"timestamp":"2025-08-19T15:12:49.010Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T15:12:49.083Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T15:12:49.112Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T15:13:37.611Z","level":"debug","message":"Gemini CLI stdout: ```json\n{\n  \"findings\": [\n    {\n      \"file\": \"/__tests__/app/lib/location-helper.test.ts\",\n      \"line\": 145,\n      \"endLine\": 145,\n      \"severity\": \"error\",\n      \"message"}
{"timestamp":"2025-08-19T15:13:37.621Z","level":"debug","message":"Gemini CLI stdout: \": \"Test kodunda `mockApiResponseContext` tanımlanırken `state` için `as any` tür dönüşümü kullanılıyor. Bu, `no-any-type` kuralını ihlal eder ve tip güvenliğini zayıflatır.\",\n      \"suggestion\": \"`any` kullanmak yerine, `state"}
{"timestamp":"2025-08-19T15:13:37.730Z","level":"debug","message":"Gemini CLI stdout: ` için uygun bir tip tanımlayın veya `Partial<T>` gibi yardımcı tipler kullanarak mock nesnesini oluşturun.\",\n      \"ruleId\": \"no-any-type\",\n      \"category\": \"typescript\"\n    },\n    {\n      \"file\": \"/app/lib/location-helper"}
{"timestamp":"2025-08-19T15:13:38.262Z","level":"debug","message":"Gemini CLI stdout: .ts\",\n      \"line\": 167,\n      \"endLine\": 168,\n      \"severity\": \"error\",\n      \"message\": \"`getCityAndDistrictNameByCoordinate` fonksiyonu, `getStaticText` parametresini genel `Function` tipi ile alıyor."}
{"timestamp":"2025-08-19T15:13:38.758Z","level":"debug","message":"Gemini CLI stdout: Bu, tip güvenli değildir.\",\n      \"suggestion\": \"Fonksiyonun imzasını daha spesifik hale getirin. Örneğin: `getStaticText: (key: string) => string`.\",\n      \"ruleId\": \"no-any-type\",\n      \"category\": \"typescript\""}
{"timestamp":"2025-08-19T15:13:39.202Z","level":"debug","message":"Gemini CLI stdout: },\n    {\n      \"file\": \"/app/lib/location-helper.ts\",\n      \"line\": 236,\n      \"endLine\": 236,\n      \"severity\": \"error\",\n      \"message\": \"`findCityOrDistrictcByName` fonksiyon"}
{"timestamp":"2025-08-19T15:13:39.706Z","level":"debug","message":"Gemini CLI stdout: u, `areaList` parametresini `any[]` olarak alıyor. Bu, `no-any-type` kuralını ihlal eder.\",\n      \"suggestion\": \"Liste elemanları için bir `interface` tanımlayarak (örneğin `interface Area { id: number; name"}
{"timestamp":"2025-08-19T15:13:40.129Z","level":"debug","message":"Gemini CLI stdout: : string; }`) parametreyi `Area[]` olarak tipleyin.\",\n      \"ruleId\": \"no-any-type\",\n      \"category\": \"typescript\"\n    },\n    {\n      \"file\": \"/app/lib/location-helper.ts\",\n      \"line\":"}
{"timestamp":"2025-08-19T15:13:40.669Z","level":"debug","message":"Gemini CLI stdout: 347,\n      \"endLine\": 347,\n      \"severity\": \"error\",\n      \"message\": \"`getDestinationsAndWaypoints` fonksiyonu, `destinations` parametresini `any[]` olarak alıyor. Bu, `no-any-type"}
{"timestamp":"2025-08-19T15:13:41.313Z","level":"debug","message":"Gemini CLI stdout: ` kuralını ihlal eder.\",\n      \"suggestion\": \"Fonksiyon içindeki kullanıma ve projedeki diğer modellere bakarak `destinations` için `RoutesAuditModel[]` gibi daha spesifik bir tip belirleyin.\",\n      \"ruleId\": \"no-any-type\",\n      \"category\":"}
{"timestamp":"2025-08-19T15:13:41.676Z","level":"debug","message":"Gemini CLI stdout: \"typescript\"\n    }\n  ],\n  \"summary\": \"Kod değişiklikleri genel olarak olumlu; özellikle `location-helper` ve `orientation` modülleri için test kapsamının artırılması ve JSDoc ile dokümantasyonun iyileştirilmesi değerli. Ancak, `location-"}
{"timestamp":"2025-08-19T15:13:42.152Z","level":"debug","message":"Gemini CLI stdout: helper.ts` dosyasındaki bazı fonksiyonlarda ve ilgili test dosyasında `any` tipinin kullanımı `no-any-type` kuralını ihlal etmektedir. Tip güvenliğini artırmak ve kodun sürdürülebilirliğini sağlamak için bu `any` kullanımlarının düzeltilmesi gerekmektedir.\""}
{"timestamp":"2025-08-19T15:13:42.206Z","level":"debug","message":"Gemini CLI stdout: }\n```"}
{"timestamp":"2025-08-19T15:13:42.217Z","level":"debug","message":"Gemini CLI stdout: "}
{"timestamp":"2025-08-19T15:13:42.230Z","level":"debug","message":"Gemini CLI exited with code: 0"}
{"timestamp":"2025-08-19T15:13:42.230Z","level":"debug","message":"Gemini CLI final stdout: [dotenv@16.6.0] injecting env (9) from .env\n[dotenv@16.6.0] injecting env (9) from .env\n[dotenv@16.6.0] injecting env (9) from .env\n```json\n{\n  \"findings\": [\n    {\n      \"file\": \"/__tests__/app/lib/location-helper.test.ts\",\n      \"line\": 145,\n      \"endLine\": 145,\n      \"severity\": \"error\",\n      \"message\": \"Test kodunda `mockApiResponseContext` tanımlanırken `state` için `as any` tür dönüşümü kullanılıyor. Bu, `no-any-type` kuralını ihlal eder ve tip güvenliğini zayıflatır.\",\n      \"suggestion\": \"`any` kullanmak yerine, `state` için uygun bir tip tanımlayın veya `Partial<T>` gibi yardımcı tipler kullanarak mock nesnesini oluşturun.\",\n      \"ruleId\": \"no-any-type\",\n      \"category\": \"typescript\"\n    },\n    {\n      \"file\": \"/app/lib/location-helper.ts\",\n      \"line\": 167,\n      \"endLine\": 168,\n      \"severity\": \"error\",\n      \"message\": \"`getCityAndDistrictNameByCoordinate` fonksiyonu, `getStaticText` parametresini genel `Function` tipi ile alıyor. Bu, tip güvenli değildir.\",\n      \"suggestion\": \"Fonksiyonun imzasını daha spesifik hale getirin. Örneğin: `getStaticText: (key: string) => string`.\",\n      \"ruleId\": \"no-any-type\",\n      \"category\": \"typescript\"\n    },\n    {\n      \"file\": \"/app/lib/location-helper.ts\",\n      \"line\": 236,\n      \"endLine\": 236,\n      \"severity\": \"error\",\n      \"message\": \"`findCityOrDistrictcByName` fonksiyonu, `areaList` parametresini `any[]` olarak alıyor. Bu, `no-any-type` kuralını ihlal eder.\",\n      \"suggestion\": \"Liste elemanları için bir `interface` tanımlayarak (örneğin `interface Area { id: number; name: string; }`) parametreyi `Area[]` olarak tipleyin.\",\n      \"ruleId\": \"no-any-type\",\n      \"category\": \"typescript\"\n    },\n    {\n      \"file\": \"/app/lib/location-helper.ts\",\n      \"line\": 347,\n      \"endLine\": 347,\n      \"severity\": \"error\",\n      \"message\": \"`getDestinationsAndWaypoints` fonksiyonu, `destinations` parametresini `any[]` olarak alıyor. Bu, `no-any-type` kuralını ihlal eder.\",\n      \"suggestion\": \"Fonksiyon içindeki kullanıma ve projedeki diğer modellere bakarak `destinations` için `RoutesAuditModel[]` gibi daha spesifik bir tip belirleyin.\",\n      \"ruleId\": \"no-any-type\",\n      \"category\": \"typescript\"\n    }\n  ],\n  \"summary\": \"Kod değişiklikleri genel olarak olumlu; özellikle `location-helper` ve `orientation` modülleri için test kapsamının artırılması ve JSDoc ile dokümantasyonun iyileştirilmesi değerli. Ancak, `location-helper.ts` dosyasındaki bazı fonksiyonlarda ve ilgili test dosyasında `any` tipinin kullanımı `no-any-type` kuralını ihlal etmektedir. Tip güvenliğini artırmak ve kodun sürdürülebilirliğini sağlamak için bu `any` kullanımlarının düzeltilmesi gerekmektedir.\"\n}\n```"}
{"timestamp":"2025-08-19T15:13:42.231Z","level":"debug","message":"Gemini CLI final stderr: "}
{"timestamp":"2025-08-19T15:13:42.233Z","level":"debug","message":"Gemini response saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755616193253-0i3kgk/logs/responses/gemini-response-pr-req-1755616368118-77znoqe57-2025-08-19T15-13-42-232Z.json"}
{"timestamp":"2025-08-19T15:13:42.233Z","level":"info","message":"Review completed: 4 findings"}
{"timestamp":"2025-08-19T15:13:42.234Z","level":"debug","message":"Completed step 5: Plan and execute review"}
{"timestamp":"2025-08-19T15:13:42.234Z","level":"info","message":"\u001b[34m[6/8]\u001b[39m Processing and filtering findings..."}
{"timestamp":"2025-08-19T15:13:42.234Z","level":"debug","message":"Starting step 6: Process findings"}
{"timestamp":"2025-08-19T15:13:42.234Z","level":"info","message":"Found 4 total findings, 4 above threshold"}
{"timestamp":"2025-08-19T15:13:42.234Z","level":"debug","message":"Completed step 6: Process findings"}
{"timestamp":"2025-08-19T15:13:42.234Z","level":"info","message":"\u001b[34m[7/8]\u001b[39m Getting approval and posting comments..."}
{"timestamp":"2025-08-19T15:13:42.234Z","level":"debug","message":"Starting step 7: Get approval and post comments"}
{"timestamp":"2025-08-19T15:13:42.234Z","level":"info","message":"File                                       | Line | Severity | Message                                                                                                                                                                   | Rule       "}
{"timestamp":"2025-08-19T15:13:42.234Z","level":"info","message":"-------------------------------------------+------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------"}
{"timestamp":"2025-08-19T15:13:42.235Z","level":"info","message":"/__tests__/app/lib/location-helper.test.ts | 145  | ERROR    | Test kodunda `mockApiResponseContext` tanımlanırken `state` için `as any` tür dönüşümü kullanılıyor. Bu, `no-any-type` kuralını ihlal eder ve tip güvenliğini zayıflatır. | no-any-type"}
{"timestamp":"2025-08-19T15:13:42.235Z","level":"info","message":"/app/lib/location-helper.ts                | 167  | ERROR    | `getCityAndDistrictNameByCoordinate` fonksiyonu, `getStaticText` parametresini genel `Function` tipi ile alıyor. Bu, tip güvenli değildir.                                | no-any-type"}
{"timestamp":"2025-08-19T15:13:42.235Z","level":"info","message":"/app/lib/location-helper.ts                | 236  | ERROR    | `findCityOrDistrictcByName` fonksiyonu, `areaList` parametresini `any[]` olarak alıyor. Bu, `no-any-type` kuralını ihlal eder.                                            | no-any-type"}
{"timestamp":"2025-08-19T15:13:42.235Z","level":"info","message":"/app/lib/location-helper.ts                | 347  | ERROR    | `getDestinationsAndWaypoints` fonksiyonu, `destinations` parametresini `any[]` olarak alıyor. Bu, `no-any-type` kuralını ihlal eder.                                      | no-any-type"}
{"timestamp":"2025-08-19T15:14:25.441Z","level":"debug","message":"Completed getApproval"}
{"timestamp":"2025-08-19T15:14:25.442Z","level":"info","message":"Mapping 4 findings to ADO comment threads"}
{"timestamp":"2025-08-19T15:14:25.465Z","level":"info","message":"Mapping completed: 4 threads, 4 comments"}
{"timestamp":"2025-08-19T15:14:25.465Z","level":"info","message":"Posting 4 comment threads to PR 18670"}
{"timestamp":"2025-08-19T15:14:25.466Z","level":"debug","message":"Fetching comment threads for PR 18670"}
{"timestamp":"2025-08-19T15:14:25.466Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18670/threads"}
{"timestamp":"2025-08-19T15:14:25.867Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18670/threads"}
{"timestamp":"2025-08-19T15:14:25.867Z","level":"debug","message":"Successfully fetched 3 comment threads"}
{"timestamp":"2025-08-19T15:14:25.867Z","level":"debug","message":"Found 3 existing comment threads"}
{"timestamp":"2025-08-19T15:14:25.867Z","level":"debug","message":"Processing batch 1/1 (4 threads)"}
{"timestamp":"2025-08-19T15:14:25.868Z","level":"debug","message":"Creating new thread at /__tests__/app/lib/location-helper.test.ts:145"}
{"timestamp":"2025-08-19T15:14:25.868Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T15:14:25.869Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18670/threads"}
{"timestamp":"2025-08-19T15:14:26.170Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18670/threads"}
{"timestamp":"2025-08-19T15:14:26.170Z","level":"debug","message":"Successfully created comment thread 61414"}
{"timestamp":"2025-08-19T15:14:26.170Z","level":"debug","message":"Creating new thread at /app/lib/location-helper.ts:167"}
{"timestamp":"2025-08-19T15:14:26.170Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T15:14:26.170Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18670/threads"}
{"timestamp":"2025-08-19T15:14:26.453Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18670/threads"}
{"timestamp":"2025-08-19T15:14:26.453Z","level":"debug","message":"Successfully created comment thread 61415"}
{"timestamp":"2025-08-19T15:14:26.453Z","level":"debug","message":"Creating new thread at /app/lib/location-helper.ts:236"}
{"timestamp":"2025-08-19T15:14:26.454Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T15:14:26.454Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18670/threads"}
{"timestamp":"2025-08-19T15:14:26.675Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18670/threads"}
{"timestamp":"2025-08-19T15:14:26.675Z","level":"debug","message":"Successfully created comment thread 61416"}
{"timestamp":"2025-08-19T15:14:26.675Z","level":"debug","message":"Creating new thread at /app/lib/location-helper.ts:347"}
{"timestamp":"2025-08-19T15:14:26.675Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T15:14:26.675Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18670/threads"}
{"timestamp":"2025-08-19T15:14:26.906Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18670/threads"}
{"timestamp":"2025-08-19T15:14:26.906Z","level":"debug","message":"Successfully created comment thread 61417"}
{"timestamp":"2025-08-19T15:14:26.906Z","level":"info","message":"Comment posting completed: 4 threads created, 4 comments created"}
{"timestamp":"2025-08-19T15:14:26.907Z","level":"debug","message":"Completed step 7: Get approval and post comments"}
{"timestamp":"2025-08-19T15:14:26.907Z","level":"info","message":"\u001b[34m[8/8]\u001b[39m Updating PR status and cleaning up..."}
{"timestamp":"2025-08-19T15:14:26.907Z","level":"debug","message":"Starting step 8: Update PR status"}
{"timestamp":"2025-08-19T15:14:26.907Z","level":"debug","message":"Completed step 8: Update PR status"}
{"timestamp":"2025-08-19T15:14:26.907Z","level":"info","message":"\u001b[32m✅ Review completed successfully in 273660ms\u001b[39m"}
{"timestamp":"2025-08-19T15:14:26.909Z","level":"info","message":"Cleaning up workspace: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755616193253-0i3kgk"}
{"timestamp":"2025-08-19T15:14:27.629Z","level":"info","message":"Workspace cleanup completed: 3970 files, 982 directories deleted"}
{"timestamp":"2025-08-19T15:15:54.893Z","level":"info","message":"\u001b[34m🚀 Starting Azure DevOps PR Review...\u001b[39m"}
{"timestamp":"2025-08-19T15:15:54.894Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T15:15:54.894Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T15:15:54.894Z","level":"info","message":"\u001b[34m[1/8]\u001b[39m Initializing and validating options..."}
{"timestamp":"2025-08-19T15:15:54.894Z","level":"debug","message":"Starting step 1: Initialize"}
{"timestamp":"2025-08-19T15:15:54.895Z","level":"info","message":"Loading configuration..."}
{"timestamp":"2025-08-19T15:15:54.896Z","level":"debug","message":"Found .adorevrc.yaml in project root, loading configuration"}
{"timestamp":"2025-08-19T15:15:54.896Z","level":"debug","message":"Project root configuration loaded successfully"}
{"timestamp":"2025-08-19T15:15:54.896Z","level":"info","message":"Using configuration from: project-root"}
{"timestamp":"2025-08-19T15:15:54.897Z","level":"debug","message":"Log level overridden by ADO_REVIEW_LOG_LEVEL: debug"}
{"timestamp":"2025-08-19T15:15:54.897Z","level":"debug","message":"Configuration loaded and merged successfully"}
{"timestamp":"2025-08-19T15:15:54.897Z","level":"debug","message":"Gemini timeout: 120000ms"}
{"timestamp":"2025-08-19T15:15:54.897Z","level":"debug","message":"Current log level: debug"}
{"timestamp":"2025-08-19T15:15:54.898Z","level":"debug","message":"Initializing GeminiAdapter with timeout: 120000ms"}
{"timestamp":"2025-08-19T15:15:54.898Z","level":"debug","message":"GeminiAdapter initialized with default timeout: 120000ms"}
{"timestamp":"2025-08-19T15:15:54.898Z","level":"debug","message":"All components initialized successfully"}
{"timestamp":"2025-08-19T15:15:54.898Z","level":"debug","message":"Completed step 1: Initialize"}
{"timestamp":"2025-08-19T15:15:54.898Z","level":"info","message":"\u001b[34m[2/8]\u001b[39m Setting up temporary workspace..."}
{"timestamp":"2025-08-19T15:15:54.898Z","level":"debug","message":"Starting step 2: Setup workspace"}
{"timestamp":"2025-08-19T15:15:54.904Z","level":"info","message":"Workspace created: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755616554898-mo0hbm"}
{"timestamp":"2025-08-19T15:15:54.904Z","level":"debug","message":"Workspace config path: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755616554898-mo0hbm/.adorevrc.yaml"}
{"timestamp":"2025-08-19T15:15:54.905Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T15:15:54.905Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T15:15:54.905Z","level":"debug","message":"Completed step 2: Setup workspace"}
{"timestamp":"2025-08-19T15:15:54.905Z","level":"info","message":"\u001b[34m[3/8]\u001b[39m Fetching PR information and changes..."}
{"timestamp":"2025-08-19T15:15:54.905Z","level":"debug","message":"Starting step 3: Fetch PR info and diffs"}
{"timestamp":"2025-08-19T15:15:54.905Z","level":"debug","message":"Fetching PR 18705 info"}
{"timestamp":"2025-08-19T15:15:54.905Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18705"}
{"timestamp":"2025-08-19T15:15:55.522Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18705"}
{"timestamp":"2025-08-19T15:15:55.523Z","level":"debug","message":"Successfully fetched PR 18705 info"}
{"timestamp":"2025-08-19T15:15:55.523Z","level":"debug","message":"Response status: 200"}
{"timestamp":"2025-08-19T15:15:55.523Z","level":"debug","message":"Response data keys:"}
{"timestamp":"2025-08-19T15:15:55.523Z","level":"debug","message":"PR Info structure:"}
{"timestamp":"2025-08-19T15:15:55.523Z","level":"debug","message":"Completed fetchPRInfo"}
{"timestamp":"2025-08-19T15:15:55.524Z","level":"debug","message":"fetchDiffs - prInfo structure:"}
{"timestamp":"2025-08-19T15:15:55.524Z","level":"info","message":"Cloning repository: https://inploid@dev.azure.com/inploid/AuditReactProject/_git/AuditReactProject.RN0.71.X"}
{"timestamp":"2025-08-19T15:15:55.524Z","level":"debug","message":"Clone options: {\"branch\":\"refs/heads/feature/TDM-14371\",\"workingDirectory\":\"/var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755616554898-mo0hbm/source\"}"}
{"timestamp":"2025-08-19T15:15:55.524Z","level":"debug","message":"Executing: git init "}
{"timestamp":"2025-08-19T15:15:55.565Z","level":"debug","message":"Executing: git remote add origin https://inploid@dev.azure.com/inploid/AuditReactProject/_git/AuditReactProject.RN0.71.X"}
{"timestamp":"2025-08-19T15:15:55.578Z","level":"debug","message":"Executing: git fetch origin refs/heads/feature/TDM-14371"}
{"timestamp":"2025-08-19T15:19:08.765Z","level":"debug","message":"Executing: git checkout -b local-branch origin/feature/TDM-14371"}
{"timestamp":"2025-08-19T15:19:09.323Z","level":"debug","message":"Executing: git rev-parse HEAD"}
{"timestamp":"2025-08-19T15:19:09.333Z","level":"info","message":"Successfully cloned repository to /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755616554898-mo0hbm/source"}
{"timestamp":"2025-08-19T15:19:09.333Z","level":"debug","message":"Commit ID: 40d673792f25e28bbcb52c222fbaafa31005f0a2"}
{"timestamp":"2025-08-19T15:19:09.333Z","level":"debug","message":"Reinitializing ConfigLoader with cloned workspace directory:"}
{"timestamp":"2025-08-19T15:19:09.333Z","level":"debug","message":"Workspace config path: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755616554898-mo0hbm/source/.adorevrc.yaml"}
{"timestamp":"2025-08-19T15:19:09.333Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T15:19:09.333Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T15:19:09.335Z","level":"debug","message":"Found .adorevrc.yaml in project root, loading configuration"}
{"timestamp":"2025-08-19T15:19:09.335Z","level":"debug","message":"Project root configuration loaded successfully"}
{"timestamp":"2025-08-19T15:19:09.335Z","level":"info","message":"Using configuration from: project-root"}
{"timestamp":"2025-08-19T15:19:09.335Z","level":"debug","message":"Log level overridden by ADO_REVIEW_LOG_LEVEL: debug"}
{"timestamp":"2025-08-19T15:19:09.335Z","level":"debug","message":"Configuration loaded and merged successfully"}
{"timestamp":"2025-08-19T15:19:09.335Z","level":"debug","message":"Gemini timeout: 120000ms"}
{"timestamp":"2025-08-19T15:19:09.335Z","level":"debug","message":"Current log level: debug"}
{"timestamp":"2025-08-19T15:19:09.336Z","level":"debug","message":"Reloaded configuration from workspace:"}
{"timestamp":"2025-08-19T15:19:09.336Z","level":"info","message":"Fetching iteration changes for PR 18705"}
{"timestamp":"2025-08-19T15:19:09.336Z","level":"debug","message":"Fetching PR 18705 iterations"}
{"timestamp":"2025-08-19T15:19:09.336Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18705/iterations"}
{"timestamp":"2025-08-19T15:19:09.339Z","level":"warn","message":"HTTP EPIPE error from /git/repositories/AuditReactProject.RN0.71.X/pullrequests/18705/iterations: write EPIPE. Retrying in 1000ms (attempt 1/3)"}
{"timestamp":"2025-08-19T15:19:10.341Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18705/iterations"}
{"timestamp":"2025-08-19T15:19:10.721Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18705/iterations"}
{"timestamp":"2025-08-19T15:19:10.722Z","level":"debug","message":"Successfully fetched 2 iterations"}
{"timestamp":"2025-08-19T15:19:10.722Z","level":"debug","message":"Fetching changes for iteration 2"}
{"timestamp":"2025-08-19T15:19:10.723Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18705/iterations/2/changes"}
{"timestamp":"2025-08-19T15:19:10.951Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18705/iterations/2/changes"}
{"timestamp":"2025-08-19T15:19:10.952Z","level":"debug","message":"Successfully fetched 9 changes"}
{"timestamp":"2025-08-19T15:19:10.952Z","level":"debug","message":"Processing iteration changes with 9 file changes"}
{"timestamp":"2025-08-19T15:19:10.952Z","level":"debug","message":"Processing iteration change for file: /__mocks__/@react-native-community/geolocation.js"}
{"timestamp":"2025-08-19T15:19:10.952Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 40d673792f25e28bbcb52c222fbaafa31005f0a2"}
{"timestamp":"2025-08-19T15:19:10.952Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 40d673792f25e28bbcb52c222fbaafa31005f0a2 -- __mocks__/@react-native-community/geolocation.js"}
{"timestamp":"2025-08-19T15:19:10.967Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T15:19:10.967Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/location-helper.test.ts"}
{"timestamp":"2025-08-19T15:19:10.967Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 40d673792f25e28bbcb52c222fbaafa31005f0a2"}
{"timestamp":"2025-08-19T15:19:10.967Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 40d673792f25e28bbcb52c222fbaafa31005f0a2 -- __tests__/app/lib/location-helper.test.ts"}
{"timestamp":"2025-08-19T15:19:10.981Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T15:19:10.982Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/orientation.test.ts"}
{"timestamp":"2025-08-19T15:19:10.982Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 40d673792f25e28bbcb52c222fbaafa31005f0a2"}
{"timestamp":"2025-08-19T15:19:10.982Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 40d673792f25e28bbcb52c222fbaafa31005f0a2 -- __tests__/app/lib/orientation.test.ts"}
{"timestamp":"2025-08-19T15:19:10.994Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T15:19:10.994Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/regex-validate-operation.test.ts"}
{"timestamp":"2025-08-19T15:19:10.994Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 40d673792f25e28bbcb52c222fbaafa31005f0a2"}
{"timestamp":"2025-08-19T15:19:10.994Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 40d673792f25e28bbcb52c222fbaafa31005f0a2 -- __tests__/app/lib/regex-validate-operation.test.ts"}
{"timestamp":"2025-08-19T15:19:11.006Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T15:19:11.007Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/print-provider.test.ts"}
{"timestamp":"2025-08-19T15:19:11.007Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 40d673792f25e28bbcb52c222fbaafa31005f0a2"}
{"timestamp":"2025-08-19T15:19:11.007Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 40d673792f25e28bbcb52c222fbaafa31005f0a2 -- __tests__/app/lib/print-provider.test.ts"}
{"timestamp":"2025-08-19T15:19:11.020Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T15:19:11.020Z","level":"debug","message":"Processing iteration change for file: /app/lib/location-helper.ts"}
{"timestamp":"2025-08-19T15:19:11.020Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 40d673792f25e28bbcb52c222fbaafa31005f0a2"}
{"timestamp":"2025-08-19T15:19:11.020Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 40d673792f25e28bbcb52c222fbaafa31005f0a2 -- app/lib/location-helper.ts"}
{"timestamp":"2025-08-19T15:19:11.032Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T15:19:11.032Z","level":"debug","message":"Processing iteration change for file: /app/lib/orientation.ts"}
{"timestamp":"2025-08-19T15:19:11.032Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 40d673792f25e28bbcb52c222fbaafa31005f0a2"}
{"timestamp":"2025-08-19T15:19:11.032Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 40d673792f25e28bbcb52c222fbaafa31005f0a2 -- app/lib/orientation.ts"}
{"timestamp":"2025-08-19T15:19:11.044Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T15:19:11.044Z","level":"debug","message":"Processing iteration change for file: /app/lib/regex-validate-operation.ts"}
{"timestamp":"2025-08-19T15:19:11.044Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 40d673792f25e28bbcb52c222fbaafa31005f0a2"}
{"timestamp":"2025-08-19T15:19:11.044Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 40d673792f25e28bbcb52c222fbaafa31005f0a2 -- app/lib/regex-validate-operation.ts"}
{"timestamp":"2025-08-19T15:19:11.056Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T15:19:11.056Z","level":"debug","message":"Processing iteration change for file: /app/lib/print-provider.ts"}
{"timestamp":"2025-08-19T15:19:11.056Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 40d673792f25e28bbcb52c222fbaafa31005f0a2"}
{"timestamp":"2025-08-19T15:19:11.056Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 40d673792f25e28bbcb52c222fbaafa31005f0a2 -- app/lib/print-provider.ts"}
{"timestamp":"2025-08-19T15:19:11.068Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T15:19:11.069Z","level":"info","message":"Successfully fetched diff: 9 files, +959/-65 lines"}
{"timestamp":"2025-08-19T15:19:11.069Z","level":"debug","message":"Diff data saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755616554898-mo0hbm/logs/diffs/diff-pr-pr-18705-2025-08-19T15-19-11-069Z.txt"}
{"timestamp":"2025-08-19T15:19:11.069Z","level":"debug","message":"Completed step 3: Fetch PR info and diffs"}
{"timestamp":"2025-08-19T15:19:11.069Z","level":"info","message":"\u001b[34m[4/8]\u001b[39m Loading rules and building review context..."}
{"timestamp":"2025-08-19T15:19:11.069Z","level":"debug","message":"Starting step 4: Load rules and build context"}
{"timestamp":"2025-08-19T15:19:11.070Z","level":"info","message":"Loading review rules and guidelines"}
{"timestamp":"2025-08-19T15:19:11.070Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T15:19:11.071Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T15:19:11.074Z","level":"warn","message":"No rules found in /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T15:19:11.074Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T15:19:11.074Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T15:19:11.076Z","level":"debug","message":"Loaded 28 rules from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T15:19:11.076Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T15:19:11.076Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T15:19:11.077Z","level":"debug","message":"Loaded guideline \"Azure DevOps Review Rules\" from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T15:19:11.077Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T15:19:11.078Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T15:19:11.078Z","level":"debug","message":"Loaded guideline \"React Native Field App - Architecture Guide\" from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T15:19:11.078Z","level":"info","message":"Loaded 1 rule sets, 28 total rules (28 enabled), 2 guidelines"}
{"timestamp":"2025-08-19T15:19:11.079Z","level":"debug","message":"Completed loadRules"}
{"timestamp":"2025-08-19T15:19:11.079Z","level":"info","message":"Building review context"}
{"timestamp":"2025-08-19T15:19:11.080Z","level":"info","message":"Context built: 9 files, 17 hunks, 28 rules, 2 guidelines"}
{"timestamp":"2025-08-19T15:19:11.080Z","level":"debug","message":"Completed step 4: Load rules and build context"}
{"timestamp":"2025-08-19T15:19:11.080Z","level":"info","message":"\u001b[34m[5/8]\u001b[39m Planning and executing AI review..."}
{"timestamp":"2025-08-19T15:19:11.080Z","level":"debug","message":"Starting step 5: Plan and execute review"}
{"timestamp":"2025-08-19T15:19:11.080Z","level":"info","message":"Creating review plan"}
{"timestamp":"2025-08-19T15:19:11.080Z","level":"debug","message":"Completed planReview"}
{"timestamp":"2025-08-19T15:19:11.080Z","level":"debug","message":"Executing Gemini review with plan"}
{"timestamp":"2025-08-19T15:19:11.080Z","level":"info","message":"Executing single batch review"}
{"timestamp":"2025-08-19T15:19:11.080Z","level":"info","message":"Starting Gemini review with model: gemini-2.5-flash"}
{"timestamp":"2025-08-19T15:19:11.081Z","level":"debug","message":"Prompt data saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755616554898-mo0hbm/logs/prompts/prompt-pr-review-2025-08-19T15-19-11-081Z.txt"}
{"timestamp":"2025-08-19T15:19:11.081Z","level":"debug","message":"Spawning Gemini CLI with stdin approach"}
{"timestamp":"2025-08-19T15:19:12.035Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T15:19:12.113Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T15:19:12.143Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T15:19:14.255Z","level":"debug","message":"Gemini CLI stderr: Attempt 1 failed with status 429. Retrying with backoff... GaxiosError: [{\n  \"error\": {\n    \"code\": 429,\n    \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\n    \"errors\": [\n      {\n        \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\n        \"domain\": \"global\",\n        \"reason\": \"rateLimitExceeded\"\n      }\n    ],\n    \"status\": \"RESOURCE_EXHAUSTED\"\n  }\n}\n]\n    at Gaxios._request (/Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/gaxios/build/src/gaxios.js:142:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OAuth2Client.requestAsync (/Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/google-auth-library/build/src/auth/oauth2client.js:429:18)\n    at async CodeAssistServer.streamEndpoint (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/code_assist/server.js:60:21)\n    at async CodeAssistServer.generateContentStream (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/code_assist/server.js:21:23)\n    at async retryWithBackoff (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/utils/retry.js:61:20)\n    at async GeminiChat.sendMessageStream (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/core/geminiChat.js:287:36)\n    at async runNonInteractive (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/dist/src/nonInteractiveCli.js:43:36)\n    at async main (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/dist/src/gemini.js:154:5) {\n  config: {\n    url: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse',\n    method: 'POST',\n    params: { alt: 'sse' },\n    headers: {\n      'Content-Type': 'application/json',\n      'User-Agent': 'GeminiCLI/v20.19.0 (darwin; arm64) google-api-nodejs-client/9.15.1',\n      Authorization: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n      'x-goog-api-client': 'gl-node/20.19.0'\n    },\n    responseType: 'stream',\n    body: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n    signal: AbortSignal { aborted: false },\n    paramsSerializer: [Function: paramsSerializer],\n    validateStatus: [Function: validateStatus],\n    errorRedactor: [Function: defaultErrorRedactor]\n  },\n  response: {\n    config: {\n      url: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse',\n      method: 'POST',\n      params: [Object],\n      headers: [Object],\n      responseType: 'stream',\n      body: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n      signal: [AbortSignal],\n      paramsSerializer: [Function: paramsSerializer],\n      validateStatus: [Function: validateStatus],\n      errorRedactor: [Function: defaultErrorRedactor]\n    },\n    data: '[{\\n' +\n      '  \"error\": {\\n' +\n      '    \"code\": 429,\\n' +\n      '    \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\\n' +\n      '    \"errors\": [\\n' +\n      '      {\\n' +\n      '        \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\\n' +\n      '        \"domain\": \"global\",\\n' +\n      '        \"reason\": \"rateLimitExceeded\"\\n' +\n      '      }\\n' +\n      '    ],\\n' +\n      '    \"status\": \"RESOURCE_EXHAUSTED\"\\n' +\n      '  }\\n' +\n      '}\\n' +\n      ']',\n    headers: {\n      'alt-svc': 'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000',\n      'content-length': '514',\n      'content-type': 'application/json; charset=UTF-8',\n      date: 'Tue, 19 Aug 2025 15:19:14 GMT',\n      server: 'ESF',\n      'server-timing': 'gfet4t7; dur=459',\n      vary: 'Origin, X-Origin, Referer',\n      'x-content-type-options': 'nosniff',\n      'x-frame-options': 'SAMEORIGIN',\n      'x-xss-protection': '0'\n    },\n    status: 429,\n    statusText: 'Too Many Requests',\n    request: {\n      responseURL: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse'\n    }\n  },\n  error: undefined,\n  status: 429,\n  [Symbol(gaxios-gaxios-error)]: '6.7.1'\n}"}
{"timestamp":"2025-08-19T15:19:58.977Z","level":"debug","message":"Gemini CLI stdout: ```json\n{\n  \"findings\": [\n    {\n      \"file\": \"/__tests__/app/lib/location-helper.test.ts\",\n      \"line\": 141,\n      \"endLine\": 141,\n      \"severity\": \"error\",\n      \"message"}
{"timestamp":"2025-08-19T15:19:58.989Z","level":"debug","message":"Gemini CLI stdout: \": \"Test dosyasında `any` türünün kullanılması, projenin `no-any-type` kuralını ihlal etmektedir. Tip güvenliği, testlerin güvenilirliği ve sürdürülebilirliği için de kritik öneme sahiptir.\",\n      \"suggestion\": \"`mockApiResponseContext` tanımındaki"}
{"timestamp":"2025-08-19T15:19:59.356Z","level":"debug","message":"Gemini CLI stdout: `state` alanı için `as any` kullanmak yerine, `ApiResponseContext` içerisindeki state tipi için uygun bir mock arayüzü tanımlayarak veya `jest.Mocked` gibi yardımcıları kullanarak tip güvenliğini sağlayın. Örneğin: `state: { show: false, message: \\\"\\\", type"}
{"timestamp":"2025-08-19T15:19:59.790Z","level":"debug","message":"Gemini CLI stdout: : \\\"success\\\" } as ApiResponseContextState`\",\n      \"ruleId\": \"no-any-type\",\n      \"category\": \"typescript\"\n    },\n    {\n      \"file\": \"/app/lib/location-helper.ts\",\n      \"line\": 276,"}
{"timestamp":"2025-08-19T15:20:00.241Z","level":"debug","message":"Gemini CLI stdout: \"endLine\": 284,\n      \"severity\": \"warning\",\n      \"message\": \"JSDoc yorumu yanlış fonksiyonun üzerine eklenmiş. Yorum, `calculateLatitudeLongitudeAverageAndDelta` fonksiyonunu tanımlarken, `addDistanceToEachDestination` fonksiyonunun üzerinde"}
{"timestamp":"2025-08-19T15:20:00.687Z","level":"debug","message":"Gemini CLI stdout: yer alıyor. Bu durum, kodu okumayı zorlaştırır ve yanlış anlaşılmalara yol açabilir.\",\n      \"suggestion\": \"Lütfen JSDoc yorum bloğunu, tanımladığı `calculateLatitudeLongitudeAverageAndDelta` fonksiyonunun hemen üzerine taşıyın.\",\n      \"ruleId\": \""}
{"timestamp":"2025-08-19T15:20:01.212Z","level":"debug","message":"Gemini CLI stdout: component-structure\",\n      \"category\": \"code-quality\"\n    }\n  ],\n  \"summary\": \"Genel olarak, yapılan değişiklikler projenin test kapsamını önemli ölçüde artırıyor ve mevcut fonksiyonlara dokümantasyon ekliyor, bu harika bir gelişme."}
{"timestamp":"2025-08-19T15:20:01.693Z","level":"debug","message":"Gemini CLI stdout: Ancak, kod kalitesini ve okunabilirliği daha da artırmak için dikkat edilmesi gereken birkaç nokta var. Özellikle test dosyalarında `any` tipinin kullanımından kaçınılması ve JSDoc yorumlarının doğru fonksiyonlar için eklendiğinden emin olunması gerekiyor.\"\n}\n```"}
{"timestamp":"2025-08-19T15:20:01.701Z","level":"debug","message":"Gemini CLI stdout: "}
{"timestamp":"2025-08-19T15:20:01.713Z","level":"debug","message":"Gemini CLI exited with code: 0"}
{"timestamp":"2025-08-19T15:20:01.713Z","level":"debug","message":"Gemini CLI final stdout: [dotenv@16.6.0] injecting env (9) from .env\n[dotenv@16.6.0] injecting env (9) from .env\n[dotenv@16.6.0] injecting env (9) from .env\n```json\n{\n  \"findings\": [\n    {\n      \"file\": \"/__tests__/app/lib/location-helper.test.ts\",\n      \"line\": 141,\n      \"endLine\": 141,\n      \"severity\": \"error\",\n      \"message\": \"Test dosyasında `any` türünün kullanılması, projenin `no-any-type` kuralını ihlal etmektedir. Tip güvenliği, testlerin güvenilirliği ve sürdürülebilirliği için de kritik öneme sahiptir.\",\n      \"suggestion\": \"`mockApiResponseContext` tanımındaki `state` alanı için `as any` kullanmak yerine, `ApiResponseContext` içerisindeki state tipi için uygun bir mock arayüzü tanımlayarak veya `jest.Mocked` gibi yardımcıları kullanarak tip güvenliğini sağlayın. Örneğin: `state: { show: false, message: \\\"\\\", type: \\\"success\\\" } as ApiResponseContextState`\",\n      \"ruleId\": \"no-any-type\",\n      \"category\": \"typescript\"\n    },\n    {\n      \"file\": \"/app/lib/location-helper.ts\",\n      \"line\": 276,\n      \"endLine\": 284,\n      \"severity\": \"warning\",\n      \"message\": \"JSDoc yorumu yanlış fonksiyonun üzerine eklenmiş. Yorum, `calculateLatitudeLongitudeAverageAndDelta` fonksiyonunu tanımlarken, `addDistanceToEachDestination` fonksiyonunun üzerinde yer alıyor. Bu durum, kodu okumayı zorlaştırır ve yanlış anlaşılmalara yol açabilir.\",\n      \"suggestion\": \"Lütfen JSDoc yorum bloğunu, tanımladığı `calculateLatitudeLongitudeAverageAndDelta` fonksiyonunun hemen üzerine taşıyın.\",\n      \"ruleId\": \"component-structure\",\n      \"category\": \"code-quality\"\n    }\n  ],\n  \"summary\": \"Genel olarak, yapılan değişiklikler projenin test kapsamını önemli ölçüde artırıyor ve mevcut fonksiyonlara dokümantasyon ekliyor, bu harika bir gelişme. Ancak, kod kalitesini ve okunabilirliği daha da artırmak için dikkat edilmesi gereken birkaç nokta var. Özellikle test dosyalarında `any` tipinin kullanımından kaçınılması ve JSDoc yorumlarının doğru fonksiyonlar için eklendiğinden emin olunması gerekiyor.\"\n}\n```"}
{"timestamp":"2025-08-19T15:20:01.713Z","level":"debug","message":"Gemini CLI final stderr: Attempt 1 failed with status 429. Retrying with backoff... GaxiosError: [{\n  \"error\": {\n    \"code\": 429,\n    \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\n    \"errors\": [\n      {\n        \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\n        \"domain\": \"global\",\n        \"reason\": \"rateLimitExceeded\"\n      }\n    ],\n    \"status\": \"RESOURCE_EXHAUSTED\"\n  }\n}\n]\n    at Gaxios._request (/Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/gaxios/build/src/gaxios.js:142:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OAuth2Client.requestAsync (/Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/google-auth-library/build/src/auth/oauth2client.js:429:18)\n    at async CodeAssistServer.streamEndpoint (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/code_assist/server.js:60:21)\n    at async CodeAssistServer.generateContentStream (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/code_assist/server.js:21:23)\n    at async retryWithBackoff (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/utils/retry.js:61:20)\n    at async GeminiChat.sendMessageStream (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/core/geminiChat.js:287:36)\n    at async runNonInteractive (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/dist/src/nonInteractiveCli.js:43:36)\n    at async main (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/dist/src/gemini.js:154:5) {\n  config: {\n    url: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse',\n    method: 'POST',\n    params: { alt: 'sse' },\n    headers: {\n      'Content-Type': 'application/json',\n      'User-Agent': 'GeminiCLI/v20.19.0 (darwin; arm64) google-api-nodejs-client/9.15.1',\n      Authorization: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n      'x-goog-api-client': 'gl-node/20.19.0'\n    },\n    responseType: 'stream',\n    body: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n    signal: AbortSignal { aborted: false },\n    paramsSerializer: [Function: paramsSerializer],\n    validateStatus: [Function: validateStatus],\n    errorRedactor: [Function: defaultErrorRedactor]\n  },\n  response: {\n    config: {\n      url: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse',\n      method: 'POST',\n      params: [Object],\n      headers: [Object],\n      responseType: 'stream',\n      body: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n      signal: [AbortSignal],\n      paramsSerializer: [Function: paramsSerializer],\n      validateStatus: [Function: validateStatus],\n      errorRedactor: [Function: defaultErrorRedactor]\n    },\n    data: '[{\\n' +\n      '  \"error\": {\\n' +\n      '    \"code\": 429,\\n' +\n      '    \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\\n' +\n      '    \"errors\": [\\n' +\n      '      {\\n' +\n      '        \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\\n' +\n      '        \"domain\": \"global\",\\n' +\n      '        \"reason\": \"rateLimitExceeded\"\\n' +\n      '      }\\n' +\n      '    ],\\n' +\n      '    \"status\": \"RESOURCE_EXHAUSTED\"\\n' +\n      '  }\\n' +\n      '}\\n' +\n      ']',\n    headers: {\n      'alt-svc': 'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000',\n      'content-length': '514',\n      'content-type': 'application/json; charset=UTF-8',\n      date: 'Tue, 19 Aug 2025 15:19:14 GMT',\n      server: 'ESF',\n      'server-timing': 'gfet4t7; dur=459',\n      vary: 'Origin, X-Origin, Referer',\n      'x-content-type-options': 'nosniff',\n      'x-frame-options': 'SAMEORIGIN',\n      'x-xss-protection': '0'\n    },\n    status: 429,\n    statusText: 'Too Many Requests',\n    request: {\n      responseURL: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse'\n    }\n  },\n  error: undefined,\n  status: 429,\n  [Symbol(gaxios-gaxios-error)]: '6.7.1'\n}"}
{"timestamp":"2025-08-19T15:20:01.714Z","level":"debug","message":"Gemini response saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755616554898-mo0hbm/logs/responses/gemini-response-pr-req-1755616751081-shue4epn5-2025-08-19T15-20-01-714Z.json"}
{"timestamp":"2025-08-19T15:20:01.715Z","level":"info","message":"Review completed: 2 findings"}
{"timestamp":"2025-08-19T15:20:01.715Z","level":"debug","message":"Completed step 5: Plan and execute review"}
{"timestamp":"2025-08-19T15:20:01.715Z","level":"info","message":"\u001b[34m[6/8]\u001b[39m Processing and filtering findings..."}
{"timestamp":"2025-08-19T15:20:01.715Z","level":"debug","message":"Starting step 6: Process findings"}
{"timestamp":"2025-08-19T15:20:01.715Z","level":"info","message":"Found 2 total findings, 2 above threshold"}
{"timestamp":"2025-08-19T15:20:01.715Z","level":"debug","message":"Completed step 6: Process findings"}
{"timestamp":"2025-08-19T15:20:01.716Z","level":"info","message":"\u001b[34m[7/8]\u001b[39m Getting approval and posting comments..."}
{"timestamp":"2025-08-19T15:20:01.716Z","level":"debug","message":"Starting step 7: Get approval and post comments"}
{"timestamp":"2025-08-19T15:20:01.716Z","level":"info","message":"File                                       | Line | Severity | Message                                                                                                                                                                                                                                                                   | Rule               "}
{"timestamp":"2025-08-19T15:20:01.716Z","level":"info","message":"-------------------------------------------+------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------"}
{"timestamp":"2025-08-19T15:20:01.716Z","level":"info","message":"/__tests__/app/lib/location-helper.test.ts | 141  | ERROR    | Test dosyasında `any` türünün kullanılması, projenin `no-any-type` kuralını ihlal etmektedir. Tip güvenliği, testlerin güvenilirliği ve sürdürülebilirliği için de kritik öneme sahiptir.                                                                                 | no-any-type        "}
{"timestamp":"2025-08-19T15:20:01.717Z","level":"info","message":"/app/lib/location-helper.ts                | 276  | WARNING  | JSDoc yorumu yanlış fonksiyonun üzerine eklenmiş. Yorum, `calculateLatitudeLongitudeAverageAndDelta` fonksiyonunu tanımlarken, `addDistanceToEachDestination` fonksiyonunun üzerinde yer alıyor. Bu durum, kodu okumayı zorlaştırır ve yanlış anlaşılmalara yol açabilir. | component-structure"}
{"timestamp":"2025-08-19T15:21:39.472Z","level":"debug","message":"Completed getApproval"}
{"timestamp":"2025-08-19T15:21:39.473Z","level":"info","message":"Mapping 2 findings to ADO comment threads"}
{"timestamp":"2025-08-19T15:21:39.474Z","level":"info","message":"Mapping completed: 2 threads, 2 comments"}
{"timestamp":"2025-08-19T15:21:39.475Z","level":"info","message":"Posting 2 comment threads to PR 18705"}
{"timestamp":"2025-08-19T15:21:39.475Z","level":"debug","message":"Fetching comment threads for PR 18705"}
{"timestamp":"2025-08-19T15:21:39.476Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18705/threads"}
{"timestamp":"2025-08-19T15:21:39.868Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18705/threads"}
{"timestamp":"2025-08-19T15:21:39.868Z","level":"debug","message":"Successfully fetched 1 comment threads"}
{"timestamp":"2025-08-19T15:21:39.869Z","level":"debug","message":"Found 1 existing comment threads"}
{"timestamp":"2025-08-19T15:21:39.869Z","level":"debug","message":"Processing batch 1/1 (2 threads)"}
{"timestamp":"2025-08-19T15:21:39.869Z","level":"debug","message":"Creating new thread at /__tests__/app/lib/location-helper.test.ts:141"}
{"timestamp":"2025-08-19T15:21:39.870Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T15:21:39.870Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18705/threads"}
{"timestamp":"2025-08-19T15:21:40.102Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18705/threads"}
{"timestamp":"2025-08-19T15:21:40.102Z","level":"debug","message":"Successfully created comment thread 61418"}
{"timestamp":"2025-08-19T15:21:40.102Z","level":"debug","message":"Creating new thread at /app/lib/location-helper.ts:276"}
{"timestamp":"2025-08-19T15:21:40.102Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T15:21:40.103Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18705/threads"}
{"timestamp":"2025-08-19T15:21:40.380Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18705/threads"}
{"timestamp":"2025-08-19T15:21:40.381Z","level":"debug","message":"Successfully created comment thread 61419"}
{"timestamp":"2025-08-19T15:21:40.381Z","level":"info","message":"Comment posting completed: 2 threads created, 2 comments created"}
{"timestamp":"2025-08-19T15:21:40.381Z","level":"debug","message":"Completed step 7: Get approval and post comments"}
{"timestamp":"2025-08-19T15:21:40.381Z","level":"info","message":"\u001b[34m[8/8]\u001b[39m Updating PR status and cleaning up..."}
{"timestamp":"2025-08-19T15:21:40.381Z","level":"debug","message":"Starting step 8: Update PR status"}
{"timestamp":"2025-08-19T15:21:40.382Z","level":"debug","message":"Completed step 8: Update PR status"}
{"timestamp":"2025-08-19T15:21:40.382Z","level":"info","message":"\u001b[32m✅ Review completed successfully in 345488ms\u001b[39m"}
{"timestamp":"2025-08-19T15:21:40.382Z","level":"info","message":"Cleaning up workspace: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755616554898-mo0hbm"}
{"timestamp":"2025-08-19T15:21:41.055Z","level":"info","message":"Workspace cleanup completed: 3972 files, 982 directories deleted"}
{"timestamp":"2025-08-19T16:07:18.169Z","level":"info","message":"\u001b[34m🚀 Starting Azure DevOps PR Review...\u001b[39m"}
{"timestamp":"2025-08-19T16:07:18.170Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T16:07:18.170Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T16:07:18.171Z","level":"info","message":"\u001b[34m[1/8]\u001b[39m Initializing and validating options..."}
{"timestamp":"2025-08-19T16:07:18.171Z","level":"debug","message":"Starting step 1: Initialize"}
{"timestamp":"2025-08-19T16:07:18.172Z","level":"info","message":"Loading configuration..."}
{"timestamp":"2025-08-19T16:07:18.173Z","level":"debug","message":"Found .adorevrc.yaml in project root, loading configuration"}
{"timestamp":"2025-08-19T16:07:18.173Z","level":"debug","message":"Project root configuration loaded successfully"}
{"timestamp":"2025-08-19T16:07:18.173Z","level":"info","message":"Using configuration from: project-root"}
{"timestamp":"2025-08-19T16:07:18.173Z","level":"debug","message":"Log level overridden by ADO_REVIEW_LOG_LEVEL: debug"}
{"timestamp":"2025-08-19T16:07:18.173Z","level":"debug","message":"Configuration loaded and merged successfully"}
{"timestamp":"2025-08-19T16:07:18.173Z","level":"debug","message":"Gemini timeout: 120000ms"}
{"timestamp":"2025-08-19T16:07:18.173Z","level":"debug","message":"Current log level: debug"}
{"timestamp":"2025-08-19T16:07:18.174Z","level":"debug","message":"Initializing GeminiAdapter with timeout: 120000ms"}
{"timestamp":"2025-08-19T16:07:18.174Z","level":"debug","message":"GeminiAdapter initialized with default timeout: 120000ms"}
{"timestamp":"2025-08-19T16:07:18.174Z","level":"debug","message":"All components initialized successfully"}
{"timestamp":"2025-08-19T16:07:18.175Z","level":"debug","message":"Completed step 1: Initialize"}
{"timestamp":"2025-08-19T16:07:18.175Z","level":"info","message":"\u001b[34m[2/8]\u001b[39m Setting up temporary workspace..."}
{"timestamp":"2025-08-19T16:07:18.175Z","level":"debug","message":"Starting step 2: Setup workspace"}
{"timestamp":"2025-08-19T16:07:18.186Z","level":"info","message":"Workspace created: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755619638175-fr74sx"}
{"timestamp":"2025-08-19T16:07:18.187Z","level":"debug","message":"Workspace config path: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755619638175-fr74sx/.adorevrc.yaml"}
{"timestamp":"2025-08-19T16:07:18.187Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T16:07:18.187Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T16:07:18.187Z","level":"debug","message":"Completed step 2: Setup workspace"}
{"timestamp":"2025-08-19T16:07:18.187Z","level":"info","message":"\u001b[34m[3/8]\u001b[39m Fetching PR information and changes..."}
{"timestamp":"2025-08-19T16:07:18.187Z","level":"debug","message":"Starting step 3: Fetch PR info and diffs"}
{"timestamp":"2025-08-19T16:07:18.187Z","level":"debug","message":"Fetching PR 18765 info"}
{"timestamp":"2025-08-19T16:07:18.188Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18765"}
{"timestamp":"2025-08-19T16:07:18.661Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18765"}
{"timestamp":"2025-08-19T16:07:18.661Z","level":"debug","message":"Successfully fetched PR 18765 info"}
{"timestamp":"2025-08-19T16:07:18.661Z","level":"debug","message":"Response status: 200"}
{"timestamp":"2025-08-19T16:07:18.662Z","level":"debug","message":"Response data keys:"}
{"timestamp":"2025-08-19T16:07:18.662Z","level":"debug","message":"PR Info structure:"}
{"timestamp":"2025-08-19T16:07:18.662Z","level":"debug","message":"Completed fetchPRInfo"}
{"timestamp":"2025-08-19T16:07:18.662Z","level":"debug","message":"fetchDiffs - prInfo structure:"}
{"timestamp":"2025-08-19T16:07:18.662Z","level":"info","message":"Cloning repository: https://inploid@dev.azure.com/inploid/AuditReactProject/_git/AuditReactProject.RN0.71.X"}
{"timestamp":"2025-08-19T16:07:18.662Z","level":"debug","message":"Clone options: {\"branch\":\"refs/heads/feature/TDM-14372\",\"workingDirectory\":\"/var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755619638175-fr74sx/source\"}"}
{"timestamp":"2025-08-19T16:07:18.662Z","level":"debug","message":"Executing: git init "}
{"timestamp":"2025-08-19T16:07:18.687Z","level":"debug","message":"Executing: git remote add origin https://inploid@dev.azure.com/inploid/AuditReactProject/_git/AuditReactProject.RN0.71.X"}
{"timestamp":"2025-08-19T16:07:18.698Z","level":"debug","message":"Executing: git fetch origin refs/heads/feature/TDM-14372"}
{"timestamp":"2025-08-19T16:07:50.055Z","level":"debug","message":"Executing: git checkout -b local-branch origin/feature/TDM-14372"}
{"timestamp":"2025-08-19T16:07:50.638Z","level":"debug","message":"Executing: git rev-parse HEAD"}
{"timestamp":"2025-08-19T16:07:50.652Z","level":"info","message":"Successfully cloned repository to /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755619638175-fr74sx/source"}
{"timestamp":"2025-08-19T16:07:50.652Z","level":"debug","message":"Commit ID: 677c15def5361481ebf009d6b17681ced7fa2045"}
{"timestamp":"2025-08-19T16:07:50.652Z","level":"debug","message":"Reinitializing ConfigLoader with cloned workspace directory:"}
{"timestamp":"2025-08-19T16:07:50.653Z","level":"debug","message":"Workspace config path: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755619638175-fr74sx/source/.adorevrc.yaml"}
{"timestamp":"2025-08-19T16:07:50.653Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T16:07:50.653Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T16:07:50.655Z","level":"debug","message":"Found .adorevrc.yaml in project root, loading configuration"}
{"timestamp":"2025-08-19T16:07:50.655Z","level":"debug","message":"Project root configuration loaded successfully"}
{"timestamp":"2025-08-19T16:07:50.655Z","level":"info","message":"Using configuration from: project-root"}
{"timestamp":"2025-08-19T16:07:50.656Z","level":"debug","message":"Log level overridden by ADO_REVIEW_LOG_LEVEL: debug"}
{"timestamp":"2025-08-19T16:07:50.656Z","level":"debug","message":"Configuration loaded and merged successfully"}
{"timestamp":"2025-08-19T16:07:50.656Z","level":"debug","message":"Gemini timeout: 120000ms"}
{"timestamp":"2025-08-19T16:07:50.656Z","level":"debug","message":"Current log level: debug"}
{"timestamp":"2025-08-19T16:07:50.656Z","level":"debug","message":"Reloaded configuration from workspace:"}
{"timestamp":"2025-08-19T16:07:50.657Z","level":"info","message":"Fetching iteration changes for PR 18765"}
{"timestamp":"2025-08-19T16:07:50.658Z","level":"debug","message":"Fetching PR 18765 iterations"}
{"timestamp":"2025-08-19T16:07:50.659Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18765/iterations"}
{"timestamp":"2025-08-19T16:07:50.853Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18765/iterations"}
{"timestamp":"2025-08-19T16:07:50.853Z","level":"debug","message":"Successfully fetched 1 iterations"}
{"timestamp":"2025-08-19T16:07:50.853Z","level":"debug","message":"Fetching changes for iteration 1"}
{"timestamp":"2025-08-19T16:07:50.853Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18765/iterations/1/changes"}
{"timestamp":"2025-08-19T16:07:51.034Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18765/iterations/1/changes"}
{"timestamp":"2025-08-19T16:07:51.034Z","level":"debug","message":"Successfully fetched 11 changes"}
{"timestamp":"2025-08-19T16:07:51.034Z","level":"debug","message":"Processing iteration changes with 11 file changes"}
{"timestamp":"2025-08-19T16:07:51.034Z","level":"debug","message":"Processing iteration change for file: /__mocks__/@react-native-community/geolocation.js"}
{"timestamp":"2025-08-19T16:07:51.034Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 677c15def5361481ebf009d6b17681ced7fa2045"}
{"timestamp":"2025-08-19T16:07:51.034Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 677c15def5361481ebf009d6b17681ced7fa2045 -- __mocks__/@react-native-community/geolocation.js"}
{"timestamp":"2025-08-19T16:07:51.051Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:07:51.052Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/location-helper.test.ts"}
{"timestamp":"2025-08-19T16:07:51.052Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 677c15def5361481ebf009d6b17681ced7fa2045"}
{"timestamp":"2025-08-19T16:07:51.052Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 677c15def5361481ebf009d6b17681ced7fa2045 -- __tests__/app/lib/location-helper.test.ts"}
{"timestamp":"2025-08-19T16:07:51.070Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:07:51.071Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/regex-validate-operation.test.ts"}
{"timestamp":"2025-08-19T16:07:51.071Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 677c15def5361481ebf009d6b17681ced7fa2045"}
{"timestamp":"2025-08-19T16:07:51.072Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 677c15def5361481ebf009d6b17681ced7fa2045 -- __tests__/app/lib/regex-validate-operation.test.ts"}
{"timestamp":"2025-08-19T16:07:51.088Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:07:51.089Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/print-provider.test.ts"}
{"timestamp":"2025-08-19T16:07:51.089Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 677c15def5361481ebf009d6b17681ced7fa2045"}
{"timestamp":"2025-08-19T16:07:51.089Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 677c15def5361481ebf009d6b17681ced7fa2045 -- __tests__/app/lib/print-provider.test.ts"}
{"timestamp":"2025-08-19T16:07:51.104Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:07:51.104Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/orientation.test.ts"}
{"timestamp":"2025-08-19T16:07:51.104Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 677c15def5361481ebf009d6b17681ced7fa2045"}
{"timestamp":"2025-08-19T16:07:51.104Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 677c15def5361481ebf009d6b17681ced7fa2045 -- __tests__/app/lib/orientation.test.ts"}
{"timestamp":"2025-08-19T16:07:51.118Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:07:51.118Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/request-service-helper.test.ts"}
{"timestamp":"2025-08-19T16:07:51.118Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 677c15def5361481ebf009d6b17681ced7fa2045"}
{"timestamp":"2025-08-19T16:07:51.118Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 677c15def5361481ebf009d6b17681ced7fa2045 -- __tests__/app/lib/request-service-helper.test.ts"}
{"timestamp":"2025-08-19T16:07:51.132Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:07:51.132Z","level":"debug","message":"Processing iteration change for file: /app/lib/regex-validate-operation.ts"}
{"timestamp":"2025-08-19T16:07:51.132Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 677c15def5361481ebf009d6b17681ced7fa2045"}
{"timestamp":"2025-08-19T16:07:51.132Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 677c15def5361481ebf009d6b17681ced7fa2045 -- app/lib/regex-validate-operation.ts"}
{"timestamp":"2025-08-19T16:07:51.153Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:07:51.153Z","level":"debug","message":"Processing iteration change for file: /app/lib/orientation.ts"}
{"timestamp":"2025-08-19T16:07:51.154Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 677c15def5361481ebf009d6b17681ced7fa2045"}
{"timestamp":"2025-08-19T16:07:51.154Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 677c15def5361481ebf009d6b17681ced7fa2045 -- app/lib/orientation.ts"}
{"timestamp":"2025-08-19T16:07:51.170Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:07:51.170Z","level":"debug","message":"Processing iteration change for file: /app/lib/location-helper.ts"}
{"timestamp":"2025-08-19T16:07:51.170Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 677c15def5361481ebf009d6b17681ced7fa2045"}
{"timestamp":"2025-08-19T16:07:51.170Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 677c15def5361481ebf009d6b17681ced7fa2045 -- app/lib/location-helper.ts"}
{"timestamp":"2025-08-19T16:07:51.183Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:07:51.183Z","level":"debug","message":"Processing iteration change for file: /app/lib/request-service-helper.ts"}
{"timestamp":"2025-08-19T16:07:51.183Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 677c15def5361481ebf009d6b17681ced7fa2045"}
{"timestamp":"2025-08-19T16:07:51.183Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 677c15def5361481ebf009d6b17681ced7fa2045 -- app/lib/request-service-helper.ts"}
{"timestamp":"2025-08-19T16:07:51.196Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:07:51.196Z","level":"debug","message":"Processing iteration change for file: /app/lib/print-provider.ts"}
{"timestamp":"2025-08-19T16:07:51.196Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 677c15def5361481ebf009d6b17681ced7fa2045"}
{"timestamp":"2025-08-19T16:07:51.196Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 677c15def5361481ebf009d6b17681ced7fa2045 -- app/lib/print-provider.ts"}
{"timestamp":"2025-08-19T16:07:51.215Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:07:51.215Z","level":"info","message":"Successfully fetched diff: 11 files, +1256/-65 lines"}
{"timestamp":"2025-08-19T16:07:51.216Z","level":"debug","message":"Diff data saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755619638175-fr74sx/logs/diffs/diff-pr-pr-18765-2025-08-19T16-07-51-216Z.txt"}
{"timestamp":"2025-08-19T16:07:51.216Z","level":"debug","message":"Completed step 3: Fetch PR info and diffs"}
{"timestamp":"2025-08-19T16:07:51.216Z","level":"info","message":"\u001b[34m[4/8]\u001b[39m Loading rules and building review context..."}
{"timestamp":"2025-08-19T16:07:51.217Z","level":"debug","message":"Starting step 4: Load rules and build context"}
{"timestamp":"2025-08-19T16:07:51.217Z","level":"info","message":"Loading review rules and guidelines"}
{"timestamp":"2025-08-19T16:07:51.217Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T16:07:51.217Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T16:07:51.224Z","level":"warn","message":"No rules found in /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T16:07:51.225Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T16:07:51.226Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T16:07:51.239Z","level":"debug","message":"Loaded 28 rules from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T16:07:51.239Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T16:07:51.240Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T16:07:51.243Z","level":"debug","message":"Loaded guideline \"Azure DevOps Review Rules\" from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T16:07:51.243Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T16:07:51.247Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T16:07:51.248Z","level":"debug","message":"Loaded guideline \"React Native Field App - Architecture Guide\" from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T16:07:51.248Z","level":"info","message":"Loaded 1 rule sets, 28 total rules (28 enabled), 2 guidelines"}
{"timestamp":"2025-08-19T16:07:51.249Z","level":"debug","message":"Completed loadRules"}
{"timestamp":"2025-08-19T16:07:51.250Z","level":"info","message":"Building review context"}
{"timestamp":"2025-08-19T16:07:51.255Z","level":"info","message":"Context built: 11 files, 25 hunks, 28 rules, 2 guidelines"}
{"timestamp":"2025-08-19T16:07:51.255Z","level":"debug","message":"Completed step 4: Load rules and build context"}
{"timestamp":"2025-08-19T16:07:51.256Z","level":"info","message":"\u001b[34m[5/8]\u001b[39m Planning and executing AI review..."}
{"timestamp":"2025-08-19T16:07:51.256Z","level":"debug","message":"Starting step 5: Plan and execute review"}
{"timestamp":"2025-08-19T16:07:51.257Z","level":"info","message":"Creating review plan"}
{"timestamp":"2025-08-19T16:07:51.257Z","level":"debug","message":"Completed planReview"}
{"timestamp":"2025-08-19T16:07:51.258Z","level":"debug","message":"Executing Gemini review with plan"}
{"timestamp":"2025-08-19T16:07:51.258Z","level":"info","message":"Executing single batch review"}
{"timestamp":"2025-08-19T16:07:51.258Z","level":"info","message":"Starting Gemini review with model: gemini-2.5-flash"}
{"timestamp":"2025-08-19T16:07:51.260Z","level":"debug","message":"Prompt data saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755619638175-fr74sx/logs/prompts/prompt-pr-review-2025-08-19T16-07-51-259Z.txt"}
{"timestamp":"2025-08-19T16:07:51.262Z","level":"debug","message":"Spawning Gemini CLI with stdin approach"}
{"timestamp":"2025-08-19T16:07:52.551Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T16:07:52.626Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T16:07:52.654Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T16:08:41.027Z","level":"debug","message":"Gemini CLI stdout: ```json\n{\n  \"findings\": [\n    {\n      \"file\": \"/__tests__/app/lib/location-helper.test.ts\",\n      \"line\": 32,\n      \"endLine\": 32,\n      \"severity\": \"error\",\n      \"message\":"}
{"timestamp":"2025-08-19T16:08:41.071Z","level":"debug","message":"Gemini CLI stdout: \"Test dosyasında 'any' türünün kullanımı, projenin katı tür güvenliği kurallarına aykırıdır. Testler de dahil olmak üzere tüm kod tabanında tür güvenliğinin sağlanması, hataları erken aşamada yakalamak ve kodun sürdürülebilirliğini artırmak"}
{"timestamp":"2025-08-19T16:08:41.165Z","level":"debug","message":"Gemini CLI stdout: için kritik öneme sahiptir.\",\n      \"suggestion\": \"Lütfen 'any' yerine uygun ve spesifik türler tanımlayın. Örneğin, `arr: any[]` yerine `arr: Record<string, unknown>[]` veya daha spesifik bir arayüz/tür kullanın. Mock nesneleri"}
{"timestamp":"2025-08-19T16:08:41.215Z","level":"debug","message":"Gemini CLI stdout: ve fonksiyonları için `jest.Mocked<T>` gibi yardımcıları veya daha kesin türleri kullanmayı düşünün. Bu, testlerinizin daha güvenilir ve okunabilir olmasını sağlar.\",\n      \"ruleId\": \"no-any-type\",\n      \"category\": \"typescript\"\n    },\n    {"}
{"timestamp":"2025-08-19T16:08:41.288Z","level":"debug","message":"Gemini CLI stdout: \"file\": \"/__tests__/app/lib/request-service-helper.test.ts\",\n      \"line\": 2,\n      \"endLine\": 215,\n      \"severity\": \"error\",\n      \"message\": \"🐞 Bu test dosyası, test edilmesi"}
{"timestamp":"2025-08-19T16:08:41.356Z","level":"debug","message":"Gemini CLI stdout: gereken fonksiyonları (`checkDynamicFieldRequiredAnswers`, `checkIfAssembleProductHasNoSerialNumber` vb.) `jest.fn()` ile mock'layarak kendi mock'larını test etmektedir. Bu durum, `request-service-helper.ts` içerisindeki gerçek iş mantığının hiçbir zaman test edilmemesine"}
{"timestamp":"2025-08-19T16:08:41.443Z","level":"debug","message":"Gemini CLI stdout: neden olur ve bu test dosyasını tamamen işlevsiz kılar.\",\n      \"suggestion\": \"Lütfen `jest.fn()` ile sahte implementasyonlar oluşturmak yerine, `request-service-helper.ts` dosyasından gerçek fonksiyonları import edin ve bu fonksiyonların davranışlarını çeşitli girdiler"}
{"timestamp":"2025-08-19T16:08:41.555Z","level":"debug","message":"Gemini CLI stdout: le doğrulayan test senaryoları yazın. Örneğin: `import { checkDynamicFieldRequiredAnswers } from '../../../app/lib/request-service-helper';` şeklinde import edip, `checkDynamicFieldRequiredAnswers` fonksiyonunu gerçek verilerle çağırmalısınız.\",\n      \"ruleId\": \""}
{"timestamp":"2025-08-19T16:08:41.570Z","level":"debug","message":"Gemini CLI stdout: unit-test-coverage\",\n      \"category\": \"testing\"\n    },\n    {\n      \"file\": \"/app/lib/location-helper.ts\",\n      \"line\": 272,\n      \"endLine\": 284,\n      \"severity\": \"warning"}
{"timestamp":"2025-08-19T16:08:41.628Z","level":"debug","message":"Gemini CLI stdout: \",\n      \"message\": \"💡 Fonksiyonun üzerindeki JSDoc açıklaması, `addDistanceToEachDestination` fonksiyonunun işleviyle eşleşmiyor. Açıklama, enlem/boylam listelerinden ortalama konum ve delta hesaplayan bir fonksiyonu tarif ederken, altındaki fonksiyon mevcut"}
{"timestamp":"2025-08-19T16:08:42.180Z","level":"debug","message":"Gemini CLI stdout: konuma göre hedeflere mesafe eklemektedir. Bu durum kodun yanlış anlaşılmasına yol açabilir.\",\n      \"suggestion\": \"Lütfen JSDoc açıklamasını, belgelediği `addDistanceToEachDestination` fonksiyonunun gerçek işlevini doğru bir şekilde yansıtacak şekilde güncelleyin veya bu"}
{"timestamp":"2025-08-19T16:08:42.789Z","level":"debug","message":"Gemini CLI stdout: yorumu ilgili olduğu doğru fonksiyonun üzerine taşıyın.\",\n      \"ruleId\": \"component-structure\",\n      \"category\": \"code-quality\"\n    },\n    {\n      \"file\": \"/app/lib/regex-validate-operation.ts\",\n      \"line\": 1,"}
{"timestamp":"2025-08-19T16:08:43.679Z","level":"debug","message":"Gemini CLI stdout: \"endLine\": 36,\n      \"severity\": \"info\",\n      \"message\": \"💡 Fonksiyonlar için eklenen JSDoc açıklamaları kodun okunabilirliğini ve anlaşılırlığını artırıyor. Bu, iyi bir pratiktir.\",\n      \"suggestion\": \"T"}
{"timestamp":"2025-08-19T16:08:44.345Z","level":"debug","message":"Gemini CLI stdout: üm yeni ve mevcut fonksiyonlar için benzer şekilde dokümantasyon eklemeye devam edin. Özellikle karmaşık iş mantığı içeren fonksiyonlar için bu çok daha önemlidir.\",\n      \"ruleId\": \"proper-exports\",\n      \"category\": \"code-quality\"\n    },\n    {\n      \"file\":"}
{"timestamp":"2025-08-19T16:08:44.944Z","level":"debug","message":"Gemini CLI stdout: \"/app/lib/orientation.ts\",\n      \"line\": 4,\n      \"endLine\": 67,\n      \"severity\": \"info\",\n      \"message\": \"💡 Hook'lar için eklenen JSDoc açıklamaları, component'lerin nasıl kullanılacağını anlamayı kolaylaştırır"}
{"timestamp":"2025-08-19T16:08:45.624Z","level":"debug","message":"Gemini CLI stdout: ve projenin genel kalitesini yükseltir.\",\n      \"suggestion\": \"Tüm custom hook'lar için dönüş değerleri ve parametreleri detaylı bir şekilde açıklayan JSDoc standartını koruyun.\",\n      \"ruleId\": \"proper-exports\",\n      \"category\": \"code"}
{"timestamp":"2025-08-19T16:08:46.079Z","level":"debug","message":"Gemini CLI stdout: -quality\"\n    },\n    {\n      \"file\": \"/app/lib/request-service-helper.ts\",\n      \"line\": 3,\n      \"endLine\": 210,\n      \"severity\": \"info\",\n      \"message\": \"💡 Fonksiyonlara"}
{"timestamp":"2025-08-19T16:08:46.785Z","level":"debug","message":"Gemini CLI stdout: eklenen JSDoc açıklamaları, özellikle karmaşık iş kurallarını içeren yardımcı fonksiyonların ne işe yaradığını anlamak için çok faydalıdır.\",\n      \"suggestion\": \"Kod içerisinde `// TODO: ... ÇAĞLAR BURAYA BAK !!!` gibi geçici yorumlar bırakmak yerine, bu"}
{"timestamp":"2025-08-19T16:08:47.460Z","level":"debug","message":"Gemini CLI stdout: tür notları görev takip sisteminizde (örn. Azure DevOps) ilgili iş öğesine yorum olarak eklemeyi veya ayrı bir görev olarak oluşturmayı düşünün. Bu, kodun daha temiz kalmasını sağlar.\",\n      \"ruleId\": \"proper-exports\",\n      \"category\": \"code-quality\""}
{"timestamp":"2025-08-19T16:08:48.016Z","level":"debug","message":"Gemini CLI stdout: }\n  ],\n  \"summary\": \"Değerlendirme sonucunda iyileştirilmesi gereken birkaç alan tespit edilmiştir. Özellikle bir test dosyasında (`request-service-helper.test.ts`) gerçek implementasyon yerine mock'ların test edildiği kritik bir sorun bulundu, bu da testi etk"}
{"timestamp":"2025-08-19T16:08:48.593Z","level":"debug","message":"Gemini CLI stdout: isiz kılıyor. Ayrıca, başka bir test dosyasında projenin katı tür kurallarına aykırı olan `any` türünün yaygın kullanımı dikkat çekiyor. Son olarak, JSDoc yorumuyla fonksiyonun uyuşmadığı küçük bir dokümantasyon sorunu belirtilmiştir. Kod"}
{"timestamp":"2025-08-19T16:08:48.793Z","level":"debug","message":"Gemini CLI stdout: kalitesini ve test güvenilirliğini artırmak için lütfen bu noktaları düzeltin.\"\n}\n```"}
{"timestamp":"2025-08-19T16:08:48.800Z","level":"debug","message":"Gemini CLI stdout: "}
{"timestamp":"2025-08-19T16:08:48.812Z","level":"debug","message":"Gemini CLI exited with code: 0"}
{"timestamp":"2025-08-19T16:08:48.812Z","level":"debug","message":"Gemini CLI final stdout: [dotenv@16.6.0] injecting env (9) from .env\n[dotenv@16.6.0] injecting env (9) from .env\n[dotenv@16.6.0] injecting env (9) from .env\n```json\n{\n  \"findings\": [\n    {\n      \"file\": \"/__tests__/app/lib/location-helper.test.ts\",\n      \"line\": 32,\n      \"endLine\": 32,\n      \"severity\": \"error\",\n      \"message\": \"Test dosyasında 'any' türünün kullanımı, projenin katı tür güvenliği kurallarına aykırıdır. Testler de dahil olmak üzere tüm kod tabanında tür güvenliğinin sağlanması, hataları erken aşamada yakalamak ve kodun sürdürülebilirliğini artırmak için kritik öneme sahiptir.\",\n      \"suggestion\": \"Lütfen 'any' yerine uygun ve spesifik türler tanımlayın. Örneğin, `arr: any[]` yerine `arr: Record<string, unknown>[]` veya daha spesifik bir arayüz/tür kullanın. Mock nesneleri ve fonksiyonları için `jest.Mocked<T>` gibi yardımcıları veya daha kesin türleri kullanmayı düşünün. Bu, testlerinizin daha güvenilir ve okunabilir olmasını sağlar.\",\n      \"ruleId\": \"no-any-type\",\n      \"category\": \"typescript\"\n    },\n    {\n      \"file\": \"/__tests__/app/lib/request-service-helper.test.ts\",\n      \"line\": 2,\n      \"endLine\": 215,\n      \"severity\": \"error\",\n      \"message\": \"🐞 Bu test dosyası, test edilmesi gereken fonksiyonları (`checkDynamicFieldRequiredAnswers`, `checkIfAssembleProductHasNoSerialNumber` vb.) `jest.fn()` ile mock'layarak kendi mock'larını test etmektedir. Bu durum, `request-service-helper.ts` içerisindeki gerçek iş mantığının hiçbir zaman test edilmemesine neden olur ve bu test dosyasını tamamen işlevsiz kılar.\",\n      \"suggestion\": \"Lütfen `jest.fn()` ile sahte implementasyonlar oluşturmak yerine, `request-service-helper.ts` dosyasından gerçek fonksiyonları import edin ve bu fonksiyonların davranışlarını çeşitli girdilerle doğrulayan test senaryoları yazın. Örneğin: `import { checkDynamicFieldRequiredAnswers } from '../../../app/lib/request-service-helper';` şeklinde import edip, `checkDynamicFieldRequiredAnswers` fonksiyonunu gerçek verilerle çağırmalısınız.\",\n      \"ruleId\": \"unit-test-coverage\",\n      \"category\": \"testing\"\n    },\n    {\n      \"file\": \"/app/lib/location-helper.ts\",\n      \"line\": 272,\n      \"endLine\": 284,\n      \"severity\": \"warning\",\n      \"message\": \"💡 Fonksiyonun üzerindeki JSDoc açıklaması, `addDistanceToEachDestination` fonksiyonunun işleviyle eşleşmiyor. Açıklama, enlem/boylam listelerinden ortalama konum ve delta hesaplayan bir fonksiyonu tarif ederken, altındaki fonksiyon mevcut konuma göre hedeflere mesafe eklemektedir. Bu durum kodun yanlış anlaşılmasına yol açabilir.\",\n      \"suggestion\": \"Lütfen JSDoc açıklamasını, belgelediği `addDistanceToEachDestination` fonksiyonunun gerçek işlevini doğru bir şekilde yansıtacak şekilde güncelleyin veya bu yorumu ilgili olduğu doğru fonksiyonun üzerine taşıyın.\",\n      \"ruleId\": \"component-structure\",\n      \"category\": \"code-quality\"\n    },\n    {\n      \"file\": \"/app/lib/regex-validate-operation.ts\",\n      \"line\": 1,\n      \"endLine\": 36,\n      \"severity\": \"info\",\n      \"message\": \"💡 Fonksiyonlar için eklenen JSDoc açıklamaları kodun okunabilirliğini ve anlaşılırlığını artırıyor. Bu, iyi bir pratiktir.\",\n      \"suggestion\": \"Tüm yeni ve mevcut fonksiyonlar için benzer şekilde dokümantasyon eklemeye devam edin. Özellikle karmaşık iş mantığı içeren fonksiyonlar için bu çok daha önemlidir.\",\n      \"ruleId\": \"proper-exports\",\n      \"category\": \"code-quality\"\n    },\n    {\n      \"file\": \"/app/lib/orientation.ts\",\n      \"line\": 4,\n      \"endLine\": 67,\n      \"severity\": \"info\",\n      \"message\": \"💡 Hook'lar için eklenen JSDoc açıklamaları, component'lerin nasıl kullanılacağını anlamayı kolaylaştırır ve projenin genel kalitesini yükseltir.\",\n      \"suggestion\": \"Tüm custom hook'lar için dönüş değerleri ve parametreleri detaylı bir şekilde açıklayan JSDoc standartını koruyun.\",\n      \"ruleId\": \"proper-exports\",\n      \"category\": \"code-quality\"\n    },\n    {\n      \"file\": \"/app/lib/request-service-helper.ts\",\n      \"line\": 3,\n      \"endLine\": 210,\n      \"severity\": \"info\",\n      \"message\": \"💡 Fonksiyonlara eklenen JSDoc açıklamaları, özellikle karmaşık iş kurallarını içeren yardımcı fonksiyonların ne işe yaradığını anlamak için çok faydalıdır.\",\n      \"suggestion\": \"Kod içerisinde `// TODO: ... ÇAĞLAR BURAYA BAK !!!` gibi geçici yorumlar bırakmak yerine, bu tür notları görev takip sisteminizde (örn. Azure DevOps) ilgili iş öğesine yorum olarak eklemeyi veya ayrı bir görev olarak oluşturmayı düşünün. Bu, kodun daha temiz kalmasını sağlar.\",\n      \"ruleId\": \"proper-exports\",\n      \"category\": \"code-quality\"\n    }\n  ],\n  \"summary\": \"Değerlendirme sonucunda iyileştirilmesi gereken birkaç alan tespit edilmiştir. Özellikle bir test dosyasında (`request-service-helper.test.ts`) gerçek implementasyon yerine mock'ların test edildiği kritik bir sorun bulundu, bu da testi etkisiz kılıyor. Ayrıca, başka bir test dosyasında projenin katı tür kurallarına aykırı olan `any` türünün yaygın kullanımı dikkat çekiyor. Son olarak, JSDoc yorumuyla fonksiyonun uyuşmadığı küçük bir dokümantasyon sorunu belirtilmiştir. Kod kalitesini ve test güvenilirliğini artırmak için lütfen bu noktaları düzeltin.\"\n}\n```"}
{"timestamp":"2025-08-19T16:08:48.812Z","level":"debug","message":"Gemini CLI final stderr: "}
{"timestamp":"2025-08-19T16:08:48.813Z","level":"debug","message":"Gemini response saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755619638175-fr74sx/logs/responses/gemini-response-pr-req-1755619671258-w10x2p0jr-2025-08-19T16-08-48-812Z.json"}
{"timestamp":"2025-08-19T16:08:48.814Z","level":"info","message":"Review completed: 6 findings"}
{"timestamp":"2025-08-19T16:08:48.814Z","level":"debug","message":"Completed step 5: Plan and execute review"}
{"timestamp":"2025-08-19T16:08:48.814Z","level":"info","message":"\u001b[34m[6/8]\u001b[39m Processing and filtering findings..."}
{"timestamp":"2025-08-19T16:08:48.814Z","level":"debug","message":"Starting step 6: Process findings"}
{"timestamp":"2025-08-19T16:08:48.814Z","level":"info","message":"Found 6 total findings, 6 above threshold"}
{"timestamp":"2025-08-19T16:08:48.814Z","level":"debug","message":"Completed step 6: Process findings"}
{"timestamp":"2025-08-19T16:08:48.814Z","level":"info","message":"\u001b[34m[7/8]\u001b[39m Getting approval and posting comments..."}
{"timestamp":"2025-08-19T16:08:48.814Z","level":"debug","message":"Starting step 7: Get approval and post comments"}
{"timestamp":"2025-08-19T16:08:48.815Z","level":"info","message":"File                                              | Line | Severity | Message                                                                                                                                                                                                                                                                                                                                                                    | Rule               "}
{"timestamp":"2025-08-19T16:08:48.815Z","level":"info","message":"--------------------------------------------------+------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------"}
{"timestamp":"2025-08-19T16:08:48.815Z","level":"info","message":"/__tests__/app/lib/location-helper.test.ts        | 32   | ERROR    | Test dosyasında 'any' türünün kullanımı, projenin katı tür güvenliği kurallarına aykırıdır. Testler de dahil olmak üzere tüm kod tabanında tür güvenliğinin sağlanması, hataları erken aşamada yakalamak ve kodun sürdürülebilirliğini artırmak için kritik öneme sahiptir.                                                                                                | no-any-type        "}
{"timestamp":"2025-08-19T16:08:48.815Z","level":"info","message":"/__tests__/app/lib/request-service-helper.test.ts | 2    | ERROR    | 🐞 Bu test dosyası, test edilmesi gereken fonksiyonları (`checkDynamicFieldRequiredAnswers`, `checkIfAssembleProductHasNoSerialNumber` vb.) `jest.fn()` ile mock'layarak kendi mock'larını test etmektedir. Bu durum, `request-service-helper.ts` içerisindeki gerçek iş mantığının hiçbir zaman test edilmemesine neden olur ve bu test dosyasını tamamen işlevsiz kılar. | unit-test-coverage "}
{"timestamp":"2025-08-19T16:08:48.815Z","level":"info","message":"/app/lib/location-helper.ts                       | 272  | WARNING  | 💡 Fonksiyonun üzerindeki JSDoc açıklaması, `addDistanceToEachDestination` fonksiyonunun işleviyle eşleşmiyor. Açıklama, enlem/boylam listelerinden ortalama konum ve delta hesaplayan bir fonksiyonu tarif ederken, altındaki fonksiyon mevcut konuma göre hedeflere mesafe eklemektedir. Bu durum kodun yanlış anlaşılmasına yol açabilir.                               | component-structure"}
{"timestamp":"2025-08-19T16:08:48.815Z","level":"info","message":"/app/lib/regex-validate-operation.ts              | 1    | INFO     | 💡 Fonksiyonlar için eklenen JSDoc açıklamaları kodun okunabilirliğini ve anlaşılırlığını artırıyor. Bu, iyi bir pratiktir.                                                                                                                                                                                                                                                | proper-exports     "}
{"timestamp":"2025-08-19T16:08:48.815Z","level":"info","message":"/app/lib/orientation.ts                           | 4    | INFO     | 💡 Hook'lar için eklenen JSDoc açıklamaları, component'lerin nasıl kullanılacağını anlamayı kolaylaştırır ve projenin genel kalitesini yükseltir.                                                                                                                                                                                                                          | proper-exports     "}
{"timestamp":"2025-08-19T16:08:48.815Z","level":"info","message":"/app/lib/request-service-helper.ts                | 3    | INFO     | 💡 Fonksiyonlara eklenen JSDoc açıklamaları, özellikle karmaşık iş kurallarını içeren yardımcı fonksiyonların ne işe yaradığını anlamak için çok faydalıdır.                                                                                                                                                                                                               | proper-exports     "}
{"timestamp":"2025-08-19T16:11:09.124Z","level":"debug","message":"Completed getApproval"}
{"timestamp":"2025-08-19T16:11:09.125Z","level":"info","message":"Mapping 6 findings to ADO comment threads"}
{"timestamp":"2025-08-19T16:11:09.140Z","level":"info","message":"Mapping completed: 6 threads, 6 comments"}
{"timestamp":"2025-08-19T16:11:09.140Z","level":"info","message":"Posting 6 comment threads to PR 18765"}
{"timestamp":"2025-08-19T16:11:09.140Z","level":"debug","message":"Fetching comment threads for PR 18765"}
{"timestamp":"2025-08-19T16:11:09.141Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18765/threads"}
{"timestamp":"2025-08-19T16:11:09.712Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18765/threads"}
{"timestamp":"2025-08-19T16:11:09.712Z","level":"debug","message":"Successfully fetched 0 comment threads"}
{"timestamp":"2025-08-19T16:11:09.712Z","level":"debug","message":"Found 0 existing comment threads"}
{"timestamp":"2025-08-19T16:11:09.712Z","level":"debug","message":"Processing batch 1/2 (5 threads)"}
{"timestamp":"2025-08-19T16:11:09.713Z","level":"debug","message":"Creating new thread at /__tests__/app/lib/location-helper.test.ts:32"}
{"timestamp":"2025-08-19T16:11:09.713Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T16:11:09.714Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18765/threads"}
{"timestamp":"2025-08-19T16:11:09.981Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18765/threads"}
{"timestamp":"2025-08-19T16:11:09.981Z","level":"debug","message":"Successfully created comment thread 61421"}
{"timestamp":"2025-08-19T16:11:09.981Z","level":"debug","message":"Creating new thread at /__tests__/app/lib/request-service-helper.test.ts:2"}
{"timestamp":"2025-08-19T16:11:09.982Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T16:11:09.982Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18765/threads"}
{"timestamp":"2025-08-19T16:11:10.212Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18765/threads"}
{"timestamp":"2025-08-19T16:11:10.212Z","level":"debug","message":"Successfully created comment thread 61422"}
{"timestamp":"2025-08-19T16:11:10.212Z","level":"debug","message":"Creating new thread at /app/lib/location-helper.ts:272"}
{"timestamp":"2025-08-19T16:11:10.212Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T16:11:10.212Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18765/threads"}
{"timestamp":"2025-08-19T16:11:10.425Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18765/threads"}
{"timestamp":"2025-08-19T16:11:10.425Z","level":"debug","message":"Successfully created comment thread 61423"}
{"timestamp":"2025-08-19T16:11:10.425Z","level":"debug","message":"Creating new thread at /app/lib/orientation.ts:4"}
{"timestamp":"2025-08-19T16:11:10.425Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T16:11:10.425Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18765/threads"}
{"timestamp":"2025-08-19T16:11:10.643Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18765/threads"}
{"timestamp":"2025-08-19T16:11:10.643Z","level":"debug","message":"Successfully created comment thread 61424"}
{"timestamp":"2025-08-19T16:11:10.643Z","level":"debug","message":"Creating new thread at /app/lib/regex-validate-operation.ts:1"}
{"timestamp":"2025-08-19T16:11:10.643Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T16:11:10.644Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18765/threads"}
{"timestamp":"2025-08-19T16:11:10.887Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18765/threads"}
{"timestamp":"2025-08-19T16:11:10.887Z","level":"debug","message":"Successfully created comment thread 61425"}
{"timestamp":"2025-08-19T16:11:11.888Z","level":"debug","message":"Processing batch 2/2 (1 threads)"}
{"timestamp":"2025-08-19T16:11:11.889Z","level":"debug","message":"Creating new thread at /app/lib/request-service-helper.ts:3"}
{"timestamp":"2025-08-19T16:11:11.891Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T16:11:11.891Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18765/threads"}
{"timestamp":"2025-08-19T16:11:12.104Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18765/threads"}
{"timestamp":"2025-08-19T16:11:12.104Z","level":"debug","message":"Successfully created comment thread 61426"}
{"timestamp":"2025-08-19T16:11:12.104Z","level":"info","message":"Comment posting completed: 6 threads created, 6 comments created"}
{"timestamp":"2025-08-19T16:11:12.104Z","level":"debug","message":"Completed step 7: Get approval and post comments"}
{"timestamp":"2025-08-19T16:11:12.104Z","level":"info","message":"\u001b[34m[8/8]\u001b[39m Updating PR status and cleaning up..."}
{"timestamp":"2025-08-19T16:11:12.105Z","level":"debug","message":"Starting step 8: Update PR status"}
{"timestamp":"2025-08-19T16:11:12.105Z","level":"debug","message":"Completed step 8: Update PR status"}
{"timestamp":"2025-08-19T16:11:12.105Z","level":"info","message":"\u001b[32m✅ Review completed successfully in 233935ms\u001b[39m"}
{"timestamp":"2025-08-19T16:11:12.106Z","level":"info","message":"Cleaning up workspace: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755619638175-fr74sx"}
{"timestamp":"2025-08-19T16:11:12.838Z","level":"info","message":"Workspace cleanup completed: 3973 files, 982 directories deleted"}
{"timestamp":"2025-08-19T16:12:07.724Z","level":"info","message":"\u001b[34m🚀 Starting Azure DevOps PR Review...\u001b[39m"}
{"timestamp":"2025-08-19T16:12:07.724Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T16:12:07.725Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T16:12:07.725Z","level":"info","message":"\u001b[34m[1/8]\u001b[39m Initializing and validating options..."}
{"timestamp":"2025-08-19T16:12:07.725Z","level":"debug","message":"Starting step 1: Initialize"}
{"timestamp":"2025-08-19T16:12:07.727Z","level":"info","message":"Loading configuration..."}
{"timestamp":"2025-08-19T16:12:07.728Z","level":"debug","message":"Found .adorevrc.yaml in project root, loading configuration"}
{"timestamp":"2025-08-19T16:12:07.729Z","level":"debug","message":"Project root configuration loaded successfully"}
{"timestamp":"2025-08-19T16:12:07.729Z","level":"info","message":"Using configuration from: project-root"}
{"timestamp":"2025-08-19T16:12:07.730Z","level":"debug","message":"Log level overridden by ADO_REVIEW_LOG_LEVEL: debug"}
{"timestamp":"2025-08-19T16:12:07.730Z","level":"debug","message":"Configuration loaded and merged successfully"}
{"timestamp":"2025-08-19T16:12:07.730Z","level":"debug","message":"Gemini timeout: 120000ms"}
{"timestamp":"2025-08-19T16:12:07.731Z","level":"debug","message":"Current log level: debug"}
{"timestamp":"2025-08-19T16:12:07.731Z","level":"debug","message":"Initializing GeminiAdapter with timeout: 120000ms"}
{"timestamp":"2025-08-19T16:12:07.731Z","level":"debug","message":"GeminiAdapter initialized with default timeout: 120000ms"}
{"timestamp":"2025-08-19T16:12:07.732Z","level":"debug","message":"All components initialized successfully"}
{"timestamp":"2025-08-19T16:12:07.732Z","level":"debug","message":"Completed step 1: Initialize"}
{"timestamp":"2025-08-19T16:12:07.732Z","level":"info","message":"\u001b[34m[2/8]\u001b[39m Setting up temporary workspace..."}
{"timestamp":"2025-08-19T16:12:07.732Z","level":"debug","message":"Starting step 2: Setup workspace"}
{"timestamp":"2025-08-19T16:12:07.738Z","level":"info","message":"Workspace created: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755619927732-9yop22"}
{"timestamp":"2025-08-19T16:12:07.738Z","level":"debug","message":"Workspace config path: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755619927732-9yop22/.adorevrc.yaml"}
{"timestamp":"2025-08-19T16:12:07.738Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T16:12:07.738Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T16:12:07.738Z","level":"debug","message":"Completed step 2: Setup workspace"}
{"timestamp":"2025-08-19T16:12:07.738Z","level":"info","message":"\u001b[34m[3/8]\u001b[39m Fetching PR information and changes..."}
{"timestamp":"2025-08-19T16:12:07.738Z","level":"debug","message":"Starting step 3: Fetch PR info and diffs"}
{"timestamp":"2025-08-19T16:12:07.738Z","level":"debug","message":"Fetching PR 18767 info"}
{"timestamp":"2025-08-19T16:12:07.739Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18767"}
{"timestamp":"2025-08-19T16:12:08.143Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18767"}
{"timestamp":"2025-08-19T16:12:08.143Z","level":"debug","message":"Successfully fetched PR 18767 info"}
{"timestamp":"2025-08-19T16:12:08.143Z","level":"debug","message":"Response status: 200"}
{"timestamp":"2025-08-19T16:12:08.143Z","level":"debug","message":"Response data keys:"}
{"timestamp":"2025-08-19T16:12:08.143Z","level":"debug","message":"PR Info structure:"}
{"timestamp":"2025-08-19T16:12:08.144Z","level":"debug","message":"Completed fetchPRInfo"}
{"timestamp":"2025-08-19T16:12:08.144Z","level":"debug","message":"fetchDiffs - prInfo structure:"}
{"timestamp":"2025-08-19T16:12:08.144Z","level":"info","message":"Cloning repository: https://inploid@dev.azure.com/inploid/AuditReactProject/_git/AuditReactProject.RN0.71.X"}
{"timestamp":"2025-08-19T16:12:08.144Z","level":"debug","message":"Clone options: {\"branch\":\"refs/heads/feature/TDM-14373\",\"workingDirectory\":\"/var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755619927732-9yop22/source\"}"}
{"timestamp":"2025-08-19T16:12:08.145Z","level":"debug","message":"Executing: git init "}
{"timestamp":"2025-08-19T16:12:08.175Z","level":"debug","message":"Executing: git remote add origin https://inploid@dev.azure.com/inploid/AuditReactProject/_git/AuditReactProject.RN0.71.X"}
{"timestamp":"2025-08-19T16:12:08.188Z","level":"debug","message":"Executing: git fetch origin refs/heads/feature/TDM-14373"}
{"timestamp":"2025-08-19T16:15:15.102Z","level":"debug","message":"Executing: git checkout -b local-branch origin/feature/TDM-14373"}
{"timestamp":"2025-08-19T16:15:15.663Z","level":"debug","message":"Executing: git rev-parse HEAD"}
{"timestamp":"2025-08-19T16:15:15.673Z","level":"info","message":"Successfully cloned repository to /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755619927732-9yop22/source"}
{"timestamp":"2025-08-19T16:15:15.673Z","level":"debug","message":"Commit ID: b15a8d14db73959c20ef365262d7fc09930afb1c"}
{"timestamp":"2025-08-19T16:15:15.673Z","level":"debug","message":"Reinitializing ConfigLoader with cloned workspace directory:"}
{"timestamp":"2025-08-19T16:15:15.673Z","level":"debug","message":"Workspace config path: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755619927732-9yop22/source/.adorevrc.yaml"}
{"timestamp":"2025-08-19T16:15:15.673Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T16:15:15.673Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T16:15:15.675Z","level":"debug","message":"Found .adorevrc.yaml in project root, loading configuration"}
{"timestamp":"2025-08-19T16:15:15.675Z","level":"debug","message":"Project root configuration loaded successfully"}
{"timestamp":"2025-08-19T16:15:15.675Z","level":"info","message":"Using configuration from: project-root"}
{"timestamp":"2025-08-19T16:15:15.676Z","level":"debug","message":"Log level overridden by ADO_REVIEW_LOG_LEVEL: debug"}
{"timestamp":"2025-08-19T16:15:15.676Z","level":"debug","message":"Configuration loaded and merged successfully"}
{"timestamp":"2025-08-19T16:15:15.676Z","level":"debug","message":"Gemini timeout: 120000ms"}
{"timestamp":"2025-08-19T16:15:15.676Z","level":"debug","message":"Current log level: debug"}
{"timestamp":"2025-08-19T16:15:15.676Z","level":"debug","message":"Reloaded configuration from workspace:"}
{"timestamp":"2025-08-19T16:15:15.676Z","level":"info","message":"Fetching iteration changes for PR 18767"}
{"timestamp":"2025-08-19T16:15:15.676Z","level":"debug","message":"Fetching PR 18767 iterations"}
{"timestamp":"2025-08-19T16:15:15.677Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18767/iterations"}
{"timestamp":"2025-08-19T16:15:15.680Z","level":"warn","message":"HTTP EPIPE error from /git/repositories/AuditReactProject.RN0.71.X/pullrequests/18767/iterations: write EPIPE. Retrying in 1000ms (attempt 1/3)"}
{"timestamp":"2025-08-19T16:15:16.682Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18767/iterations"}
{"timestamp":"2025-08-19T16:15:17.046Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18767/iterations"}
{"timestamp":"2025-08-19T16:15:17.047Z","level":"debug","message":"Successfully fetched 1 iterations"}
{"timestamp":"2025-08-19T16:15:17.047Z","level":"debug","message":"Fetching changes for iteration 1"}
{"timestamp":"2025-08-19T16:15:17.047Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18767/iterations/1/changes"}
{"timestamp":"2025-08-19T16:15:17.232Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18767/iterations/1/changes"}
{"timestamp":"2025-08-19T16:15:17.232Z","level":"debug","message":"Successfully fetched 13 changes"}
{"timestamp":"2025-08-19T16:15:17.232Z","level":"debug","message":"Processing iteration changes with 13 file changes"}
{"timestamp":"2025-08-19T16:15:17.233Z","level":"debug","message":"Processing iteration change for file: /__mocks__/@react-native-community/geolocation.js"}
{"timestamp":"2025-08-19T16:15:17.233Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b15a8d14db73959c20ef365262d7fc09930afb1c"}
{"timestamp":"2025-08-19T16:15:17.233Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b15a8d14db73959c20ef365262d7fc09930afb1c -- __mocks__/@react-native-community/geolocation.js"}
{"timestamp":"2025-08-19T16:15:17.265Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:15:17.265Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/location-helper.test.ts"}
{"timestamp":"2025-08-19T16:15:17.265Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b15a8d14db73959c20ef365262d7fc09930afb1c"}
{"timestamp":"2025-08-19T16:15:17.265Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b15a8d14db73959c20ef365262d7fc09930afb1c -- __tests__/app/lib/location-helper.test.ts"}
{"timestamp":"2025-08-19T16:15:17.286Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:15:17.287Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/request-service-helper.test.ts"}
{"timestamp":"2025-08-19T16:15:17.287Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b15a8d14db73959c20ef365262d7fc09930afb1c"}
{"timestamp":"2025-08-19T16:15:17.287Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b15a8d14db73959c20ef365262d7fc09930afb1c -- __tests__/app/lib/request-service-helper.test.ts"}
{"timestamp":"2025-08-19T16:15:17.304Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:15:17.304Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/orientation.test.ts"}
{"timestamp":"2025-08-19T16:15:17.304Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b15a8d14db73959c20ef365262d7fc09930afb1c"}
{"timestamp":"2025-08-19T16:15:17.305Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b15a8d14db73959c20ef365262d7fc09930afb1c -- __tests__/app/lib/orientation.test.ts"}
{"timestamp":"2025-08-19T16:15:17.323Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:15:17.323Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/regex-validate-operation.test.ts"}
{"timestamp":"2025-08-19T16:15:17.323Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b15a8d14db73959c20ef365262d7fc09930afb1c"}
{"timestamp":"2025-08-19T16:15:17.323Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b15a8d14db73959c20ef365262d7fc09930afb1c -- __tests__/app/lib/regex-validate-operation.test.ts"}
{"timestamp":"2025-08-19T16:15:17.341Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:15:17.341Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/print-provider.test.ts"}
{"timestamp":"2025-08-19T16:15:17.341Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b15a8d14db73959c20ef365262d7fc09930afb1c"}
{"timestamp":"2025-08-19T16:15:17.341Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b15a8d14db73959c20ef365262d7fc09930afb1c -- __tests__/app/lib/print-provider.test.ts"}
{"timestamp":"2025-08-19T16:15:17.355Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:15:17.355Z","level":"debug","message":"Processing iteration change for file: /app/lib/request-service-helper.ts"}
{"timestamp":"2025-08-19T16:15:17.355Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b15a8d14db73959c20ef365262d7fc09930afb1c"}
{"timestamp":"2025-08-19T16:15:17.355Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b15a8d14db73959c20ef365262d7fc09930afb1c -- app/lib/request-service-helper.ts"}
{"timestamp":"2025-08-19T16:15:17.367Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:15:17.367Z","level":"debug","message":"Processing iteration change for file: /app/lib/print-provider.ts"}
{"timestamp":"2025-08-19T16:15:17.367Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b15a8d14db73959c20ef365262d7fc09930afb1c"}
{"timestamp":"2025-08-19T16:15:17.367Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b15a8d14db73959c20ef365262d7fc09930afb1c -- app/lib/print-provider.ts"}
{"timestamp":"2025-08-19T16:15:17.379Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:15:17.379Z","level":"debug","message":"Processing iteration change for file: /app/lib/responsive.ts"}
{"timestamp":"2025-08-19T16:15:17.380Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b15a8d14db73959c20ef365262d7fc09930afb1c"}
{"timestamp":"2025-08-19T16:15:17.380Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b15a8d14db73959c20ef365262d7fc09930afb1c -- app/lib/responsive.ts"}
{"timestamp":"2025-08-19T16:15:17.393Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:15:17.393Z","level":"debug","message":"Processing iteration change for file: /app/lib/location-helper.ts"}
{"timestamp":"2025-08-19T16:15:17.393Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b15a8d14db73959c20ef365262d7fc09930afb1c"}
{"timestamp":"2025-08-19T16:15:17.393Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b15a8d14db73959c20ef365262d7fc09930afb1c -- app/lib/location-helper.ts"}
{"timestamp":"2025-08-19T16:15:17.405Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:15:17.405Z","level":"debug","message":"Processing iteration change for file: /app/lib/orientation.ts"}
{"timestamp":"2025-08-19T16:15:17.405Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b15a8d14db73959c20ef365262d7fc09930afb1c"}
{"timestamp":"2025-08-19T16:15:17.405Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b15a8d14db73959c20ef365262d7fc09930afb1c -- app/lib/orientation.ts"}
{"timestamp":"2025-08-19T16:15:17.416Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:15:17.416Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/responsive.test.ts"}
{"timestamp":"2025-08-19T16:15:17.416Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b15a8d14db73959c20ef365262d7fc09930afb1c"}
{"timestamp":"2025-08-19T16:15:17.416Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b15a8d14db73959c20ef365262d7fc09930afb1c -- __tests__/app/lib/responsive.test.ts"}
{"timestamp":"2025-08-19T16:15:17.428Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:15:17.428Z","level":"debug","message":"Processing iteration change for file: /app/lib/regex-validate-operation.ts"}
{"timestamp":"2025-08-19T16:15:17.428Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b15a8d14db73959c20ef365262d7fc09930afb1c"}
{"timestamp":"2025-08-19T16:15:17.428Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b15a8d14db73959c20ef365262d7fc09930afb1c -- app/lib/regex-validate-operation.ts"}
{"timestamp":"2025-08-19T16:15:17.440Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:15:17.440Z","level":"info","message":"Successfully fetched diff: 13 files, +1342/-65 lines"}
{"timestamp":"2025-08-19T16:15:17.441Z","level":"debug","message":"Diff data saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755619927732-9yop22/logs/diffs/diff-pr-pr-18767-2025-08-19T16-15-17-441Z.txt"}
{"timestamp":"2025-08-19T16:15:17.441Z","level":"debug","message":"Completed step 3: Fetch PR info and diffs"}
{"timestamp":"2025-08-19T16:15:17.441Z","level":"info","message":"\u001b[34m[4/8]\u001b[39m Loading rules and building review context..."}
{"timestamp":"2025-08-19T16:15:17.441Z","level":"debug","message":"Starting step 4: Load rules and build context"}
{"timestamp":"2025-08-19T16:15:17.442Z","level":"info","message":"Loading review rules and guidelines"}
{"timestamp":"2025-08-19T16:15:17.442Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T16:15:17.442Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T16:15:17.446Z","level":"warn","message":"No rules found in /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T16:15:17.446Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T16:15:17.446Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T16:15:17.448Z","level":"debug","message":"Loaded 28 rules from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T16:15:17.448Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T16:15:17.448Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T16:15:17.449Z","level":"debug","message":"Loaded guideline \"Azure DevOps Review Rules\" from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T16:15:17.449Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T16:15:17.449Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T16:15:17.450Z","level":"debug","message":"Loaded guideline \"React Native Field App - Architecture Guide\" from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T16:15:17.450Z","level":"info","message":"Loaded 1 rule sets, 28 total rules (28 enabled), 2 guidelines"}
{"timestamp":"2025-08-19T16:15:17.450Z","level":"debug","message":"Completed loadRules"}
{"timestamp":"2025-08-19T16:15:17.450Z","level":"info","message":"Building review context"}
{"timestamp":"2025-08-19T16:15:17.451Z","level":"info","message":"Context built: 13 files, 29 hunks, 28 rules, 2 guidelines"}
{"timestamp":"2025-08-19T16:15:17.451Z","level":"debug","message":"Completed step 4: Load rules and build context"}
{"timestamp":"2025-08-19T16:15:17.451Z","level":"info","message":"\u001b[34m[5/8]\u001b[39m Planning and executing AI review..."}
{"timestamp":"2025-08-19T16:15:17.451Z","level":"debug","message":"Starting step 5: Plan and execute review"}
{"timestamp":"2025-08-19T16:15:17.451Z","level":"info","message":"Creating review plan"}
{"timestamp":"2025-08-19T16:15:17.451Z","level":"debug","message":"Completed planReview"}
{"timestamp":"2025-08-19T16:15:17.451Z","level":"debug","message":"Executing Gemini review with plan"}
{"timestamp":"2025-08-19T16:15:17.451Z","level":"info","message":"Executing single batch review"}
{"timestamp":"2025-08-19T16:15:17.451Z","level":"info","message":"Starting Gemini review with model: gemini-2.5-flash"}
{"timestamp":"2025-08-19T16:15:17.453Z","level":"debug","message":"Prompt data saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755619927732-9yop22/logs/prompts/prompt-pr-review-2025-08-19T16-15-17-451Z.txt"}
{"timestamp":"2025-08-19T16:15:17.453Z","level":"debug","message":"Spawning Gemini CLI with stdin approach"}
{"timestamp":"2025-08-19T16:15:18.280Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T16:15:18.353Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T16:15:18.382Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T16:16:00.971Z","level":"debug","message":"Gemini CLI stdout: ```json\n{\n  \"findings\": [\n    {\n      \"file\": \"/__tests__/app/lib/request-service-helper.test.ts\",\n      \"line\": 1,\n      \"endLine\": 215,\n      \"severity\": \"error\",\n      \"message"}
{"timestamp":"2025-08-19T16:16:00.972Z","level":"debug","message":"Gemini CLI stdout: \": \"Birim testleri, test edilmesi gereken fonksiyonları mock'layarak işlevsiz hale getirilmiş. Örneğin, `checkIfAssembleProductHasNoSerialNumber` fonksiyonu test edilirken, fonksiyonun kendisi mock'lanıyor ve test, mock'un yapılandırıldığı değeri döndürüp döndürm"}
{"timestamp":"2025-08-19T16:16:01.255Z","level":"debug","message":"Gemini CLI stdout: ediğini kontrol ediyor. Bu, fonksiyonun gerçek mantığını test etmez ve hiçbir güvence sağlamaz.\",\n      \"suggestion\": \"Test edilen fonksiyonları mock'lamak yerine, `../../../app/lib/request-service-helper` dosyasından gerçek fonksiyonları içe aktarın. Ardından,"}
{"timestamp":"2025-08-19T16:16:01.722Z","level":"debug","message":"Gemini CLI stdout: bu fonksiyonları farklı girdilerle çağırarak beklenen çıktıları veya davranışları doğrulayın. Testler, fonksiyonun iç mantığını değil, genel davranışını hedef almalıdır.\",\n      \"ruleId\": \"unit-test-coverage\",\n      \"category\": \"testing\"\n    },"}
{"timestamp":"2025-08-19T16:16:02.196Z","level":"debug","message":"Gemini CLI stdout: {\n      \"file\": \"/__tests__/app/lib/regex-validate-operation.test.ts\",\n      \"line\": 1,\n      \"endLine\": 51,\n      \"severity\": \"error\",\n      \"message\": \"Testler, test edilen fonksiyonların gerçek"}
{"timestamp":"2025-08-19T16:16:02.688Z","level":"debug","message":"Gemini CLI stdout: davranışını doğrulamıyor. `validateGSMNo` testi, fonksiyonda kullanılan (`PHONE_REGEX2`) yerine farklı bir regex'i (`PHONE_REGEX`) test ediyor ve asıl fonksiyonu hiç çağırmıyor. Diğer testler de fonksiyonları çağırmak yerine doğrudan regex'leri"}
{"timestamp":"2025-08-19T16:16:03.127Z","level":"debug","message":"Gemini CLI stdout: test ediyor veya fonksiyonların iç uygulama detaylarına (dönen dizinin belirli bir indeksi gibi) bağımlı kalarak kırılgan hale getirilmiş.\",\n      \"suggestion\": \"Testleri, test edilen fonksiyonları doğrudan çağıracak şekilde yeniden yazın. `validateGSMNo` testi,"}
{"timestamp":"2025-08-19T16:16:03.548Z","level":"debug","message":"Gemini CLI stdout: `validateGSMNo` fonksiyonunu çağırmalı ve `ENV` mock'u doğru `PHONE_REGEX2` değerini sağlamalıdır. Testler, bir fonksiyonun döndürdüğü değerin yapısına değil, beklenen sonuca odaklanmalıdır.\",\n      \"ruleId\": \"unit-test"}
{"timestamp":"2025-08-19T16:16:04.000Z","level":"debug","message":"Gemini CLI stdout: -coverage\",\n      \"category\": \"testing\"\n    },\n    {\n      \"file\": \"/app/lib/request-service-helper.ts\",\n      \"line\": 5,\n      \"endLine\": 5,\n      \"severity\": \"error\",\n      \"message"}
{"timestamp":"2025-08-19T16:16:04.413Z","level":"debug","message":"Gemini CLI stdout: \": \"Kodda bırakılan `// TODO: ... ÇAĞLAR BURAYA BAK !!!` yorumu, `GetTransferableProductsResponse` tipinde `requestFlowProductAssembleItems` alanının bulunmadığını belirtiyor. Bu durum, potansiyel bir tip uyumsuzluğuna ve çalışma zamanı"}
{"timestamp":"2025-08-19T16:16:04.877Z","level":"debug","message":"Gemini CLI stdout: hatalarına (runtime error) işaret etmektedir.\",\n      \"suggestion\": \"`GetTransferableProductsResponse` tip tanımını kontrol edin ve `requestFlowProductAssembleItems` alanını içerecek şekilde güncelleyin veya bu alanı kullanan mantığın doğru tiple çalıştığından emin olun. Bu tür `TODO"}
{"timestamp":"2025-08-19T16:16:05.289Z","level":"debug","message":"Gemini CLI stdout: ` yorumları, kod birleştirilmeden önce çözülmelidir.\",\n      \"ruleId\": \"no-any-type\",\n      \"category\": \"typescript\"\n    },\n    {\n      \"file\": \"/app/lib/request-service-helper.ts\",\n      \"line\":"}
{"timestamp":"2025-08-19T16:16:05.851Z","level":"debug","message":"Gemini CLI stdout: 10,\n      \"endLine\": 10,\n      \"severity\": \"info\",\n      \"message\": \"Fonksiyonlar için eklenen JSDoc yorumları kodun okunabilirliğini ve bakımını kolaylaştırıyor. Bu iyi bir pratik.\",\n      \"suggestion\": \"Pro"}
{"timestamp":"2025-08-19T16:16:06.405Z","level":"debug","message":"Gemini CLI stdout: jedeki diğer yardımcı (helper) fonksiyonlar için de benzer şekilde JSDoc standardını uygulamaya devam edin.\",\n      \"ruleId\": \"component-structure\",\n      \"category\": \"code-quality\"\n    }\n  ],\n  \"summary\": \"Değişiklikler genel olarak kod dok"}
{"timestamp":"2025-08-19T16:16:06.986Z","level":"debug","message":"Gemini CLI stdout: ümantasyonunu (JSDoc) ve test kapsamını artırmaya yönelik olumlu adımlar içeriyor. `location-helper`, `orientation`, `print-provider` ve `responsive` için eklenen testler başarılı ve iyi yapılandırılmış. Ancak, `request-service-helper.test.ts"}
{"timestamp":"2025-08-19T16:16:07.506Z","level":"debug","message":"Gemini CLI stdout: ` ve `regex-validate-operation.test.ts` dosyalarındaki testler, test edilen fonksiyonların kendisini mock'ladığı için hatalıdır ve gerçek mantığı doğrulamamaktadır; bu testlerin yeniden yazılması gerekmektedir. Ayrıca, `request-service-helper.ts` içinde bulunan bir `TODO"}
{"timestamp":"2025-08-19T16:16:07.746Z","level":"debug","message":"Gemini CLI stdout: ` yorumu, acilen çözülmesi gereken kritik bir tip hatasına işaret etmektedir.\"\n}\n```"}
{"timestamp":"2025-08-19T16:16:07.751Z","level":"debug","message":"Gemini CLI stdout: "}
{"timestamp":"2025-08-19T16:16:07.760Z","level":"debug","message":"Gemini CLI exited with code: 0"}
{"timestamp":"2025-08-19T16:16:07.760Z","level":"debug","message":"Gemini CLI final stdout: [dotenv@16.6.0] injecting env (9) from .env\n[dotenv@16.6.0] injecting env (9) from .env\n[dotenv@16.6.0] injecting env (9) from .env\n```json\n{\n  \"findings\": [\n    {\n      \"file\": \"/__tests__/app/lib/request-service-helper.test.ts\",\n      \"line\": 1,\n      \"endLine\": 215,\n      \"severity\": \"error\",\n      \"message\": \"Birim testleri, test edilmesi gereken fonksiyonları mock'layarak işlevsiz hale getirilmiş. Örneğin, `checkIfAssembleProductHasNoSerialNumber` fonksiyonu test edilirken, fonksiyonun kendisi mock'lanıyor ve test, mock'un yapılandırıldığı değeri döndürüp döndürmediğini kontrol ediyor. Bu, fonksiyonun gerçek mantığını test etmez ve hiçbir güvence sağlamaz.\",\n      \"suggestion\": \"Test edilen fonksiyonları mock'lamak yerine, `../../../app/lib/request-service-helper` dosyasından gerçek fonksiyonları içe aktarın. Ardından, bu fonksiyonları farklı girdilerle çağırarak beklenen çıktıları veya davranışları doğrulayın. Testler, fonksiyonun iç mantığını değil, genel davranışını hedef almalıdır.\",\n      \"ruleId\": \"unit-test-coverage\",\n      \"category\": \"testing\"\n    },\n    {\n      \"file\": \"/__tests__/app/lib/regex-validate-operation.test.ts\",\n      \"line\": 1,\n      \"endLine\": 51,\n      \"severity\": \"error\",\n      \"message\": \"Testler, test edilen fonksiyonların gerçek davranışını doğrulamıyor. `validateGSMNo` testi, fonksiyonda kullanılan (`PHONE_REGEX2`) yerine farklı bir regex'i (`PHONE_REGEX`) test ediyor ve asıl fonksiyonu hiç çağırmıyor. Diğer testler de fonksiyonları çağırmak yerine doğrudan regex'leri test ediyor veya fonksiyonların iç uygulama detaylarına (dönen dizinin belirli bir indeksi gibi) bağımlı kalarak kırılgan hale getirilmiş.\",\n      \"suggestion\": \"Testleri, test edilen fonksiyonları doğrudan çağıracak şekilde yeniden yazın. `validateGSMNo` testi, `validateGSMNo` fonksiyonunu çağırmalı ve `ENV` mock'u doğru `PHONE_REGEX2` değerini sağlamalıdır. Testler, bir fonksiyonun döndürdüğü değerin yapısına değil, beklenen sonuca odaklanmalıdır.\",\n      \"ruleId\": \"unit-test-coverage\",\n      \"category\": \"testing\"\n    },\n    {\n      \"file\": \"/app/lib/request-service-helper.ts\",\n      \"line\": 5,\n      \"endLine\": 5,\n      \"severity\": \"error\",\n      \"message\": \"Kodda bırakılan `// TODO: ... ÇAĞLAR BURAYA BAK !!!` yorumu, `GetTransferableProductsResponse` tipinde `requestFlowProductAssembleItems` alanının bulunmadığını belirtiyor. Bu durum, potansiyel bir tip uyumsuzluğuna ve çalışma zamanı hatalarına (runtime error) işaret etmektedir.\",\n      \"suggestion\": \"`GetTransferableProductsResponse` tip tanımını kontrol edin ve `requestFlowProductAssembleItems` alanını içerecek şekilde güncelleyin veya bu alanı kullanan mantığın doğru tiple çalıştığından emin olun. Bu tür `TODO` yorumları, kod birleştirilmeden önce çözülmelidir.\",\n      \"ruleId\": \"no-any-type\",\n      \"category\": \"typescript\"\n    },\n    {\n      \"file\": \"/app/lib/request-service-helper.ts\",\n      \"line\": 10,\n      \"endLine\": 10,\n      \"severity\": \"info\",\n      \"message\": \"Fonksiyonlar için eklenen JSDoc yorumları kodun okunabilirliğini ve bakımını kolaylaştırıyor. Bu iyi bir pratik.\",\n      \"suggestion\": \"Projedeki diğer yardımcı (helper) fonksiyonlar için de benzer şekilde JSDoc standardını uygulamaya devam edin.\",\n      \"ruleId\": \"component-structure\",\n      \"category\": \"code-quality\"\n    }\n  ],\n  \"summary\": \"Değişiklikler genel olarak kod dokümantasyonunu (JSDoc) ve test kapsamını artırmaya yönelik olumlu adımlar içeriyor. `location-helper`, `orientation`, `print-provider` ve `responsive` için eklenen testler başarılı ve iyi yapılandırılmış. Ancak, `request-service-helper.test.ts` ve `regex-validate-operation.test.ts` dosyalarındaki testler, test edilen fonksiyonların kendisini mock'ladığı için hatalıdır ve gerçek mantığı doğrulamamaktadır; bu testlerin yeniden yazılması gerekmektedir. Ayrıca, `request-service-helper.ts` içinde bulunan bir `TODO` yorumu, acilen çözülmesi gereken kritik bir tip hatasına işaret etmektedir.\"\n}\n```"}
{"timestamp":"2025-08-19T16:16:07.761Z","level":"debug","message":"Gemini CLI final stderr: "}
{"timestamp":"2025-08-19T16:16:07.762Z","level":"debug","message":"Gemini response saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755619927732-9yop22/logs/responses/gemini-response-pr-req-1755620117451-8r8gv1ri1-2025-08-19T16-16-07-761Z.json"}
{"timestamp":"2025-08-19T16:16:07.762Z","level":"info","message":"Review completed: 4 findings"}
{"timestamp":"2025-08-19T16:16:07.762Z","level":"debug","message":"Completed step 5: Plan and execute review"}
{"timestamp":"2025-08-19T16:16:07.762Z","level":"info","message":"\u001b[34m[6/8]\u001b[39m Processing and filtering findings..."}
{"timestamp":"2025-08-19T16:16:07.762Z","level":"debug","message":"Starting step 6: Process findings"}
{"timestamp":"2025-08-19T16:16:07.763Z","level":"info","message":"Found 4 total findings, 4 above threshold"}
{"timestamp":"2025-08-19T16:16:07.763Z","level":"debug","message":"Completed step 6: Process findings"}
{"timestamp":"2025-08-19T16:16:07.763Z","level":"info","message":"\u001b[34m[7/8]\u001b[39m Getting approval and posting comments..."}
{"timestamp":"2025-08-19T16:16:07.763Z","level":"debug","message":"Starting step 7: Get approval and post comments"}
{"timestamp":"2025-08-19T16:16:07.764Z","level":"info","message":"File                                                | Line | Severity | Message                                                                                                                                                                                                                                                                                                                                                                                                                                    | Rule               "}
{"timestamp":"2025-08-19T16:16:07.764Z","level":"info","message":"----------------------------------------------------+------+----------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------"}
{"timestamp":"2025-08-19T16:16:07.764Z","level":"info","message":"/__tests__/app/lib/request-service-helper.test.ts   | 1    | ERROR    | Birim testleri, test edilmesi gereken fonksiyonları mock'layarak işlevsiz hale getirilmiş. Örneğin, `checkIfAssembleProductHasNoSerialNumber` fonksiyonu test edilirken, fonksiyonun kendisi mock'lanıyor ve test, mock'un yapılandırıldığı değeri döndürüp döndürmediğini kontrol ediyor. Bu, fonksiyonun gerçek mantığını test etmez ve hiçbir güvence sağlamaz.                                                                         | unit-test-coverage "}
{"timestamp":"2025-08-19T16:16:07.764Z","level":"info","message":"/__tests__/app/lib/regex-validate-operation.test.ts | 1    | ERROR    | Testler, test edilen fonksiyonların gerçek davranışını doğrulamıyor. `validateGSMNo` testi, fonksiyonda kullanılan (`PHONE_REGEX2`) yerine farklı bir regex'i (`PHONE_REGEX`) test ediyor ve asıl fonksiyonu hiç çağırmıyor. Diğer testler de fonksiyonları çağırmak yerine doğrudan regex'leri test ediyor veya fonksiyonların iç uygulama detaylarına (dönen dizinin belirli bir indeksi gibi) bağımlı kalarak kırılgan hale getirilmiş. | unit-test-coverage "}
{"timestamp":"2025-08-19T16:16:07.764Z","level":"info","message":"/app/lib/request-service-helper.ts                  | 5    | ERROR    | Kodda bırakılan `// TODO: ... ÇAĞLAR BURAYA BAK !!!` yorumu, `GetTransferableProductsResponse` tipinde `requestFlowProductAssembleItems` alanının bulunmadığını belirtiyor. Bu durum, potansiyel bir tip uyumsuzluğuna ve çalışma zamanı hatalarına (runtime error) işaret etmektedir.                                                                                                                                                     | no-any-type        "}
{"timestamp":"2025-08-19T16:16:07.764Z","level":"info","message":"/app/lib/request-service-helper.ts                  | 10   | INFO     | Fonksiyonlar için eklenen JSDoc yorumları kodun okunabilirliğini ve bakımını kolaylaştırıyor. Bu iyi bir pratik.                                                                                                                                                                                                                                                                                                                           | component-structure"}
{"timestamp":"2025-08-19T16:20:13.796Z","level":"debug","message":"Completed getApproval"}
{"timestamp":"2025-08-19T16:20:13.797Z","level":"info","message":"Mapping 4 findings to ADO comment threads"}
{"timestamp":"2025-08-19T16:20:13.832Z","level":"info","message":"Mapping completed: 4 threads, 4 comments"}
{"timestamp":"2025-08-19T16:20:13.832Z","level":"info","message":"Posting 4 comment threads to PR 18767"}
{"timestamp":"2025-08-19T16:20:13.833Z","level":"debug","message":"Fetching comment threads for PR 18767"}
{"timestamp":"2025-08-19T16:20:13.833Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18767/threads"}
{"timestamp":"2025-08-19T16:20:14.339Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18767/threads"}
{"timestamp":"2025-08-19T16:20:14.340Z","level":"debug","message":"Successfully fetched 0 comment threads"}
{"timestamp":"2025-08-19T16:20:14.340Z","level":"debug","message":"Found 0 existing comment threads"}
{"timestamp":"2025-08-19T16:20:14.340Z","level":"debug","message":"Processing batch 1/1 (4 threads)"}
{"timestamp":"2025-08-19T16:20:14.340Z","level":"debug","message":"Creating new thread at /__tests__/app/lib/regex-validate-operation.test.ts:1"}
{"timestamp":"2025-08-19T16:20:14.341Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T16:20:14.342Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18767/threads"}
{"timestamp":"2025-08-19T16:20:14.561Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18767/threads"}
{"timestamp":"2025-08-19T16:20:14.561Z","level":"debug","message":"Successfully created comment thread 61428"}
{"timestamp":"2025-08-19T16:20:14.561Z","level":"debug","message":"Creating new thread at /__tests__/app/lib/request-service-helper.test.ts:1"}
{"timestamp":"2025-08-19T16:20:14.561Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T16:20:14.562Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18767/threads"}
{"timestamp":"2025-08-19T16:20:14.787Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18767/threads"}
{"timestamp":"2025-08-19T16:20:14.787Z","level":"debug","message":"Successfully created comment thread 61429"}
{"timestamp":"2025-08-19T16:20:14.787Z","level":"debug","message":"Creating new thread at /app/lib/request-service-helper.ts:5"}
{"timestamp":"2025-08-19T16:20:14.787Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T16:20:14.787Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18767/threads"}
{"timestamp":"2025-08-19T16:20:15.166Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18767/threads"}
{"timestamp":"2025-08-19T16:20:15.167Z","level":"debug","message":"Successfully created comment thread 61430"}
{"timestamp":"2025-08-19T16:20:15.167Z","level":"debug","message":"Creating new thread at /app/lib/request-service-helper.ts:10"}
{"timestamp":"2025-08-19T16:20:15.167Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T16:20:15.167Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18767/threads"}
{"timestamp":"2025-08-19T16:20:15.388Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18767/threads"}
{"timestamp":"2025-08-19T16:20:15.388Z","level":"debug","message":"Successfully created comment thread 61431"}
{"timestamp":"2025-08-19T16:20:15.388Z","level":"info","message":"Comment posting completed: 4 threads created, 4 comments created"}
{"timestamp":"2025-08-19T16:20:15.389Z","level":"debug","message":"Completed step 7: Get approval and post comments"}
{"timestamp":"2025-08-19T16:20:15.389Z","level":"info","message":"\u001b[34m[8/8]\u001b[39m Updating PR status and cleaning up..."}
{"timestamp":"2025-08-19T16:20:15.389Z","level":"debug","message":"Starting step 8: Update PR status"}
{"timestamp":"2025-08-19T16:20:15.389Z","level":"debug","message":"Completed step 8: Update PR status"}
{"timestamp":"2025-08-19T16:20:15.389Z","level":"info","message":"\u001b[32m✅ Review completed successfully in 487664ms\u001b[39m"}
{"timestamp":"2025-08-19T16:20:15.390Z","level":"info","message":"Cleaning up workspace: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755619927732-9yop22"}
{"timestamp":"2025-08-19T16:20:16.102Z","level":"info","message":"Workspace cleanup completed: 3974 files, 982 directories deleted"}
{"timestamp":"2025-08-19T16:20:46.628Z","level":"info","message":"\u001b[34m🚀 Starting Azure DevOps PR Review...\u001b[39m"}
{"timestamp":"2025-08-19T16:20:46.630Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T16:20:46.630Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T16:20:46.630Z","level":"info","message":"\u001b[34m[1/8]\u001b[39m Initializing and validating options..."}
{"timestamp":"2025-08-19T16:20:46.630Z","level":"debug","message":"Starting step 1: Initialize"}
{"timestamp":"2025-08-19T16:20:46.632Z","level":"info","message":"Loading configuration..."}
{"timestamp":"2025-08-19T16:20:46.632Z","level":"debug","message":"Found .adorevrc.yaml in project root, loading configuration"}
{"timestamp":"2025-08-19T16:20:46.632Z","level":"debug","message":"Project root configuration loaded successfully"}
{"timestamp":"2025-08-19T16:20:46.633Z","level":"info","message":"Using configuration from: project-root"}
{"timestamp":"2025-08-19T16:20:46.633Z","level":"debug","message":"Log level overridden by ADO_REVIEW_LOG_LEVEL: debug"}
{"timestamp":"2025-08-19T16:20:46.633Z","level":"debug","message":"Configuration loaded and merged successfully"}
{"timestamp":"2025-08-19T16:20:46.633Z","level":"debug","message":"Gemini timeout: 120000ms"}
{"timestamp":"2025-08-19T16:20:46.633Z","level":"debug","message":"Current log level: debug"}
{"timestamp":"2025-08-19T16:20:46.634Z","level":"debug","message":"Initializing GeminiAdapter with timeout: 120000ms"}
{"timestamp":"2025-08-19T16:20:46.635Z","level":"debug","message":"GeminiAdapter initialized with default timeout: 120000ms"}
{"timestamp":"2025-08-19T16:20:46.635Z","level":"debug","message":"All components initialized successfully"}
{"timestamp":"2025-08-19T16:20:46.635Z","level":"debug","message":"Completed step 1: Initialize"}
{"timestamp":"2025-08-19T16:20:46.635Z","level":"info","message":"\u001b[34m[2/8]\u001b[39m Setting up temporary workspace..."}
{"timestamp":"2025-08-19T16:20:46.635Z","level":"debug","message":"Starting step 2: Setup workspace"}
{"timestamp":"2025-08-19T16:20:46.640Z","level":"info","message":"Workspace created: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755620446635-hohjw7"}
{"timestamp":"2025-08-19T16:20:46.640Z","level":"debug","message":"Workspace config path: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755620446635-hohjw7/.adorevrc.yaml"}
{"timestamp":"2025-08-19T16:20:46.640Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T16:20:46.640Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T16:20:46.640Z","level":"debug","message":"Completed step 2: Setup workspace"}
{"timestamp":"2025-08-19T16:20:46.641Z","level":"info","message":"\u001b[34m[3/8]\u001b[39m Fetching PR information and changes..."}
{"timestamp":"2025-08-19T16:20:46.641Z","level":"debug","message":"Starting step 3: Fetch PR info and diffs"}
{"timestamp":"2025-08-19T16:20:46.641Z","level":"debug","message":"Fetching PR 18782 info"}
{"timestamp":"2025-08-19T16:20:46.642Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18782"}
{"timestamp":"2025-08-19T16:20:47.089Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18782"}
{"timestamp":"2025-08-19T16:20:47.090Z","level":"debug","message":"Successfully fetched PR 18782 info"}
{"timestamp":"2025-08-19T16:20:47.090Z","level":"debug","message":"Response status: 200"}
{"timestamp":"2025-08-19T16:20:47.090Z","level":"debug","message":"Response data keys:"}
{"timestamp":"2025-08-19T16:20:47.090Z","level":"debug","message":"PR Info structure:"}
{"timestamp":"2025-08-19T16:20:47.090Z","level":"debug","message":"Completed fetchPRInfo"}
{"timestamp":"2025-08-19T16:20:47.091Z","level":"debug","message":"fetchDiffs - prInfo structure:"}
{"timestamp":"2025-08-19T16:20:47.091Z","level":"info","message":"Cloning repository: https://inploid@dev.azure.com/inploid/AuditReactProject/_git/AuditReactProject.RN0.71.X"}
{"timestamp":"2025-08-19T16:20:47.091Z","level":"debug","message":"Clone options: {\"branch\":\"refs/heads/feature/TDM-14374\",\"workingDirectory\":\"/var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755620446635-hohjw7/source\"}"}
{"timestamp":"2025-08-19T16:20:47.091Z","level":"debug","message":"Executing: git init "}
{"timestamp":"2025-08-19T16:20:47.122Z","level":"debug","message":"Executing: git remote add origin https://inploid@dev.azure.com/inploid/AuditReactProject/_git/AuditReactProject.RN0.71.X"}
{"timestamp":"2025-08-19T16:20:47.135Z","level":"debug","message":"Executing: git fetch origin refs/heads/feature/TDM-14374"}
{"timestamp":"2025-08-19T16:21:27.699Z","level":"debug","message":"Executing: git checkout -b local-branch origin/feature/TDM-14374"}
{"timestamp":"2025-08-19T16:21:28.251Z","level":"debug","message":"Executing: git rev-parse HEAD"}
{"timestamp":"2025-08-19T16:21:28.260Z","level":"info","message":"Successfully cloned repository to /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755620446635-hohjw7/source"}
{"timestamp":"2025-08-19T16:21:28.260Z","level":"debug","message":"Commit ID: 7e31c1366ca48e6c19a950efd90db45e3e285a31"}
{"timestamp":"2025-08-19T16:21:28.260Z","level":"debug","message":"Reinitializing ConfigLoader with cloned workspace directory:"}
{"timestamp":"2025-08-19T16:21:28.260Z","level":"debug","message":"Workspace config path: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755620446635-hohjw7/source/.adorevrc.yaml"}
{"timestamp":"2025-08-19T16:21:28.260Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T16:21:28.260Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T16:21:28.262Z","level":"debug","message":"Found .adorevrc.yaml in project root, loading configuration"}
{"timestamp":"2025-08-19T16:21:28.262Z","level":"debug","message":"Project root configuration loaded successfully"}
{"timestamp":"2025-08-19T16:21:28.262Z","level":"info","message":"Using configuration from: project-root"}
{"timestamp":"2025-08-19T16:21:28.262Z","level":"debug","message":"Log level overridden by ADO_REVIEW_LOG_LEVEL: debug"}
{"timestamp":"2025-08-19T16:21:28.262Z","level":"debug","message":"Configuration loaded and merged successfully"}
{"timestamp":"2025-08-19T16:21:28.262Z","level":"debug","message":"Gemini timeout: 120000ms"}
{"timestamp":"2025-08-19T16:21:28.262Z","level":"debug","message":"Current log level: debug"}
{"timestamp":"2025-08-19T16:21:28.262Z","level":"debug","message":"Reloaded configuration from workspace:"}
{"timestamp":"2025-08-19T16:21:28.263Z","level":"info","message":"Fetching iteration changes for PR 18782"}
{"timestamp":"2025-08-19T16:21:28.263Z","level":"debug","message":"Fetching PR 18782 iterations"}
{"timestamp":"2025-08-19T16:21:28.263Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18782/iterations"}
{"timestamp":"2025-08-19T16:21:28.441Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18782/iterations"}
{"timestamp":"2025-08-19T16:21:28.441Z","level":"debug","message":"Successfully fetched 1 iterations"}
{"timestamp":"2025-08-19T16:21:28.441Z","level":"debug","message":"Fetching changes for iteration 1"}
{"timestamp":"2025-08-19T16:21:28.442Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18782/iterations/1/changes"}
{"timestamp":"2025-08-19T16:21:28.636Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18782/iterations/1/changes"}
{"timestamp":"2025-08-19T16:21:28.636Z","level":"debug","message":"Successfully fetched 15 changes"}
{"timestamp":"2025-08-19T16:21:28.636Z","level":"debug","message":"Processing iteration changes with 15 file changes"}
{"timestamp":"2025-08-19T16:21:28.637Z","level":"debug","message":"Processing iteration change for file: /__mocks__/@react-native-community/geolocation.js"}
{"timestamp":"2025-08-19T16:21:28.637Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 7e31c1366ca48e6c19a950efd90db45e3e285a31"}
{"timestamp":"2025-08-19T16:21:28.637Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 7e31c1366ca48e6c19a950efd90db45e3e285a31 -- __mocks__/@react-native-community/geolocation.js"}
{"timestamp":"2025-08-19T16:21:28.666Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:21:28.666Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/location-helper.test.ts"}
{"timestamp":"2025-08-19T16:21:28.666Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 7e31c1366ca48e6c19a950efd90db45e3e285a31"}
{"timestamp":"2025-08-19T16:21:28.666Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 7e31c1366ca48e6c19a950efd90db45e3e285a31 -- __tests__/app/lib/location-helper.test.ts"}
{"timestamp":"2025-08-19T16:21:28.686Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:21:28.687Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/print-provider.test.ts"}
{"timestamp":"2025-08-19T16:21:28.687Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 7e31c1366ca48e6c19a950efd90db45e3e285a31"}
{"timestamp":"2025-08-19T16:21:28.687Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 7e31c1366ca48e6c19a950efd90db45e3e285a31 -- __tests__/app/lib/print-provider.test.ts"}
{"timestamp":"2025-08-19T16:21:28.703Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:21:28.703Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/request-service-helper.test.ts"}
{"timestamp":"2025-08-19T16:21:28.703Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 7e31c1366ca48e6c19a950efd90db45e3e285a31"}
{"timestamp":"2025-08-19T16:21:28.703Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 7e31c1366ca48e6c19a950efd90db45e3e285a31 -- __tests__/app/lib/request-service-helper.test.ts"}
{"timestamp":"2025-08-19T16:21:28.716Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:21:28.717Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/orientation.test.ts"}
{"timestamp":"2025-08-19T16:21:28.717Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 7e31c1366ca48e6c19a950efd90db45e3e285a31"}
{"timestamp":"2025-08-19T16:21:28.717Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 7e31c1366ca48e6c19a950efd90db45e3e285a31 -- __tests__/app/lib/orientation.test.ts"}
{"timestamp":"2025-08-19T16:21:28.729Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:21:28.729Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/regex-validate-operation.test.ts"}
{"timestamp":"2025-08-19T16:21:28.729Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 7e31c1366ca48e6c19a950efd90db45e3e285a31"}
{"timestamp":"2025-08-19T16:21:28.729Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 7e31c1366ca48e6c19a950efd90db45e3e285a31 -- __tests__/app/lib/regex-validate-operation.test.ts"}
{"timestamp":"2025-08-19T16:21:28.741Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:21:28.741Z","level":"debug","message":"Processing iteration change for file: /app/lib/location-helper.ts"}
{"timestamp":"2025-08-19T16:21:28.741Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 7e31c1366ca48e6c19a950efd90db45e3e285a31"}
{"timestamp":"2025-08-19T16:21:28.741Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 7e31c1366ca48e6c19a950efd90db45e3e285a31 -- app/lib/location-helper.ts"}
{"timestamp":"2025-08-19T16:21:28.753Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:21:28.754Z","level":"debug","message":"Processing iteration change for file: /app/lib/request-service-helper.ts"}
{"timestamp":"2025-08-19T16:21:28.754Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 7e31c1366ca48e6c19a950efd90db45e3e285a31"}
{"timestamp":"2025-08-19T16:21:28.754Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 7e31c1366ca48e6c19a950efd90db45e3e285a31 -- app/lib/request-service-helper.ts"}
{"timestamp":"2025-08-19T16:21:28.765Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:21:28.765Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/responsive.test.ts"}
{"timestamp":"2025-08-19T16:21:28.765Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 7e31c1366ca48e6c19a950efd90db45e3e285a31"}
{"timestamp":"2025-08-19T16:21:28.765Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 7e31c1366ca48e6c19a950efd90db45e3e285a31 -- __tests__/app/lib/responsive.test.ts"}
{"timestamp":"2025-08-19T16:21:28.776Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:21:28.776Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/route-helper.test.ts"}
{"timestamp":"2025-08-19T16:21:28.776Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 7e31c1366ca48e6c19a950efd90db45e3e285a31"}
{"timestamp":"2025-08-19T16:21:28.776Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 7e31c1366ca48e6c19a950efd90db45e3e285a31 -- __tests__/app/lib/route-helper.test.ts"}
{"timestamp":"2025-08-19T16:21:28.787Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:21:28.787Z","level":"debug","message":"Processing iteration change for file: /app/lib/print-provider.ts"}
{"timestamp":"2025-08-19T16:21:28.787Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 7e31c1366ca48e6c19a950efd90db45e3e285a31"}
{"timestamp":"2025-08-19T16:21:28.787Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 7e31c1366ca48e6c19a950efd90db45e3e285a31 -- app/lib/print-provider.ts"}
{"timestamp":"2025-08-19T16:21:28.797Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:21:28.797Z","level":"debug","message":"Processing iteration change for file: /app/lib/responsive.ts"}
{"timestamp":"2025-08-19T16:21:28.798Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 7e31c1366ca48e6c19a950efd90db45e3e285a31"}
{"timestamp":"2025-08-19T16:21:28.798Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 7e31c1366ca48e6c19a950efd90db45e3e285a31 -- app/lib/responsive.ts"}
{"timestamp":"2025-08-19T16:21:28.808Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:21:28.809Z","level":"debug","message":"Processing iteration change for file: /app/lib/regex-validate-operation.ts"}
{"timestamp":"2025-08-19T16:21:28.809Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 7e31c1366ca48e6c19a950efd90db45e3e285a31"}
{"timestamp":"2025-08-19T16:21:28.809Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 7e31c1366ca48e6c19a950efd90db45e3e285a31 -- app/lib/regex-validate-operation.ts"}
{"timestamp":"2025-08-19T16:21:28.819Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:21:28.820Z","level":"debug","message":"Processing iteration change for file: /app/lib/orientation.ts"}
{"timestamp":"2025-08-19T16:21:28.820Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 7e31c1366ca48e6c19a950efd90db45e3e285a31"}
{"timestamp":"2025-08-19T16:21:28.820Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 7e31c1366ca48e6c19a950efd90db45e3e285a31 -- app/lib/orientation.ts"}
{"timestamp":"2025-08-19T16:21:28.830Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:21:28.830Z","level":"debug","message":"Processing iteration change for file: /app/lib/route-helper.ts"}
{"timestamp":"2025-08-19T16:21:28.830Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 7e31c1366ca48e6c19a950efd90db45e3e285a31"}
{"timestamp":"2025-08-19T16:21:28.830Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 7e31c1366ca48e6c19a950efd90db45e3e285a31 -- app/lib/route-helper.ts"}
{"timestamp":"2025-08-19T16:21:28.841Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T16:21:28.841Z","level":"info","message":"Successfully fetched diff: 15 files, +1595/-65 lines"}
{"timestamp":"2025-08-19T16:21:28.842Z","level":"debug","message":"Diff data saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755620446635-hohjw7/logs/diffs/diff-pr-pr-18782-2025-08-19T16-21-28-842Z.txt"}
{"timestamp":"2025-08-19T16:21:28.842Z","level":"debug","message":"Completed step 3: Fetch PR info and diffs"}
{"timestamp":"2025-08-19T16:21:28.842Z","level":"info","message":"\u001b[34m[4/8]\u001b[39m Loading rules and building review context..."}
{"timestamp":"2025-08-19T16:21:28.842Z","level":"debug","message":"Starting step 4: Load rules and build context"}
{"timestamp":"2025-08-19T16:21:28.843Z","level":"info","message":"Loading review rules and guidelines"}
{"timestamp":"2025-08-19T16:21:28.843Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T16:21:28.843Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T16:21:28.845Z","level":"warn","message":"No rules found in /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T16:21:28.845Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T16:21:28.846Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T16:21:28.847Z","level":"debug","message":"Loaded 28 rules from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T16:21:28.847Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T16:21:28.848Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T16:21:28.848Z","level":"debug","message":"Loaded guideline \"Azure DevOps Review Rules\" from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T16:21:28.848Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T16:21:28.849Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T16:21:28.849Z","level":"debug","message":"Loaded guideline \"React Native Field App - Architecture Guide\" from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T16:21:28.849Z","level":"info","message":"Loaded 1 rule sets, 28 total rules (28 enabled), 2 guidelines"}
{"timestamp":"2025-08-19T16:21:28.849Z","level":"debug","message":"Completed loadRules"}
{"timestamp":"2025-08-19T16:21:28.850Z","level":"info","message":"Building review context"}
{"timestamp":"2025-08-19T16:21:28.850Z","level":"info","message":"Context built: 15 files, 32 hunks, 28 rules, 2 guidelines"}
{"timestamp":"2025-08-19T16:21:28.850Z","level":"debug","message":"Completed step 4: Load rules and build context"}
{"timestamp":"2025-08-19T16:21:28.850Z","level":"info","message":"\u001b[34m[5/8]\u001b[39m Planning and executing AI review..."}
{"timestamp":"2025-08-19T16:21:28.850Z","level":"debug","message":"Starting step 5: Plan and execute review"}
{"timestamp":"2025-08-19T16:21:28.850Z","level":"info","message":"Creating review plan"}
{"timestamp":"2025-08-19T16:21:28.850Z","level":"debug","message":"Completed planReview"}
{"timestamp":"2025-08-19T16:21:28.851Z","level":"debug","message":"Executing Gemini review with plan"}
{"timestamp":"2025-08-19T16:21:28.851Z","level":"info","message":"Executing single batch review"}
{"timestamp":"2025-08-19T16:21:28.851Z","level":"info","message":"Starting Gemini review with model: gemini-2.5-flash"}
{"timestamp":"2025-08-19T16:21:28.851Z","level":"debug","message":"Prompt data saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755620446635-hohjw7/logs/prompts/prompt-pr-review-2025-08-19T16-21-28-851Z.txt"}
{"timestamp":"2025-08-19T16:21:28.852Z","level":"debug","message":"Spawning Gemini CLI with stdin approach"}
{"timestamp":"2025-08-19T16:21:29.629Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T16:21:29.703Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T16:21:29.730Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T16:21:31.950Z","level":"debug","message":"Gemini CLI stderr: Attempt 1 failed with status 429. Retrying with backoff... GaxiosError: [{\n  \"error\": {\n    \"code\": 429,\n    \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\n    \"errors\": [\n      {\n        \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\n        \"domain\": \"global\",\n        \"reason\": \"rateLimitExceeded\"\n      }\n    ],\n    \"status\": \"RESOURCE_EXHAUSTED\"\n  }\n}\n]\n    at Gaxios._request (/Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/gaxios/build/src/gaxios.js:142:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OAuth2Client.requestAsync (/Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/google-auth-library/build/src/auth/oauth2client.js:429:18)\n    at async CodeAssistServer.streamEndpoint (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/code_assist/server.js:60:21)\n    at async CodeAssistServer.generateContentStream (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/code_assist/server.js:21:23)\n    at async retryWithBackoff (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/utils/retry.js:61:20)\n    at async GeminiChat.sendMessageStream (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/core/geminiChat.js:287:36)\n    at async runNonInteractive (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/dist/src/nonInteractiveCli.js:43:36)\n    at async main (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/dist/src/gemini.js:154:5) {\n  config: {\n    url: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse',\n    method: 'POST',\n    params: { alt: 'sse' },\n    headers: {\n      'Content-Type': 'application/json',\n      'User-Agent': 'GeminiCLI/v20.19.0 (darwin; arm64) google-api-nodejs-client/9.15.1',\n      Authorization: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n      'x-goog-api-client': 'gl-node/20.19.0'\n    },\n    responseType: 'stream',\n    body: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n    signal: AbortSignal { aborted: false },\n    paramsSerializer: [Function: paramsSerializer],\n    validateStatus: [Function: validateStatus],\n    errorRedactor: [Function: defaultErrorRedactor]\n  },\n  response: {\n    config: {\n      url: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse',\n      method: 'POST',\n      params: [Object],\n      headers: [Object],\n      responseType: 'stream',\n      body: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n      signal: [AbortSignal],\n      paramsSerializer: [Function: paramsSerializer],\n      validateStatus: [Function: validateStatus],\n      errorRedactor: [Function: defaultErrorRedactor]\n    },\n    data: '[{\\n' +\n      '  \"error\": {\\n' +\n      '    \"code\": 429,\\n' +\n      '    \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\\n' +\n      '    \"errors\": [\\n' +\n      '      {\\n' +\n      '        \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\\n' +\n      '        \"domain\": \"global\",\\n' +\n      '        \"reason\": \"rateLimitExceeded\"\\n' +\n      '      }\\n' +\n      '    ],\\n' +\n      '    \"status\": \"RESOURCE_EXHAUSTED\"\\n' +\n      '  }\\n' +\n      '}\\n' +\n      ']',\n    headers: {\n      'alt-svc': 'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000',\n      'content-length': '514',\n      'content-type': 'application/json; charset=UTF-8',\n      date: 'Tue, 19 Aug 2025 16:21:32 GMT',\n      server: 'ESF',\n      'server-timing': 'gfet4t7; dur=688',\n      vary: 'Origin, X-Origin, Referer',\n      'x-content-type-options': 'nosniff',\n      'x-frame-options': 'SAMEORIGIN',\n      'x-xss-protection': '0'\n    },\n    status: 429,\n    statusText: 'Too Many Requests',\n    request: {\n      responseURL: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse'\n    }\n  },\n  error: undefined,\n  status: 429,\n  [Symbol(gaxios-gaxios-error)]: '6.7.1'\n}"}
{"timestamp":"2025-08-19T16:21:36.680Z","level":"debug","message":"Gemini CLI stderr: Attempt 2 failed with status 429. Retrying with backoff... GaxiosError: [{\n  \"error\": {\n    \"code\": 429,\n    \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\n    \"errors\": [\n      {\n        \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\n        \"domain\": \"global\",\n        \"reason\": \"rateLimitExceeded\"\n      }\n    ],\n    \"status\": \"RESOURCE_EXHAUSTED\"\n  }\n}\n]\n    at Gaxios._request (/Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/gaxios/build/src/gaxios.js:142:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OAuth2Client.requestAsync (/Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/google-auth-library/build/src/auth/oauth2client.js:429:18)\n    at async CodeAssistServer.streamEndpoint (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/code_assist/server.js:60:21)\n    at async CodeAssistServer.generateContentStream (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/code_assist/server.js:21:23)\n    at async retryWithBackoff (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/utils/retry.js:61:20)\n    at async GeminiChat.sendMessageStream (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/core/geminiChat.js:287:36)\n    at async runNonInteractive (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/dist/src/nonInteractiveCli.js:43:36)\n    at async main (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/dist/src/gemini.js:154:5) {\n  config: {\n    url: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse',\n    method: 'POST',\n    params: { alt: 'sse' },\n    headers: {\n      'Content-Type': 'application/json',\n      'User-Agent': 'GeminiCLI/v20.19.0 (darwin; arm64) google-api-nodejs-client/9.15.1',\n      Authorization: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n      'x-goog-api-client': 'gl-node/20.19.0'\n    },\n    responseType: 'stream',\n    body: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n    signal: AbortSignal { aborted: false },\n    paramsSerializer: [Function: paramsSerializer],\n    validateStatus: [Function: validateStatus],\n    errorRedactor: [Function: defaultErrorRedactor]\n  },\n  response: {\n    config: {\n      url: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse',\n      method: 'POST',\n      params: [Object],\n      headers: [Object],\n      responseType: 'stream',\n      body: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n      signal: [AbortSignal],\n      paramsSerializer: [Function: paramsSerializer],\n      validateStatus: [Function: validateStatus],\n      errorRedactor: [Function: defaultErrorRedactor]\n    },\n    data: '[{\\n' +\n      '  \"error\": {\\n' +\n      '    \"code\": 429,\\n' +\n      '    \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\\n' +\n      '    \"errors\": [\\n' +\n      '      {\\n' +\n      '        \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\\n' +\n      '        \"domain\": \"global\",\\n' +\n      '        \"reason\": \"rateLimitExceeded\"\\n' +\n      '      }\\n' +\n      '    ],\\n' +\n      '    \"status\": \"RESOURCE_EXHAUSTED\"\\n' +\n      '  }\\n' +\n      '}\\n' +\n      ']',\n    headers: {\n      'alt-svc': 'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000',\n      'content-length': '514',\n      'content-type': 'application/json; charset=UTF-8',\n      date: 'Tue, 19 Aug 2025 16:21:36 GMT',\n      server: 'ESF',\n      'server-timing': 'gfet4t7; dur=508',\n      vary: 'Origin, X-Origin, Referer',\n      'x-content-type-options': 'nosniff',\n      'x-frame-options': 'SAMEORIGIN',\n      'x-xss-protection': '0'\n    },\n    status: 429,\n    statusText: 'Too Many Requests',\n    request: {\n      responseURL: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse'\n    }\n  },\n  error: undefined,\n  status: 429,\n  [Symbol(gaxios-gaxios-error)]: '6.7.1'\n}"}
{"timestamp":"2025-08-19T16:21:45.189Z","level":"debug","message":"Gemini CLI stderr: Attempt 3 failed with status 429. Retrying with backoff... GaxiosError: [{\n  \"error\": {\n    \"code\": 429,\n    \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\n    \"errors\": [\n      {\n        \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\n        \"domain\": \"global\",\n        \"reason\": \"rateLimitExceeded\"\n      }\n    ],\n    \"status\": \"RESOURCE_EXHAUSTED\"\n  }\n}\n]\n    at Gaxios._request (/Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/gaxios/build/src/gaxios.js:142:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OAuth2Client.requestAsync (/Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/google-auth-library/build/src/auth/oauth2client.js:429:18)\n    at async CodeAssistServer.streamEndpoint (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/code_assist/server.js:60:21)\n    at async CodeAssistServer.generateContentStream (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/code_assist/server.js:21:23)\n    at async retryWithBackoff (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/utils/retry.js:61:20)\n    at async GeminiChat.sendMessageStream (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/core/geminiChat.js:287:36)\n    at async runNonInteractive (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/dist/src/nonInteractiveCli.js:43:36)\n    at async main (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/dist/src/gemini.js:154:5) {\n  config: {\n    url: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse',\n    method: 'POST',\n    params: { alt: 'sse' },\n    headers: {\n      'Content-Type': 'application/json',\n      'User-Agent': 'GeminiCLI/v20.19.0 (darwin; arm64) google-api-nodejs-client/9.15.1',\n      Authorization: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n      'x-goog-api-client': 'gl-node/20.19.0'\n    },\n    responseType: 'stream',\n    body: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n    signal: AbortSignal { aborted: false },\n    paramsSerializer: [Function: paramsSerializer],\n    validateStatus: [Function: validateStatus],\n    errorRedactor: [Function: defaultErrorRedactor]\n  },\n  response: {\n    config: {\n      url: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse',\n      method: 'POST',\n      params: [Object],\n      headers: [Object],\n      responseType: 'stream',\n      body: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n      signal: [AbortSignal],\n      paramsSerializer: [Function: paramsSerializer],\n      validateStatus: [Function: validateStatus],\n      errorRedactor: [Function: defaultErrorRedactor]\n    },\n    data: '[{\\n' +\n      '  \"error\": {\\n' +\n      '    \"code\": 429,\\n' +\n      '    \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\\n' +\n      '    \"errors\": [\\n' +\n      '      {\\n' +\n      '        \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\\n' +\n      '        \"domain\": \"global\",\\n' +\n      '        \"reason\": \"rateLimitExceeded\"\\n' +\n      '      }\\n' +\n      '    ],\\n' +\n      '    \"status\": \"RESOURCE_EXHAUSTED\"\\n' +\n      '  }\\n' +\n      '}\\n' +\n      ']',\n    headers: {\n      'alt-svc': 'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000',\n      'content-length': '514',\n      'content-type': 'application/json; charset=UTF-8',\n      date: 'Tue, 19 Aug 2025 16:21:45 GMT',\n      server: 'ESF',\n      'server-timing': 'gfet4t7; dur=844',\n      vary: 'Origin, X-Origin, Referer',\n      'x-content-type-options': 'nosniff',\n      'x-frame-options': 'SAMEORIGIN',\n      'x-xss-protection': '0'\n    },\n    status: 429,\n    statusText: 'Too Many Requests',\n    request: {\n      responseURL: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse'\n    }\n  },\n  error: undefined,\n  status: 429,\n  [Symbol(gaxios-gaxios-error)]: '6.7.1'\n}"}
{"timestamp":"2025-08-19T16:22:56.407Z","level":"debug","message":"Gemini CLI stdout: ```json\n{\n  \"findings\": [\n    {\n      \"file\": \"/__tests__/app/lib/request-service-helper.test.ts\",\n      \"line\": 1,\n      \"endLine\": 215,\n      \"severity\": \"error\",\n      \""}
{"timestamp":"2025-08-19T16:22:56.408Z","level":"debug","message":"Gemini CLI stdout: message\": \"🐞 Bu test dosyası, test edilmesi gereken fonksiyonların kendisini mock'layarak sadece mock'un doğru çalışıp çalışmadığını kontrol ediyor. Fonksiyonların gerçek implementasyon logiği test edilmiyor ve bu durum hatalı bir güvenlik hissiyatı yaratıyor.\",\n      \"suggestion\": \"Test edilen fonksiyonları mock'lamak yerine, gerçek fonksiyonları import edip farklı girdilerle davranışlarını test edin. Örneğin, `checkIfAssembleProductHasNoSerialNumber` fonksiyonunu mock'lamak yerine, ona çeşitli `transferableProducts` objeleri göndererek dönen sonucun doğruluğunu kontrol edin.\",\n      \""}
{"timestamp":"2025-08-19T16:22:56.854Z","level":"debug","message":"Gemini CLI stdout: ruleId\": \"unit-test-coverage\",\n      \"category\": \"testing\"\n    },\n    {\n      \"file\": \"/__tests__/app/lib/regex-validate-operation.test.ts\",\n      \"line\": 30,\n      \"endLine\": 36,"}
{"timestamp":"2025-08-19T16:22:57.328Z","level":"debug","message":"Gemini CLI stdout: \"severity\": \"error\",\n      \"message\": \"🐞 `validateGSMNo` için yazılan test, fonksiyonun kendisini çağırmak yerine doğrudan konfigürasyon dosyasındaki bir `regex`'i test ediyor. Ayrıca, implementasyonda kullanılan `PHONE_REGEX2` yerine `PHONE"}
{"timestamp":"2025-08-19T16:22:57.774Z","level":"debug","message":"Gemini CLI stdout: _REGEX` kullanılmış.\",\n      \"suggestion\": \"Testi, `validateGSMNo` fonksiyonunu geçerli ve geçersiz telefon numaralarıyla çağıracak ve dönen boolean değeri kontrol edecek şekilde düzeltin. `expect(validateGSMNo('5551234567')).toBe("}
{"timestamp":"2025-08-19T16:22:58.315Z","level":"debug","message":"Gemini CLI stdout: true);` gibi.\",\n      \"ruleId\": \"unit-test-coverage\",\n      \"category\": \"testing\"\n    },\n    {\n      \"file\": \"/__tests__/app/lib/route-helper.test.ts\",\n      \"line\": 150,\n      \""}
{"timestamp":"2025-08-19T16:22:58.762Z","level":"debug","message":"Gemini CLI stdout: endLine\": 235,\n      \"severity\": \"error\",\n      \"message\": \"🐞 `getLastUnfilledDayOfCurrentRoute` fonksiyonu için yazılan testlerdeki `assertion`'lar (doğrulamalar) hatalı görünüyor. Test açıklaması doldurulmamış bir"}
{"timestamp":"2025-08-19T16:22:59.237Z","level":"debug","message":"Gemini CLI stdout: günün dönmesi gerektiğini belirtirken, test sonucu `undefined` olarak bekleniyor. Bu durum, testin fonksiyonu doğru şekilde doğrulamadığını gösteriyor.\",\n      \"suggestion\": \"Test senaryolarını ve mock datayı gözden geçirin. Fonksiyonun, mock dataya göre gerçekten bir gün objesi"}
{"timestamp":"2025-08-19T16:22:59.753Z","level":"debug","message":"Gemini CLI stdout: dönmesi gereken durumlarda `expect(result).toEqual(...)` ile doğru objeyi beklediğinden emin olun. `toBeUndefined()` beklentisini yalnızca gerçekten `undefined` dönmesi gereken durumlar için kullanın.\",\n      \"ruleId\": \"unit-test-coverage\",\n      \"category\": \""}
{"timestamp":"2025-08-19T16:23:00.172Z","level":"debug","message":"Gemini CLI stdout: testing\"\n    },\n    {\n      \"file\": \"/app/lib/request-service-helper.ts\",\n      \"line\": 65,\n      \"endLine\": 65,\n      \"severity\": \"error\",\n      \"message\": \"Fonksiyon parametrelerinde"}
{"timestamp":"2025-08-19T16:23:00.657Z","level":"debug","message":"Gemini CLI stdout: `any` tipi kullanılmış. Bu durum tip güvenliğini zayıflatır ve potansiyel hatalara yol açabilir.\",\n      \"suggestion\": \"`allServiceFormItems: any` ve `processingServiceFormItem: any` gibi tanımlamalar yerine, ilgili objelerin yapısını yansıtan `interface` veya"}
{"timestamp":"2025-08-19T16:23:01.101Z","level":"debug","message":"Gemini CLI stdout: `type` tanımları oluşturup kullanın.\",\n      \"ruleId\": \"no-any-type\",\n      \"category\": \"typescript\"\n    },\n    {\n      \"file\": \"/app/lib/request-service-helper.ts\",\n      \"line\": 205"}
{"timestamp":"2025-08-19T16:23:01.542Z","level":"debug","message":"Gemini CLI stdout: ,\n      \"endLine\": 205,\n      \"severity\": \"error\",\n      \"message\": \"Fonksiyon parametresinde `any` tipi kullanılmış. Bu durum tip güvenliğini zayıflatır ve potansiyel hatalara yol açabilir.\",\n      \"suggestion\": \"`answers:"}
{"timestamp":"2025-08-19T16:23:02.022Z","level":"debug","message":"Gemini CLI stdout: any` yerine, cevapların yapısını yansıtan daha spesifik bir tip (`{ [key: string]: string | number | boolean }` gibi) veya bir `interface` kullanın.\",\n      \"ruleId\": \"no-any-type\",\n      \"category\": \"typescript\"\n    },"}
{"timestamp":"2025-08-19T16:23:02.528Z","level":"debug","message":"Gemini CLI stdout: {\n      \"file\": \"/app/lib/request-service-helper.ts\",\n      \"line\": 5,\n      \"endLine\": 5,\n      \"severity\": \"warning\",\n      \"message\": \"Koddaki `TODO: ... ÇAĞLAR BURAYA BAK !!!` yorum"}
{"timestamp":"2025-08-19T16:23:02.902Z","level":"debug","message":"Gemini CLI stdout: u, çözülmesi gereken potansiyel bir tip sorununa işaret ediyor.\",\n      \"suggestion\": \"💡 Bu `TODO` yorumunda belirtilen tip uyuşmazlığını araştırın ve ilgili tipi düzelterek veya `any` yerine doğru tipi kullanarak sorunu giderin.\",\n      \"rule"}
{"timestamp":"2025-08-19T16:23:03.353Z","level":"debug","message":"Gemini CLI stdout: Id\": \"code-quality\",\n      \"category\": \"code-quality\"\n    },\n    {\n      \"file\": \"/app/lib/route-helper.ts\",\n      \"line\": 11,\n      \"endLine\": 11,\n      \"severity\": \""}
{"timestamp":"2025-08-19T16:23:03.859Z","level":"debug","message":"Gemini CLI stdout: error\",\n      \"message\": \"`getWeekDataResult` fonksiyonu `_weekNumber` parametresi için `any` tipi kullanıyor.\",\n      \"suggestion\": \"💡 Parametre tipini `_weekNumber?: number` olarak değiştirerek tip güvenliğini sağlayın.\",\n      \"ruleId\": \""}
{"timestamp":"2025-08-19T16:23:04.191Z","level":"debug","message":"Gemini CLI stdout: no-any-type\",\n      \"category\": \"typescript\"\n    },\n    {\n      \"file\": \"/app/lib/print-provider.ts\",\n      \"line\": 15,\n      \"endLine\": 15,\n      \"severity\": \"error\","}
{"timestamp":"2025-08-19T16:23:04.665Z","level":"debug","message":"Gemini CLI stdout: \"message\": \"`printHtml` fonksiyonunun dönüş tipi `Promise<any>` olarak belirtilmiş. Fonksiyonun implementasyonuna bakıldığında daha spesifik bir tip kullanılabilir.\",\n      \"suggestion\": \"💡 Fonksiyonun dönüş tipini `Promise<boolean | null>` olarak güncelleyerek kodun tip"}
{"timestamp":"2025-08-19T16:23:05.118Z","level":"debug","message":"Gemini CLI stdout: güvenliğini ve okunabilirliğini artırın.\",\n      \"ruleId\": \"no-any-type\",\n      \"category\": \"typescript\"\n    },\n    {\n      \"file\": \"/app/lib/print-provider.ts\",\n      \"line\": 59,\n      \""}
{"timestamp":"2025-08-19T16:23:05.557Z","level":"debug","message":"Gemini CLI stdout: endLine\": 59,\n      \"severity\": \"error\",\n      \"message\": \"`printPdf` fonksiyonunun dönüş tipi `Promise<any>` olarak belirtilmiş. Fonksiyonun implementasyonuna bakıldığında daha spesifik bir tip kullanılabilir.\",\n      \"suggestion\": \"💡 Fonksiyonun"}
{"timestamp":"2025-08-19T16:23:05.963Z","level":"debug","message":"Gemini CLI stdout: dönüş tipini `Promise<boolean | null>` olarak güncelleyerek kodun tip güvenliğini ve okunabilirliğini artırın.\",\n      \"ruleId\": \"no-any-type\",\n      \"category\": \"typescript\"\n    },\n    {\n      \"file\": \"/__tests__/"}
{"timestamp":"2025-08-19T16:23:06.522Z","level":"debug","message":"Gemini CLI stdout: app/lib/location-helper.test.ts\",\n      \"line\": 141,\n      \"endLine\": 141,\n      \"severity\": \"error\",\n      \"message\": \"Test dosyasında `any` tipi kullanılmış. Tip güvenliğini artırmak için"}
{"timestamp":"2025-08-19T16:23:07.124Z","level":"debug","message":"Gemini CLI stdout: `any` yerine daha spesifik tipler kullanılmalıdır.\",\n      \"suggestion\": \"💡 `as any` kullanımından kaçının. Mock nesneler için `jest.Mocked<T>` gibi yardımcı tipler kullanarak veya `ApiResponseContext` için sahte bir state objesi oluşturarak tipi koruyun.\","}
{"timestamp":"2025-08-19T16:23:07.593Z","level":"debug","message":"Gemini CLI stdout: \"ruleId\": \"no-any-type\",\n      \"category\": \"typescript\"\n    }\n  ],\n  \"summary\": \"Kod değişiklikleri genel olarak test kapsamını artırmaya ve dokümantasyon eklemeye yönelik. Ancak, eklenen testlerin bir kısmında ciddi mantık"}
{"timestamp":"2025-08-19T16:23:08.062Z","level":"debug","message":"Gemini CLI stdout: hataları (hatalı mock kullanımı, yanlış doğrulamalar) tespit edildi. Bu testler, fonksiyonların doğru çalıştığını garanti etmiyor ve düzeltilmeli. Ayrıca, proje kurallarına aykırı olarak birden fazla dosyada `any` tipi kullanımı mevcut; bu kullanımların kaldırılıp spesifik"}
{"timestamp":"2025-08-19T16:23:08.353Z","level":"debug","message":"Gemini CLI stdout: tiplerle değiştirilmesi gerekiyor. Fonksiyonlara eklenen JSDoc yorumları ise kodun okunabilirliğini artıran olumlu bir gelişme.\"\n}\n```"}
{"timestamp":"2025-08-19T16:23:08.363Z","level":"debug","message":"Gemini CLI stdout: "}
{"timestamp":"2025-08-19T16:23:08.373Z","level":"debug","message":"Gemini CLI exited with code: 0"}
{"timestamp":"2025-08-19T16:23:08.373Z","level":"debug","message":"Gemini CLI final stdout: [dotenv@16.6.0] injecting env (9) from .env\n[dotenv@16.6.0] injecting env (9) from .env\n[dotenv@16.6.0] injecting env (9) from .env\n```json\n{\n  \"findings\": [\n    {\n      \"file\": \"/__tests__/app/lib/request-service-helper.test.ts\",\n      \"line\": 1,\n      \"endLine\": 215,\n      \"severity\": \"error\",\n      \"message\": \"🐞 Bu test dosyası, test edilmesi gereken fonksiyonların kendisini mock'layarak sadece mock'un doğru çalışıp çalışmadığını kontrol ediyor. Fonksiyonların gerçek implementasyon logiği test edilmiyor ve bu durum hatalı bir güvenlik hissiyatı yaratıyor.\",\n      \"suggestion\": \"Test edilen fonksiyonları mock'lamak yerine, gerçek fonksiyonları import edip farklı girdilerle davranışlarını test edin. Örneğin, `checkIfAssembleProductHasNoSerialNumber` fonksiyonunu mock'lamak yerine, ona çeşitli `transferableProducts` objeleri göndererek dönen sonucun doğruluğunu kontrol edin.\",\n      \"ruleId\": \"unit-test-coverage\",\n      \"category\": \"testing\"\n    },\n    {\n      \"file\": \"/__tests__/app/lib/regex-validate-operation.test.ts\",\n      \"line\": 30,\n      \"endLine\": 36,\n      \"severity\": \"error\",\n      \"message\": \"🐞 `validateGSMNo` için yazılan test, fonksiyonun kendisini çağırmak yerine doğrudan konfigürasyon dosyasındaki bir `regex`'i test ediyor. Ayrıca, implementasyonda kullanılan `PHONE_REGEX2` yerine `PHONE_REGEX` kullanılmış.\",\n      \"suggestion\": \"Testi, `validateGSMNo` fonksiyonunu geçerli ve geçersiz telefon numaralarıyla çağıracak ve dönen boolean değeri kontrol edecek şekilde düzeltin. `expect(validateGSMNo('5551234567')).toBe(true);` gibi.\",\n      \"ruleId\": \"unit-test-coverage\",\n      \"category\": \"testing\"\n    },\n    {\n      \"file\": \"/__tests__/app/lib/route-helper.test.ts\",\n      \"line\": 150,\n      \"endLine\": 235,\n      \"severity\": \"error\",\n      \"message\": \"🐞 `getLastUnfilledDayOfCurrentRoute` fonksiyonu için yazılan testlerdeki `assertion`'lar (doğrulamalar) hatalı görünüyor. Test açıklaması doldurulmamış bir günün dönmesi gerektiğini belirtirken, test sonucu `undefined` olarak bekleniyor. Bu durum, testin fonksiyonu doğru şekilde doğrulamadığını gösteriyor.\",\n      \"suggestion\": \"Test senaryolarını ve mock datayı gözden geçirin. Fonksiyonun, mock dataya göre gerçekten bir gün objesi dönmesi gereken durumlarda `expect(result).toEqual(...)` ile doğru objeyi beklediğinden emin olun. `toBeUndefined()` beklentisini yalnızca gerçekten `undefined` dönmesi gereken durumlar için kullanın.\",\n      \"ruleId\": \"unit-test-coverage\",\n      \"category\": \"testing\"\n    },\n    {\n      \"file\": \"/app/lib/request-service-helper.ts\",\n      \"line\": 65,\n      \"endLine\": 65,\n      \"severity\": \"error\",\n      \"message\": \"Fonksiyon parametrelerinde `any` tipi kullanılmış. Bu durum tip güvenliğini zayıflatır ve potansiyel hatalara yol açabilir.\",\n      \"suggestion\": \"`allServiceFormItems: any` ve `processingServiceFormItem: any` gibi tanımlamalar yerine, ilgili objelerin yapısını yansıtan `interface` veya `type` tanımları oluşturup kullanın.\",\n      \"ruleId\": \"no-any-type\",\n      \"category\": \"typescript\"\n    },\n    {\n      \"file\": \"/app/lib/request-service-helper.ts\",\n      \"line\": 205,\n      \"endLine\": 205,\n      \"severity\": \"error\",\n      \"message\": \"Fonksiyon parametresinde `any` tipi kullanılmış. Bu durum tip güvenliğini zayıflatır ve potansiyel hatalara yol açabilir.\",\n      \"suggestion\": \"`answers: any` yerine, cevapların yapısını yansıtan daha spesifik bir tip (`{ [key: string]: string | number | boolean }` gibi) veya bir `interface` kullanın.\",\n      \"ruleId\": \"no-any-type\",\n      \"category\": \"typescript\"\n    },\n    {\n      \"file\": \"/app/lib/request-service-helper.ts\",\n      \"line\": 5,\n      \"endLine\": 5,\n      \"severity\": \"warning\",\n      \"message\": \"Koddaki `TODO: ... ÇAĞLAR BURAYA BAK !!!` yorumu, çözülmesi gereken potansiyel bir tip sorununa işaret ediyor.\",\n      \"suggestion\": \"💡 Bu `TODO` yorumunda belirtilen tip uyuşmazlığını araştırın ve ilgili tipi düzelterek veya `any` yerine doğru tipi kullanarak sorunu giderin.\",\n      \"ruleId\": \"code-quality\",\n      \"category\": \"code-quality\"\n    },\n    {\n      \"file\": \"/app/lib/route-helper.ts\",\n      \"line\": 11,\n      \"endLine\": 11,\n      \"severity\": \"error\",\n      \"message\": \"`getWeekDataResult` fonksiyonu `_weekNumber` parametresi için `any` tipi kullanıyor.\",\n      \"suggestion\": \"💡 Parametre tipini `_weekNumber?: number` olarak değiştirerek tip güvenliğini sağlayın.\",\n      \"ruleId\": \"no-any-type\",\n      \"category\": \"typescript\"\n    },\n    {\n      \"file\": \"/app/lib/print-provider.ts\",\n      \"line\": 15,\n      \"endLine\": 15,\n      \"severity\": \"error\",\n      \"message\": \"`printHtml` fonksiyonunun dönüş tipi `Promise<any>` olarak belirtilmiş. Fonksiyonun implementasyonuna bakıldığında daha spesifik bir tip kullanılabilir.\",\n      \"suggestion\": \"💡 Fonksiyonun dönüş tipini `Promise<boolean | null>` olarak güncelleyerek kodun tip güvenliğini ve okunabilirliğini artırın.\",\n      \"ruleId\": \"no-any-type\",\n      \"category\": \"typescript\"\n    },\n    {\n      \"file\": \"/app/lib/print-provider.ts\",\n      \"line\": 59,\n      \"endLine\": 59,\n      \"severity\": \"error\",\n      \"message\": \"`printPdf` fonksiyonunun dönüş tipi `Promise<any>` olarak belirtilmiş. Fonksiyonun implementasyonuna bakıldığında daha spesifik bir tip kullanılabilir.\",\n      \"suggestion\": \"💡 Fonksiyonun dönüş tipini `Promise<boolean | null>` olarak güncelleyerek kodun tip güvenliğini ve okunabilirliğini artırın.\",\n      \"ruleId\": \"no-any-type\",\n      \"category\": \"typescript\"\n    },\n    {\n      \"file\": \"/__tests__/app/lib/location-helper.test.ts\",\n      \"line\": 141,\n      \"endLine\": 141,\n      \"severity\": \"error\",\n      \"message\": \"Test dosyasında `any` tipi kullanılmış. Tip güvenliğini artırmak için `any` yerine daha spesifik tipler kullanılmalıdır.\",\n      \"suggestion\": \"💡 `as any` kullanımından kaçının. Mock nesneler için `jest.Mocked<T>` gibi yardımcı tipler kullanarak veya `ApiResponseContext` için sahte bir state objesi oluşturarak tipi koruyun.\",\n      \"ruleId\": \"no-any-type\",\n      \"category\": \"typescript\"\n    }\n  ],\n  \"summary\": \"Kod değişiklikleri genel olarak test kapsamını artırmaya ve dokümantasyon eklemeye yönelik. Ancak, eklenen testlerin bir kısmında ciddi mantık hataları (hatalı mock kullanımı, yanlış doğrulamalar) tespit edildi. Bu testler, fonksiyonların doğru çalıştığını garanti etmiyor ve düzeltilmeli. Ayrıca, proje kurallarına aykırı olarak birden fazla dosyada `any` tipi kullanımı mevcut; bu kullanımların kaldırılıp spesifik tiplerle değiştirilmesi gerekiyor. Fonksiyonlara eklenen JSDoc yorumları ise kodun okunabilirliğini artıran olumlu bir gelişme.\"\n}\n```"}
{"timestamp":"2025-08-19T16:23:08.374Z","level":"debug","message":"Gemini CLI final stderr: Attempt 1 failed with status 429. Retrying with backoff... GaxiosError: [{\n  \"error\": {\n    \"code\": 429,\n    \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\n    \"errors\": [\n      {\n        \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\n        \"domain\": \"global\",\n        \"reason\": \"rateLimitExceeded\"\n      }\n    ],\n    \"status\": \"RESOURCE_EXHAUSTED\"\n  }\n}\n]\n    at Gaxios._request (/Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/gaxios/build/src/gaxios.js:142:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OAuth2Client.requestAsync (/Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/google-auth-library/build/src/auth/oauth2client.js:429:18)\n    at async CodeAssistServer.streamEndpoint (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/code_assist/server.js:60:21)\n    at async CodeAssistServer.generateContentStream (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/code_assist/server.js:21:23)\n    at async retryWithBackoff (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/utils/retry.js:61:20)\n    at async GeminiChat.sendMessageStream (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/core/geminiChat.js:287:36)\n    at async runNonInteractive (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/dist/src/nonInteractiveCli.js:43:36)\n    at async main (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/dist/src/gemini.js:154:5) {\n  config: {\n    url: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse',\n    method: 'POST',\n    params: { alt: 'sse' },\n    headers: {\n      'Content-Type': 'application/json',\n      'User-Agent': 'GeminiCLI/v20.19.0 (darwin; arm64) google-api-nodejs-client/9.15.1',\n      Authorization: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n      'x-goog-api-client': 'gl-node/20.19.0'\n    },\n    responseType: 'stream',\n    body: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n    signal: AbortSignal { aborted: false },\n    paramsSerializer: [Function: paramsSerializer],\n    validateStatus: [Function: validateStatus],\n    errorRedactor: [Function: defaultErrorRedactor]\n  },\n  response: {\n    config: {\n      url: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse',\n      method: 'POST',\n      params: [Object],\n      headers: [Object],\n      responseType: 'stream',\n      body: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n      signal: [AbortSignal],\n      paramsSerializer: [Function: paramsSerializer],\n      validateStatus: [Function: validateStatus],\n      errorRedactor: [Function: defaultErrorRedactor]\n    },\n    data: '[{\\n' +\n      '  \"error\": {\\n' +\n      '    \"code\": 429,\\n' +\n      '    \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\\n' +\n      '    \"errors\": [\\n' +\n      '      {\\n' +\n      '        \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\\n' +\n      '        \"domain\": \"global\",\\n' +\n      '        \"reason\": \"rateLimitExceeded\"\\n' +\n      '      }\\n' +\n      '    ],\\n' +\n      '    \"status\": \"RESOURCE_EXHAUSTED\"\\n' +\n      '  }\\n' +\n      '}\\n' +\n      ']',\n    headers: {\n      'alt-svc': 'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000',\n      'content-length': '514',\n      'content-type': 'application/json; charset=UTF-8',\n      date: 'Tue, 19 Aug 2025 16:21:32 GMT',\n      server: 'ESF',\n      'server-timing': 'gfet4t7; dur=688',\n      vary: 'Origin, X-Origin, Referer',\n      'x-content-type-options': 'nosniff',\n      'x-frame-options': 'SAMEORIGIN',\n      'x-xss-protection': '0'\n    },\n    status: 429,\n    statusText: 'Too Many Requests',\n    request: {\n      responseURL: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse'\n    }\n  },\n  error: undefined,\n  status: 429,\n  [Symbol(gaxios-gaxios-error)]: '6.7.1'\n}\nAttempt 2 failed with status 429. Retrying with backoff... GaxiosError: [{\n  \"error\": {\n    \"code\": 429,\n    \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\n    \"errors\": [\n      {\n        \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\n        \"domain\": \"global\",\n        \"reason\": \"rateLimitExceeded\"\n      }\n    ],\n    \"status\": \"RESOURCE_EXHAUSTED\"\n  }\n}\n]\n    at Gaxios._request (/Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/gaxios/build/src/gaxios.js:142:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OAuth2Client.requestAsync (/Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/google-auth-library/build/src/auth/oauth2client.js:429:18)\n    at async CodeAssistServer.streamEndpoint (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/code_assist/server.js:60:21)\n    at async CodeAssistServer.generateContentStream (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/code_assist/server.js:21:23)\n    at async retryWithBackoff (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/utils/retry.js:61:20)\n    at async GeminiChat.sendMessageStream (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/core/geminiChat.js:287:36)\n    at async runNonInteractive (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/dist/src/nonInteractiveCli.js:43:36)\n    at async main (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/dist/src/gemini.js:154:5) {\n  config: {\n    url: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse',\n    method: 'POST',\n    params: { alt: 'sse' },\n    headers: {\n      'Content-Type': 'application/json',\n      'User-Agent': 'GeminiCLI/v20.19.0 (darwin; arm64) google-api-nodejs-client/9.15.1',\n      Authorization: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n      'x-goog-api-client': 'gl-node/20.19.0'\n    },\n    responseType: 'stream',\n    body: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n    signal: AbortSignal { aborted: false },\n    paramsSerializer: [Function: paramsSerializer],\n    validateStatus: [Function: validateStatus],\n    errorRedactor: [Function: defaultErrorRedactor]\n  },\n  response: {\n    config: {\n      url: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse',\n      method: 'POST',\n      params: [Object],\n      headers: [Object],\n      responseType: 'stream',\n      body: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n      signal: [AbortSignal],\n      paramsSerializer: [Function: paramsSerializer],\n      validateStatus: [Function: validateStatus],\n      errorRedactor: [Function: defaultErrorRedactor]\n    },\n    data: '[{\\n' +\n      '  \"error\": {\\n' +\n      '    \"code\": 429,\\n' +\n      '    \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\\n' +\n      '    \"errors\": [\\n' +\n      '      {\\n' +\n      '        \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\\n' +\n      '        \"domain\": \"global\",\\n' +\n      '        \"reason\": \"rateLimitExceeded\"\\n' +\n      '      }\\n' +\n      '    ],\\n' +\n      '    \"status\": \"RESOURCE_EXHAUSTED\"\\n' +\n      '  }\\n' +\n      '}\\n' +\n      ']',\n    headers: {\n      'alt-svc': 'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000',\n      'content-length': '514',\n      'content-type': 'application/json; charset=UTF-8',\n      date: 'Tue, 19 Aug 2025 16:21:36 GMT',\n      server: 'ESF',\n      'server-timing': 'gfet4t7; dur=508',\n      vary: 'Origin, X-Origin, Referer',\n      'x-content-type-options': 'nosniff',\n      'x-frame-options': 'SAMEORIGIN',\n      'x-xss-protection': '0'\n    },\n    status: 429,\n    statusText: 'Too Many Requests',\n    request: {\n      responseURL: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse'\n    }\n  },\n  error: undefined,\n  status: 429,\n  [Symbol(gaxios-gaxios-error)]: '6.7.1'\n}\nAttempt 3 failed with status 429. Retrying with backoff... GaxiosError: [{\n  \"error\": {\n    \"code\": 429,\n    \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\n    \"errors\": [\n      {\n        \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\n        \"domain\": \"global\",\n        \"reason\": \"rateLimitExceeded\"\n      }\n    ],\n    \"status\": \"RESOURCE_EXHAUSTED\"\n  }\n}\n]\n    at Gaxios._request (/Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/gaxios/build/src/gaxios.js:142:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OAuth2Client.requestAsync (/Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/google-auth-library/build/src/auth/oauth2client.js:429:18)\n    at async CodeAssistServer.streamEndpoint (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/code_assist/server.js:60:21)\n    at async CodeAssistServer.generateContentStream (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/code_assist/server.js:21:23)\n    at async retryWithBackoff (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/utils/retry.js:61:20)\n    at async GeminiChat.sendMessageStream (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/core/geminiChat.js:287:36)\n    at async runNonInteractive (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/dist/src/nonInteractiveCli.js:43:36)\n    at async main (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/dist/src/gemini.js:154:5) {\n  config: {\n    url: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse',\n    method: 'POST',\n    params: { alt: 'sse' },\n    headers: {\n      'Content-Type': 'application/json',\n      'User-Agent': 'GeminiCLI/v20.19.0 (darwin; arm64) google-api-nodejs-client/9.15.1',\n      Authorization: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n      'x-goog-api-client': 'gl-node/20.19.0'\n    },\n    responseType: 'stream',\n    body: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n    signal: AbortSignal { aborted: false },\n    paramsSerializer: [Function: paramsSerializer],\n    validateStatus: [Function: validateStatus],\n    errorRedactor: [Function: defaultErrorRedactor]\n  },\n  response: {\n    config: {\n      url: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse',\n      method: 'POST',\n      params: [Object],\n      headers: [Object],\n      responseType: 'stream',\n      body: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n      signal: [AbortSignal],\n      paramsSerializer: [Function: paramsSerializer],\n      validateStatus: [Function: validateStatus],\n      errorRedactor: [Function: defaultErrorRedactor]\n    },\n    data: '[{\\n' +\n      '  \"error\": {\\n' +\n      '    \"code\": 429,\\n' +\n      '    \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\\n' +\n      '    \"errors\": [\\n' +\n      '      {\\n' +\n      '        \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\\n' +\n      '        \"domain\": \"global\",\\n' +\n      '        \"reason\": \"rateLimitExceeded\"\\n' +\n      '      }\\n' +\n      '    ],\\n' +\n      '    \"status\": \"RESOURCE_EXHAUSTED\"\\n' +\n      '  }\\n' +\n      '}\\n' +\n      ']',\n    headers: {\n      'alt-svc': 'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000',\n      'content-length': '514',\n      'content-type': 'application/json; charset=UTF-8',\n      date: 'Tue, 19 Aug 2025 16:21:45 GMT',\n      server: 'ESF',\n      'server-timing': 'gfet4t7; dur=844',\n      vary: 'Origin, X-Origin, Referer',\n      'x-content-type-options': 'nosniff',\n      'x-frame-options': 'SAMEORIGIN',\n      'x-xss-protection': '0'\n    },\n    status: 429,\n    statusText: 'Too Many Requests',\n    request: {\n      responseURL: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse'\n    }\n  },\n  error: undefined,\n  status: 429,\n  [Symbol(gaxios-gaxios-error)]: '6.7.1'\n}"}
{"timestamp":"2025-08-19T16:23:08.377Z","level":"debug","message":"Gemini response saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755620446635-hohjw7/logs/responses/gemini-response-pr-req-1755620488851-rwm0iwudw-2025-08-19T16-23-08-376Z.json"}
{"timestamp":"2025-08-19T16:23:08.378Z","level":"info","message":"Review completed: 10 findings"}
{"timestamp":"2025-08-19T16:23:08.378Z","level":"debug","message":"Completed step 5: Plan and execute review"}
{"timestamp":"2025-08-19T16:23:08.378Z","level":"info","message":"\u001b[34m[6/8]\u001b[39m Processing and filtering findings..."}
{"timestamp":"2025-08-19T16:23:08.378Z","level":"debug","message":"Starting step 6: Process findings"}
{"timestamp":"2025-08-19T16:23:08.378Z","level":"info","message":"Found 10 total findings, 10 above threshold"}
{"timestamp":"2025-08-19T16:23:08.378Z","level":"debug","message":"Completed step 6: Process findings"}
{"timestamp":"2025-08-19T16:23:08.378Z","level":"info","message":"\u001b[34m[7/8]\u001b[39m Getting approval and posting comments..."}
{"timestamp":"2025-08-19T16:23:08.378Z","level":"debug","message":"Starting step 7: Get approval and post comments"}
{"timestamp":"2025-08-19T16:23:08.378Z","level":"info","message":"File                                                | Line | Severity | Message                                                                                                                                                                                                                                                                                                              | Rule              "}
{"timestamp":"2025-08-19T16:23:08.379Z","level":"info","message":"----------------------------------------------------+------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------"}
{"timestamp":"2025-08-19T16:23:08.379Z","level":"info","message":"/__tests__/app/lib/request-service-helper.test.ts   | 1    | ERROR    | 🐞 Bu test dosyası, test edilmesi gereken fonksiyonların kendisini mock'layarak sadece mock'un doğru çalışıp çalışmadığını kontrol ediyor. Fonksiyonların gerçek implementasyon logiği test edilmiyor ve bu durum hatalı bir güvenlik hissiyatı yaratıyor.                                                           | unit-test-coverage"}
{"timestamp":"2025-08-19T16:23:08.380Z","level":"info","message":"/__tests__/app/lib/regex-validate-operation.test.ts | 30   | ERROR    | 🐞 `validateGSMNo` için yazılan test, fonksiyonun kendisini çağırmak yerine doğrudan konfigürasyon dosyasındaki bir `regex`'i test ediyor. Ayrıca, implementasyonda kullanılan `PHONE_REGEX2` yerine `PHONE_REGEX` kullanılmış.                                                                                      | unit-test-coverage"}
{"timestamp":"2025-08-19T16:23:08.380Z","level":"info","message":"/__tests__/app/lib/route-helper.test.ts             | 150  | ERROR    | 🐞 `getLastUnfilledDayOfCurrentRoute` fonksiyonu için yazılan testlerdeki `assertion`'lar (doğrulamalar) hatalı görünüyor. Test açıklaması doldurulmamış bir günün dönmesi gerektiğini belirtirken, test sonucu `undefined` olarak bekleniyor. Bu durum, testin fonksiyonu doğru şekilde doğrulamadığını gösteriyor. | unit-test-coverage"}
{"timestamp":"2025-08-19T16:23:08.380Z","level":"info","message":"/app/lib/request-service-helper.ts                  | 65   | ERROR    | Fonksiyon parametrelerinde `any` tipi kullanılmış. Bu durum tip güvenliğini zayıflatır ve potansiyel hatalara yol açabilir.                                                                                                                                                                                          | no-any-type       "}
{"timestamp":"2025-08-19T16:23:08.380Z","level":"info","message":"/app/lib/request-service-helper.ts                  | 205  | ERROR    | Fonksiyon parametresinde `any` tipi kullanılmış. Bu durum tip güvenliğini zayıflatır ve potansiyel hatalara yol açabilir.                                                                                                                                                                                            | no-any-type       "}
{"timestamp":"2025-08-19T16:23:08.380Z","level":"info","message":"/app/lib/request-service-helper.ts                  | 5    | WARNING  | Koddaki `TODO: ... ÇAĞLAR BURAYA BAK !!!` yorumu, çözülmesi gereken potansiyel bir tip sorununa işaret ediyor.                                                                                                                                                                                                       | code-quality      "}
{"timestamp":"2025-08-19T16:23:08.380Z","level":"info","message":"/app/lib/route-helper.ts                            | 11   | ERROR    | `getWeekDataResult` fonksiyonu `_weekNumber` parametresi için `any` tipi kullanıyor.                                                                                                                                                                                                                                 | no-any-type       "}
{"timestamp":"2025-08-19T16:23:08.380Z","level":"info","message":"/app/lib/print-provider.ts                          | 15   | ERROR    | `printHtml` fonksiyonunun dönüş tipi `Promise<any>` olarak belirtilmiş. Fonksiyonun implementasyonuna bakıldığında daha spesifik bir tip kullanılabilir.                                                                                                                                                             | no-any-type       "}
{"timestamp":"2025-08-19T16:23:08.380Z","level":"info","message":"/app/lib/print-provider.ts                          | 59   | ERROR    | `printPdf` fonksiyonunun dönüş tipi `Promise<any>` olarak belirtilmiş. Fonksiyonun implementasyonuna bakıldığında daha spesifik bir tip kullanılabilir.                                                                                                                                                              | no-any-type       "}
{"timestamp":"2025-08-19T16:23:08.380Z","level":"info","message":"/__tests__/app/lib/location-helper.test.ts          | 141  | ERROR    | Test dosyasında `any` tipi kullanılmış. Tip güvenliğini artırmak için `any` yerine daha spesifik tipler kullanılmalıdır.                                                                                                                                                                                             | no-any-type       "}
{"timestamp":"2025-08-19T17:40:17.898Z","level":"debug","message":"Completed getApproval"}
{"timestamp":"2025-08-19T17:40:17.901Z","level":"info","message":"Mapping 10 findings to ADO comment threads"}
{"timestamp":"2025-08-19T17:40:17.948Z","level":"info","message":"Mapping completed: 10 threads, 10 comments"}
{"timestamp":"2025-08-19T17:40:17.949Z","level":"info","message":"Posting 10 comment threads to PR 18782"}
{"timestamp":"2025-08-19T17:40:17.952Z","level":"debug","message":"Fetching comment threads for PR 18782"}
{"timestamp":"2025-08-19T17:40:17.955Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18782/threads"}
{"timestamp":"2025-08-19T17:40:18.741Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18782/threads"}
{"timestamp":"2025-08-19T17:40:18.742Z","level":"debug","message":"Successfully fetched 1 comment threads"}
{"timestamp":"2025-08-19T17:40:18.742Z","level":"debug","message":"Found 1 existing comment threads"}
{"timestamp":"2025-08-19T17:40:18.742Z","level":"debug","message":"Processing batch 1/2 (5 threads)"}
{"timestamp":"2025-08-19T17:40:18.743Z","level":"debug","message":"Creating new thread at /__tests__/app/lib/location-helper.test.ts:141"}
{"timestamp":"2025-08-19T17:40:18.743Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T17:40:18.743Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18782/threads"}
{"timestamp":"2025-08-19T17:40:18.966Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18782/threads"}
{"timestamp":"2025-08-19T17:40:18.966Z","level":"debug","message":"Successfully created comment thread 61433"}
{"timestamp":"2025-08-19T17:40:18.966Z","level":"debug","message":"Creating new thread at /__tests__/app/lib/regex-validate-operation.test.ts:30"}
{"timestamp":"2025-08-19T17:40:18.966Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T17:40:18.966Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18782/threads"}
{"timestamp":"2025-08-19T17:40:19.191Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18782/threads"}
{"timestamp":"2025-08-19T17:40:19.191Z","level":"debug","message":"Successfully created comment thread 61434"}
{"timestamp":"2025-08-19T17:40:19.191Z","level":"debug","message":"Creating new thread at /__tests__/app/lib/request-service-helper.test.ts:1"}
{"timestamp":"2025-08-19T17:40:19.191Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T17:40:19.191Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18782/threads"}
{"timestamp":"2025-08-19T17:40:19.434Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18782/threads"}
{"timestamp":"2025-08-19T17:40:19.434Z","level":"debug","message":"Successfully created comment thread 61435"}
{"timestamp":"2025-08-19T17:40:19.435Z","level":"debug","message":"Creating new thread at /__tests__/app/lib/route-helper.test.ts:150"}
{"timestamp":"2025-08-19T17:40:19.435Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T17:40:19.435Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18782/threads"}
{"timestamp":"2025-08-19T17:40:19.662Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18782/threads"}
{"timestamp":"2025-08-19T17:40:19.662Z","level":"debug","message":"Successfully created comment thread 61436"}
{"timestamp":"2025-08-19T17:40:19.662Z","level":"debug","message":"Creating new thread at /app/lib/print-provider.ts:15"}
{"timestamp":"2025-08-19T17:40:19.663Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T17:40:19.663Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18782/threads"}
{"timestamp":"2025-08-19T17:40:19.889Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18782/threads"}
{"timestamp":"2025-08-19T17:40:19.890Z","level":"debug","message":"Successfully created comment thread 61437"}
{"timestamp":"2025-08-19T17:40:20.892Z","level":"debug","message":"Processing batch 2/2 (5 threads)"}
{"timestamp":"2025-08-19T17:40:20.892Z","level":"debug","message":"Creating new thread at /app/lib/print-provider.ts:59"}
{"timestamp":"2025-08-19T17:40:20.893Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T17:40:20.893Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18782/threads"}
{"timestamp":"2025-08-19T17:40:21.120Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18782/threads"}
{"timestamp":"2025-08-19T17:40:21.120Z","level":"debug","message":"Successfully created comment thread 61438"}
{"timestamp":"2025-08-19T17:40:21.120Z","level":"debug","message":"Creating new thread at /app/lib/request-service-helper.ts:65"}
{"timestamp":"2025-08-19T17:40:21.120Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T17:40:21.121Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18782/threads"}
{"timestamp":"2025-08-19T17:40:21.343Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18782/threads"}
{"timestamp":"2025-08-19T17:40:21.343Z","level":"debug","message":"Successfully created comment thread 61439"}
{"timestamp":"2025-08-19T17:40:21.343Z","level":"debug","message":"Creating new thread at /app/lib/request-service-helper.ts:205"}
{"timestamp":"2025-08-19T17:40:21.344Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T17:40:21.344Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18782/threads"}
{"timestamp":"2025-08-19T17:40:21.562Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18782/threads"}
{"timestamp":"2025-08-19T17:40:21.563Z","level":"debug","message":"Successfully created comment thread 61440"}
{"timestamp":"2025-08-19T17:40:21.563Z","level":"debug","message":"Creating new thread at /app/lib/route-helper.ts:11"}
{"timestamp":"2025-08-19T17:40:21.563Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T17:40:21.564Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18782/threads"}
{"timestamp":"2025-08-19T17:40:21.820Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18782/threads"}
{"timestamp":"2025-08-19T17:40:21.820Z","level":"debug","message":"Successfully created comment thread 61441"}
{"timestamp":"2025-08-19T17:40:21.820Z","level":"debug","message":"Creating new thread at /app/lib/request-service-helper.ts:5"}
{"timestamp":"2025-08-19T17:40:21.820Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T17:40:21.821Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18782/threads"}
{"timestamp":"2025-08-19T17:40:22.081Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18782/threads"}
{"timestamp":"2025-08-19T17:40:22.081Z","level":"debug","message":"Successfully created comment thread 61442"}
{"timestamp":"2025-08-19T17:40:22.081Z","level":"info","message":"Comment posting completed: 10 threads created, 10 comments created"}
{"timestamp":"2025-08-19T17:40:22.082Z","level":"debug","message":"Completed step 7: Get approval and post comments"}
{"timestamp":"2025-08-19T17:40:22.082Z","level":"info","message":"\u001b[34m[8/8]\u001b[39m Updating PR status and cleaning up..."}
{"timestamp":"2025-08-19T17:40:22.082Z","level":"debug","message":"Starting step 8: Update PR status"}
{"timestamp":"2025-08-19T17:40:22.082Z","level":"debug","message":"Completed step 8: Update PR status"}
{"timestamp":"2025-08-19T17:40:22.082Z","level":"info","message":"\u001b[32m✅ Review completed successfully in 4775452ms\u001b[39m"}
{"timestamp":"2025-08-19T17:40:22.082Z","level":"info","message":"Cleaning up workspace: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755620446635-hohjw7"}
{"timestamp":"2025-08-19T17:40:22.762Z","level":"info","message":"Workspace cleanup completed: 3975 files, 982 directories deleted"}
{"timestamp":"2025-08-19T17:43:33.752Z","level":"info","message":"\u001b[34m🚀 Starting Azure DevOps PR Review...\u001b[39m"}
{"timestamp":"2025-08-19T17:43:33.752Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T17:43:33.753Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T17:43:33.753Z","level":"info","message":"\u001b[34m[1/8]\u001b[39m Initializing and validating options..."}
{"timestamp":"2025-08-19T17:43:33.753Z","level":"debug","message":"Starting step 1: Initialize"}
{"timestamp":"2025-08-19T17:43:33.754Z","level":"info","message":"Loading configuration..."}
{"timestamp":"2025-08-19T17:43:33.755Z","level":"debug","message":"Found .adorevrc.yaml in project root, loading configuration"}
{"timestamp":"2025-08-19T17:43:33.756Z","level":"debug","message":"Project root configuration loaded successfully"}
{"timestamp":"2025-08-19T17:43:33.756Z","level":"info","message":"Using configuration from: project-root"}
{"timestamp":"2025-08-19T17:43:33.756Z","level":"debug","message":"Log level overridden by ADO_REVIEW_LOG_LEVEL: debug"}
{"timestamp":"2025-08-19T17:43:33.756Z","level":"debug","message":"Configuration loaded and merged successfully"}
{"timestamp":"2025-08-19T17:43:33.756Z","level":"debug","message":"Gemini timeout: 120000ms"}
{"timestamp":"2025-08-19T17:43:33.756Z","level":"debug","message":"Current log level: debug"}
{"timestamp":"2025-08-19T17:43:33.757Z","level":"debug","message":"Initializing GeminiAdapter with timeout: 120000ms"}
{"timestamp":"2025-08-19T17:43:33.757Z","level":"debug","message":"GeminiAdapter initialized with default timeout: 120000ms"}
{"timestamp":"2025-08-19T17:43:33.758Z","level":"debug","message":"All components initialized successfully"}
{"timestamp":"2025-08-19T17:43:33.758Z","level":"debug","message":"Completed step 1: Initialize"}
{"timestamp":"2025-08-19T17:43:33.758Z","level":"info","message":"\u001b[34m[2/8]\u001b[39m Setting up temporary workspace..."}
{"timestamp":"2025-08-19T17:43:33.758Z","level":"debug","message":"Starting step 2: Setup workspace"}
{"timestamp":"2025-08-19T17:43:33.764Z","level":"info","message":"Workspace created: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755625413758-mjw79z"}
{"timestamp":"2025-08-19T17:43:33.764Z","level":"debug","message":"Workspace config path: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755625413758-mjw79z/.adorevrc.yaml"}
{"timestamp":"2025-08-19T17:43:33.764Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T17:43:33.764Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T17:43:33.764Z","level":"debug","message":"Completed step 2: Setup workspace"}
{"timestamp":"2025-08-19T17:43:33.764Z","level":"info","message":"\u001b[34m[3/8]\u001b[39m Fetching PR information and changes..."}
{"timestamp":"2025-08-19T17:43:33.764Z","level":"debug","message":"Starting step 3: Fetch PR info and diffs"}
{"timestamp":"2025-08-19T17:43:33.764Z","level":"debug","message":"Fetching PR 18795 info"}
{"timestamp":"2025-08-19T17:43:33.765Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18795"}
{"timestamp":"2025-08-19T17:43:34.195Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18795"}
{"timestamp":"2025-08-19T17:43:34.195Z","level":"debug","message":"Successfully fetched PR 18795 info"}
{"timestamp":"2025-08-19T17:43:34.195Z","level":"debug","message":"Response status: 200"}
{"timestamp":"2025-08-19T17:43:34.195Z","level":"debug","message":"Response data keys:"}
{"timestamp":"2025-08-19T17:43:34.195Z","level":"debug","message":"PR Info structure:"}
{"timestamp":"2025-08-19T17:43:34.196Z","level":"debug","message":"Completed fetchPRInfo"}
{"timestamp":"2025-08-19T17:43:34.196Z","level":"debug","message":"fetchDiffs - prInfo structure:"}
{"timestamp":"2025-08-19T17:43:34.196Z","level":"info","message":"Cloning repository: https://inploid@dev.azure.com/inploid/AuditReactProject/_git/AuditReactProject.RN0.71.X"}
{"timestamp":"2025-08-19T17:43:34.196Z","level":"debug","message":"Clone options: {\"branch\":\"refs/heads/feature/TDM-14375\",\"workingDirectory\":\"/var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755625413758-mjw79z/source\"}"}
{"timestamp":"2025-08-19T17:43:34.196Z","level":"debug","message":"Executing: git init "}
{"timestamp":"2025-08-19T17:43:34.223Z","level":"debug","message":"Executing: git remote add origin https://inploid@dev.azure.com/inploid/AuditReactProject/_git/AuditReactProject.RN0.71.X"}
{"timestamp":"2025-08-19T17:43:34.236Z","level":"debug","message":"Executing: git fetch origin refs/heads/feature/TDM-14375"}
{"timestamp":"2025-08-19T17:44:13.843Z","level":"debug","message":"Executing: git checkout -b local-branch origin/feature/TDM-14375"}
{"timestamp":"2025-08-19T17:44:14.540Z","level":"debug","message":"Executing: git rev-parse HEAD"}
{"timestamp":"2025-08-19T17:44:14.550Z","level":"info","message":"Successfully cloned repository to /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755625413758-mjw79z/source"}
{"timestamp":"2025-08-19T17:44:14.550Z","level":"debug","message":"Commit ID: b43cef4b1944257ac2376e070ae4c94673c34247"}
{"timestamp":"2025-08-19T17:44:14.550Z","level":"debug","message":"Reinitializing ConfigLoader with cloned workspace directory:"}
{"timestamp":"2025-08-19T17:44:14.550Z","level":"debug","message":"Workspace config path: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755625413758-mjw79z/source/.adorevrc.yaml"}
{"timestamp":"2025-08-19T17:44:14.550Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T17:44:14.550Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T17:44:14.552Z","level":"debug","message":"Found .adorevrc.yaml in project root, loading configuration"}
{"timestamp":"2025-08-19T17:44:14.552Z","level":"debug","message":"Project root configuration loaded successfully"}
{"timestamp":"2025-08-19T17:44:14.552Z","level":"info","message":"Using configuration from: project-root"}
{"timestamp":"2025-08-19T17:44:14.552Z","level":"debug","message":"Log level overridden by ADO_REVIEW_LOG_LEVEL: debug"}
{"timestamp":"2025-08-19T17:44:14.552Z","level":"debug","message":"Configuration loaded and merged successfully"}
{"timestamp":"2025-08-19T17:44:14.552Z","level":"debug","message":"Gemini timeout: 120000ms"}
{"timestamp":"2025-08-19T17:44:14.552Z","level":"debug","message":"Current log level: debug"}
{"timestamp":"2025-08-19T17:44:14.553Z","level":"debug","message":"Reloaded configuration from workspace:"}
{"timestamp":"2025-08-19T17:44:14.553Z","level":"info","message":"Fetching iteration changes for PR 18795"}
{"timestamp":"2025-08-19T17:44:14.553Z","level":"debug","message":"Fetching PR 18795 iterations"}
{"timestamp":"2025-08-19T17:44:14.553Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18795/iterations"}
{"timestamp":"2025-08-19T17:44:14.743Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18795/iterations"}
{"timestamp":"2025-08-19T17:44:14.743Z","level":"debug","message":"Successfully fetched 1 iterations"}
{"timestamp":"2025-08-19T17:44:14.743Z","level":"debug","message":"Fetching changes for iteration 1"}
{"timestamp":"2025-08-19T17:44:14.743Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18795/iterations/1/changes"}
{"timestamp":"2025-08-19T17:44:14.924Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18795/iterations/1/changes"}
{"timestamp":"2025-08-19T17:44:14.924Z","level":"debug","message":"Successfully fetched 17 changes"}
{"timestamp":"2025-08-19T17:44:14.924Z","level":"debug","message":"Processing iteration changes with 17 file changes"}
{"timestamp":"2025-08-19T17:44:14.924Z","level":"debug","message":"Processing iteration change for file: /__mocks__/@react-native-community/geolocation.js"}
{"timestamp":"2025-08-19T17:44:14.924Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b43cef4b1944257ac2376e070ae4c94673c34247"}
{"timestamp":"2025-08-19T17:44:14.924Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b43cef4b1944257ac2376e070ae4c94673c34247 -- __mocks__/@react-native-community/geolocation.js"}
{"timestamp":"2025-08-19T17:44:14.936Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:44:14.937Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/location-helper.test.ts"}
{"timestamp":"2025-08-19T17:44:14.937Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b43cef4b1944257ac2376e070ae4c94673c34247"}
{"timestamp":"2025-08-19T17:44:14.937Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b43cef4b1944257ac2376e070ae4c94673c34247 -- __tests__/app/lib/location-helper.test.ts"}
{"timestamp":"2025-08-19T17:44:14.948Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:44:14.949Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/orientation.test.ts"}
{"timestamp":"2025-08-19T17:44:14.949Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b43cef4b1944257ac2376e070ae4c94673c34247"}
{"timestamp":"2025-08-19T17:44:14.949Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b43cef4b1944257ac2376e070ae4c94673c34247 -- __tests__/app/lib/orientation.test.ts"}
{"timestamp":"2025-08-19T17:44:14.959Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:44:14.960Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/regex-validate-operation.test.ts"}
{"timestamp":"2025-08-19T17:44:14.960Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b43cef4b1944257ac2376e070ae4c94673c34247"}
{"timestamp":"2025-08-19T17:44:14.960Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b43cef4b1944257ac2376e070ae4c94673c34247 -- __tests__/app/lib/regex-validate-operation.test.ts"}
{"timestamp":"2025-08-19T17:44:14.971Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:44:14.971Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/request-service-helper.test.ts"}
{"timestamp":"2025-08-19T17:44:14.971Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b43cef4b1944257ac2376e070ae4c94673c34247"}
{"timestamp":"2025-08-19T17:44:14.971Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b43cef4b1944257ac2376e070ae4c94673c34247 -- __tests__/app/lib/request-service-helper.test.ts"}
{"timestamp":"2025-08-19T17:44:14.982Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:44:14.982Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/print-provider.test.ts"}
{"timestamp":"2025-08-19T17:44:14.982Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b43cef4b1944257ac2376e070ae4c94673c34247"}
{"timestamp":"2025-08-19T17:44:14.982Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b43cef4b1944257ac2376e070ae4c94673c34247 -- __tests__/app/lib/print-provider.test.ts"}
{"timestamp":"2025-08-19T17:44:14.993Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:44:14.993Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/sentry/SentryBackend.test.ts"}
{"timestamp":"2025-08-19T17:44:14.993Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b43cef4b1944257ac2376e070ae4c94673c34247"}
{"timestamp":"2025-08-19T17:44:14.993Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b43cef4b1944257ac2376e070ae4c94673c34247 -- __tests__/app/lib/sentry/SentryBackend.test.ts"}
{"timestamp":"2025-08-19T17:44:15.004Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:44:15.004Z","level":"debug","message":"Processing iteration change for file: /app/lib/orientation.ts"}
{"timestamp":"2025-08-19T17:44:15.004Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b43cef4b1944257ac2376e070ae4c94673c34247"}
{"timestamp":"2025-08-19T17:44:15.004Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b43cef4b1944257ac2376e070ae4c94673c34247 -- app/lib/orientation.ts"}
{"timestamp":"2025-08-19T17:44:15.015Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:44:15.015Z","level":"debug","message":"Processing iteration change for file: /app/lib/regex-validate-operation.ts"}
{"timestamp":"2025-08-19T17:44:15.015Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b43cef4b1944257ac2376e070ae4c94673c34247"}
{"timestamp":"2025-08-19T17:44:15.015Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b43cef4b1944257ac2376e070ae4c94673c34247 -- app/lib/regex-validate-operation.ts"}
{"timestamp":"2025-08-19T17:44:15.026Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:44:15.026Z","level":"debug","message":"Processing iteration change for file: /app/lib/print-provider.ts"}
{"timestamp":"2025-08-19T17:44:15.026Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b43cef4b1944257ac2376e070ae4c94673c34247"}
{"timestamp":"2025-08-19T17:44:15.026Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b43cef4b1944257ac2376e070ae4c94673c34247 -- app/lib/print-provider.ts"}
{"timestamp":"2025-08-19T17:44:15.037Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:44:15.037Z","level":"debug","message":"Processing iteration change for file: /app/lib/location-helper.ts"}
{"timestamp":"2025-08-19T17:44:15.037Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b43cef4b1944257ac2376e070ae4c94673c34247"}
{"timestamp":"2025-08-19T17:44:15.037Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b43cef4b1944257ac2376e070ae4c94673c34247 -- app/lib/location-helper.ts"}
{"timestamp":"2025-08-19T17:44:15.049Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:44:15.049Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/responsive.test.ts"}
{"timestamp":"2025-08-19T17:44:15.049Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b43cef4b1944257ac2376e070ae4c94673c34247"}
{"timestamp":"2025-08-19T17:44:15.049Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b43cef4b1944257ac2376e070ae4c94673c34247 -- __tests__/app/lib/responsive.test.ts"}
{"timestamp":"2025-08-19T17:44:15.060Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:44:15.060Z","level":"debug","message":"Processing iteration change for file: /app/lib/request-service-helper.ts"}
{"timestamp":"2025-08-19T17:44:15.060Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b43cef4b1944257ac2376e070ae4c94673c34247"}
{"timestamp":"2025-08-19T17:44:15.060Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b43cef4b1944257ac2376e070ae4c94673c34247 -- app/lib/request-service-helper.ts"}
{"timestamp":"2025-08-19T17:44:15.071Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:44:15.072Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/route-helper.test.ts"}
{"timestamp":"2025-08-19T17:44:15.072Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b43cef4b1944257ac2376e070ae4c94673c34247"}
{"timestamp":"2025-08-19T17:44:15.072Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b43cef4b1944257ac2376e070ae4c94673c34247 -- __tests__/app/lib/route-helper.test.ts"}
{"timestamp":"2025-08-19T17:44:15.083Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:44:15.083Z","level":"debug","message":"Processing iteration change for file: /app/lib/route-helper.ts"}
{"timestamp":"2025-08-19T17:44:15.083Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b43cef4b1944257ac2376e070ae4c94673c34247"}
{"timestamp":"2025-08-19T17:44:15.083Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b43cef4b1944257ac2376e070ae4c94673c34247 -- app/lib/route-helper.ts"}
{"timestamp":"2025-08-19T17:44:15.094Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:44:15.095Z","level":"debug","message":"Processing iteration change for file: /app/lib/responsive.ts"}
{"timestamp":"2025-08-19T17:44:15.095Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b43cef4b1944257ac2376e070ae4c94673c34247"}
{"timestamp":"2025-08-19T17:44:15.095Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b43cef4b1944257ac2376e070ae4c94673c34247 -- app/lib/responsive.ts"}
{"timestamp":"2025-08-19T17:44:15.107Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:44:15.107Z","level":"debug","message":"Processing iteration change for file: /app/lib/sentry/SentryBackend.ts"}
{"timestamp":"2025-08-19T17:44:15.107Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to b43cef4b1944257ac2376e070ae4c94673c34247"}
{"timestamp":"2025-08-19T17:44:15.108Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 b43cef4b1944257ac2376e070ae4c94673c34247 -- app/lib/sentry/SentryBackend.ts"}
{"timestamp":"2025-08-19T17:44:15.120Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:44:15.120Z","level":"info","message":"Successfully fetched diff: 17 files, +1835/-65 lines"}
{"timestamp":"2025-08-19T17:44:15.122Z","level":"debug","message":"Diff data saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755625413758-mjw79z/logs/diffs/diff-pr-pr-18795-2025-08-19T17-44-15-121Z.txt"}
{"timestamp":"2025-08-19T17:44:15.122Z","level":"debug","message":"Completed step 3: Fetch PR info and diffs"}
{"timestamp":"2025-08-19T17:44:15.122Z","level":"info","message":"\u001b[34m[4/8]\u001b[39m Loading rules and building review context..."}
{"timestamp":"2025-08-19T17:44:15.122Z","level":"debug","message":"Starting step 4: Load rules and build context"}
{"timestamp":"2025-08-19T17:44:15.122Z","level":"info","message":"Loading review rules and guidelines"}
{"timestamp":"2025-08-19T17:44:15.122Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T17:44:15.123Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T17:44:15.125Z","level":"warn","message":"No rules found in /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T17:44:15.125Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T17:44:15.126Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T17:44:15.129Z","level":"debug","message":"Loaded 28 rules from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T17:44:15.129Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T17:44:15.129Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T17:44:15.129Z","level":"debug","message":"Loaded guideline \"Azure DevOps Review Rules\" from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T17:44:15.129Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T17:44:15.130Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T17:44:15.130Z","level":"debug","message":"Loaded guideline \"React Native Field App - Architecture Guide\" from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T17:44:15.130Z","level":"info","message":"Loaded 1 rule sets, 28 total rules (28 enabled), 2 guidelines"}
{"timestamp":"2025-08-19T17:44:15.130Z","level":"debug","message":"Completed loadRules"}
{"timestamp":"2025-08-19T17:44:15.131Z","level":"info","message":"Building review context"}
{"timestamp":"2025-08-19T17:44:15.132Z","level":"info","message":"Context built: 17 files, 34 hunks, 28 rules, 2 guidelines"}
{"timestamp":"2025-08-19T17:44:15.132Z","level":"debug","message":"Completed step 4: Load rules and build context"}
{"timestamp":"2025-08-19T17:44:15.132Z","level":"info","message":"\u001b[34m[5/8]\u001b[39m Planning and executing AI review..."}
{"timestamp":"2025-08-19T17:44:15.133Z","level":"debug","message":"Starting step 5: Plan and execute review"}
{"timestamp":"2025-08-19T17:44:15.133Z","level":"info","message":"Creating review plan"}
{"timestamp":"2025-08-19T17:44:15.133Z","level":"debug","message":"Completed planReview"}
{"timestamp":"2025-08-19T17:44:15.133Z","level":"debug","message":"Executing Gemini review with plan"}
{"timestamp":"2025-08-19T17:44:15.133Z","level":"info","message":"Executing single batch review"}
{"timestamp":"2025-08-19T17:44:15.133Z","level":"info","message":"Starting Gemini review with model: gemini-2.5-flash"}
{"timestamp":"2025-08-19T17:44:15.134Z","level":"debug","message":"Prompt data saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755625413758-mjw79z/logs/prompts/prompt-pr-review-2025-08-19T17-44-15-133Z.txt"}
{"timestamp":"2025-08-19T17:44:15.134Z","level":"debug","message":"Spawning Gemini CLI with stdin approach"}
{"timestamp":"2025-08-19T17:44:16.141Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T17:44:16.223Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T17:44:16.251Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T17:44:54.334Z","level":"debug","message":"Gemini CLI stdout: ```json\n{\n  \"findings\": [\n    {\n      \"file\": \"/__tests__/app/lib/request-service-helper.test.ts\",\n      \"line\": 1,\n      \"endLine\": 215,\n      \"severity\": \"error\",\n      \"message\": \"The test suite for `request-service-helper` is not testing the actual implementation. It mocks the functions that are supposed to be tested and then configures mock return values. The tests only assert that the mocks return these configured values, which provides no validation of the actual business logic.\",\n      \"suggestion\": \""}
{"timestamp":"2025-08-19T17:44:54.697Z","level":"debug","message":"Gemini CLI stdout: The test file should be rewritten to import the real functions from `../../../app/lib/request-service-helper.ts` and test their behavior with different inputs. This will ensure the functions work as expected and provide meaningful test coverage.\",\n      \"ruleId\": \"unit-test-coverage\",\n      \""}
{"timestamp":"2025-08-19T17:44:55.106Z","level":"debug","message":"Gemini CLI stdout: category\": \"testing\"\n    },\n    {\n      \"file\": \"/app/lib/request-service-helper.ts\",\n      \"line\": 5,\n      \"endLine\": 5,\n      \"severity\": \"warning\",\n      \"message\": \"The code contains an"}
{"timestamp":"2025-08-19T17:44:55.618Z","level":"debug","message":"Gemini CLI stdout: informal TODO comment directed at a specific developer: `// TODO: kullanılan yerde type bu ama ıcınde 'requestFlowProductAssembleItems' field'ı yok ÇAĞLAR BURAYA BAK !!!`. Such comments are unprofessional and should not be included in the codebase.\",\n      \"suggestion\": \"Please remove the informal comment"}
{"timestamp":"2025-08-19T17:44:56.130Z","level":"debug","message":"Gemini CLI stdout: . If this points to a legitimate issue, it should be tracked in a proper issue tracking system.\",\n      \"ruleId\": \"component-structure\",\n      \"category\": \"code-quality\"\n    },\n    {\n      \"file\": \"/app/lib/location-helper.ts\","}
{"timestamp":"2025-08-19T17:44:56.642Z","level":"debug","message":"Gemini CLI stdout: \"line\": 269,\n      \"endLine\": 285,\n      \"severity\": \"warning\",\n      \"message\": \"The JSDoc comment does not match the function it is documenting. The comment describes a function for calculating average latitude/longitude and delta, but it"}
{"timestamp":"2025-08-19T17:44:57.154Z","level":"debug","message":"Gemini CLI stdout: is placed above the `addDistanceToEachDestination` function.\",\n      \"suggestion\": \"Please correct the documentation by either moving the comment to the appropriate function or updating the comment's text to accurately describe the `addDistanceToEachDestination` function.\",\n      \"ruleId\": \"component-structure\",\n      \"category"}
{"timestamp":"2025-08-19T17:44:57.563Z","level":"debug","message":"Gemini CLI stdout: \": \"code-quality\"\n    },\n    {\n      \"file\": \"/__tests__/app/lib/sentry/SentryBackend.test.ts\",\n      \"line\": 170,\n      \"endLine\": 174,\n      \"severity\": \"info"}
{"timestamp":"2025-08-19T17:44:58.177Z","level":"debug","message":"Gemini CLI stdout: \",\n      \"message\": \"The test file contains `console.log` statements, which are likely left over from a debugging session.\",\n      \"suggestion\": \"Please remove the `console.log` statements to keep the test output clean.\",\n      \"ruleId\": \"component-structure\",\n      \"category\":"}
{"timestamp":"2025-08-19T17:44:58.690Z","level":"debug","message":"Gemini CLI stdout: \"code-quality\"\n    }\n  ],\n  \"summary\": \"The review identified several areas for improvement. A critical issue was found in a test file that provides no actual test coverage for its target module. Additionally, there are minor issues related to code cleanliness, such as leftover debugging statements and unprofessional comments, and a"}
{"timestamp":"2025-08-19T17:44:59.124Z","level":"debug","message":"Gemini CLI stdout: documentation error where a comment does not match the function it describes. The newly added JSDoc comments and other unit tests are a good step towards improving code quality and maintainability.\"\n}\n```"}
{"timestamp":"2025-08-19T17:44:59.141Z","level":"debug","message":"Gemini CLI stdout: "}
{"timestamp":"2025-08-19T17:44:59.149Z","level":"debug","message":"Gemini CLI exited with code: 0"}
{"timestamp":"2025-08-19T17:44:59.150Z","level":"debug","message":"Gemini CLI final stdout: [dotenv@16.6.0] injecting env (9) from .env\n[dotenv@16.6.0] injecting env (9) from .env\n[dotenv@16.6.0] injecting env (9) from .env\n```json\n{\n  \"findings\": [\n    {\n      \"file\": \"/__tests__/app/lib/request-service-helper.test.ts\",\n      \"line\": 1,\n      \"endLine\": 215,\n      \"severity\": \"error\",\n      \"message\": \"The test suite for `request-service-helper` is not testing the actual implementation. It mocks the functions that are supposed to be tested and then configures mock return values. The tests only assert that the mocks return these configured values, which provides no validation of the actual business logic.\",\n      \"suggestion\": \"The test file should be rewritten to import the real functions from `../../../app/lib/request-service-helper.ts` and test their behavior with different inputs. This will ensure the functions work as expected and provide meaningful test coverage.\",\n      \"ruleId\": \"unit-test-coverage\",\n      \"category\": \"testing\"\n    },\n    {\n      \"file\": \"/app/lib/request-service-helper.ts\",\n      \"line\": 5,\n      \"endLine\": 5,\n      \"severity\": \"warning\",\n      \"message\": \"The code contains an informal TODO comment directed at a specific developer: `// TODO: kullanılan yerde type bu ama ıcınde 'requestFlowProductAssembleItems' field'ı yok ÇAĞLAR BURAYA BAK !!!`. Such comments are unprofessional and should not be included in the codebase.\",\n      \"suggestion\": \"Please remove the informal comment. If this points to a legitimate issue, it should be tracked in a proper issue tracking system.\",\n      \"ruleId\": \"component-structure\",\n      \"category\": \"code-quality\"\n    },\n    {\n      \"file\": \"/app/lib/location-helper.ts\",\n      \"line\": 269,\n      \"endLine\": 285,\n      \"severity\": \"warning\",\n      \"message\": \"The JSDoc comment does not match the function it is documenting. The comment describes a function for calculating average latitude/longitude and delta, but it is placed above the `addDistanceToEachDestination` function.\",\n      \"suggestion\": \"Please correct the documentation by either moving the comment to the appropriate function or updating the comment's text to accurately describe the `addDistanceToEachDestination` function.\",\n      \"ruleId\": \"component-structure\",\n      \"category\": \"code-quality\"\n    },\n    {\n      \"file\": \"/__tests__/app/lib/sentry/SentryBackend.test.ts\",\n      \"line\": 170,\n      \"endLine\": 174,\n      \"severity\": \"info\",\n      \"message\": \"The test file contains `console.log` statements, which are likely left over from a debugging session.\",\n      \"suggestion\": \"Please remove the `console.log` statements to keep the test output clean.\",\n      \"ruleId\": \"component-structure\",\n      \"category\": \"code-quality\"\n    }\n  ],\n  \"summary\": \"The review identified several areas for improvement. A critical issue was found in a test file that provides no actual test coverage for its target module. Additionally, there are minor issues related to code cleanliness, such as leftover debugging statements and unprofessional comments, and a documentation error where a comment does not match the function it describes. The newly added JSDoc comments and other unit tests are a good step towards improving code quality and maintainability.\"\n}\n```"}
{"timestamp":"2025-08-19T17:44:59.150Z","level":"debug","message":"Gemini CLI final stderr: "}
{"timestamp":"2025-08-19T17:44:59.152Z","level":"debug","message":"Gemini response saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755625413758-mjw79z/logs/responses/gemini-response-pr-req-1755625455133-6w3qblcon-2025-08-19T17-44-59-151Z.json"}
{"timestamp":"2025-08-19T17:44:59.153Z","level":"info","message":"Review completed: 4 findings"}
{"timestamp":"2025-08-19T17:44:59.153Z","level":"debug","message":"Completed step 5: Plan and execute review"}
{"timestamp":"2025-08-19T17:44:59.153Z","level":"info","message":"\u001b[34m[6/8]\u001b[39m Processing and filtering findings..."}
{"timestamp":"2025-08-19T17:44:59.153Z","level":"debug","message":"Starting step 6: Process findings"}
{"timestamp":"2025-08-19T17:44:59.153Z","level":"info","message":"Found 4 total findings, 4 above threshold"}
{"timestamp":"2025-08-19T17:44:59.153Z","level":"debug","message":"Completed step 6: Process findings"}
{"timestamp":"2025-08-19T17:44:59.153Z","level":"info","message":"\u001b[34m[7/8]\u001b[39m Getting approval and posting comments..."}
{"timestamp":"2025-08-19T17:44:59.153Z","level":"debug","message":"Starting step 7: Get approval and post comments"}
{"timestamp":"2025-08-19T17:44:59.154Z","level":"info","message":"File                                              | Line | Severity | Message                                                                                                                                                                                                                                                                                                             | Rule               "}
{"timestamp":"2025-08-19T17:44:59.154Z","level":"info","message":"--------------------------------------------------+------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------"}
{"timestamp":"2025-08-19T17:44:59.154Z","level":"info","message":"/__tests__/app/lib/request-service-helper.test.ts | 1    | ERROR    | The test suite for `request-service-helper` is not testing the actual implementation. It mocks the functions that are supposed to be tested and then configures mock return values. The tests only assert that the mocks return these configured values, which provides no validation of the actual business logic. | unit-test-coverage "}
{"timestamp":"2025-08-19T17:44:59.154Z","level":"info","message":"/app/lib/request-service-helper.ts                | 5    | WARNING  | The code contains an informal TODO comment directed at a specific developer: `// TODO: kullanılan yerde type bu ama ıcınde 'requestFlowProductAssembleItems' field'ı yok ÇAĞLAR BURAYA BAK !!!`. Such comments are unprofessional and should not be included in the codebase.                                       | component-structure"}
{"timestamp":"2025-08-19T17:44:59.154Z","level":"info","message":"/app/lib/location-helper.ts                       | 269  | WARNING  | The JSDoc comment does not match the function it is documenting. The comment describes a function for calculating average latitude/longitude and delta, but it is placed above the `addDistanceToEachDestination` function.                                                                                         | component-structure"}
{"timestamp":"2025-08-19T17:44:59.155Z","level":"info","message":"/__tests__/app/lib/sentry/SentryBackend.test.ts   | 170  | INFO     | The test file contains `console.log` statements, which are likely left over from a debugging session.                                                                                                                                                                                                               | component-structure"}
{"timestamp":"2025-08-19T17:46:46.320Z","level":"debug","message":"Completed getApproval"}
{"timestamp":"2025-08-19T17:46:46.322Z","level":"info","message":"Mapping 4 findings to ADO comment threads"}
{"timestamp":"2025-08-19T17:46:46.351Z","level":"info","message":"Mapping completed: 4 threads, 4 comments"}
{"timestamp":"2025-08-19T17:46:46.361Z","level":"info","message":"Posting 4 comment threads to PR 18795"}
{"timestamp":"2025-08-19T17:46:46.366Z","level":"debug","message":"Fetching comment threads for PR 18795"}
{"timestamp":"2025-08-19T17:46:46.411Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18795/threads"}
{"timestamp":"2025-08-19T17:46:46.791Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18795/threads"}
{"timestamp":"2025-08-19T17:46:46.795Z","level":"debug","message":"Successfully fetched 0 comment threads"}
{"timestamp":"2025-08-19T17:46:46.795Z","level":"debug","message":"Found 0 existing comment threads"}
{"timestamp":"2025-08-19T17:46:46.795Z","level":"debug","message":"Processing batch 1/1 (4 threads)"}
{"timestamp":"2025-08-19T17:46:46.796Z","level":"debug","message":"Creating new thread at /__tests__/app/lib/request-service-helper.test.ts:1"}
{"timestamp":"2025-08-19T17:46:46.797Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T17:46:46.798Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18795/threads"}
{"timestamp":"2025-08-19T17:46:47.031Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18795/threads"}
{"timestamp":"2025-08-19T17:46:47.031Z","level":"debug","message":"Successfully created comment thread 61443"}
{"timestamp":"2025-08-19T17:46:47.031Z","level":"debug","message":"Creating new thread at /app/lib/location-helper.ts:269"}
{"timestamp":"2025-08-19T17:46:47.031Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T17:46:47.032Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18795/threads"}
{"timestamp":"2025-08-19T17:46:47.256Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18795/threads"}
{"timestamp":"2025-08-19T17:46:47.256Z","level":"debug","message":"Successfully created comment thread 61444"}
{"timestamp":"2025-08-19T17:46:47.256Z","level":"debug","message":"Creating new thread at /app/lib/request-service-helper.ts:5"}
{"timestamp":"2025-08-19T17:46:47.256Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T17:46:47.256Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18795/threads"}
{"timestamp":"2025-08-19T17:46:47.484Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18795/threads"}
{"timestamp":"2025-08-19T17:46:47.484Z","level":"debug","message":"Successfully created comment thread 61445"}
{"timestamp":"2025-08-19T17:46:47.484Z","level":"debug","message":"Creating new thread at /__tests__/app/lib/sentry/SentryBackend.test.ts:170"}
{"timestamp":"2025-08-19T17:46:47.484Z","level":"debug","message":"Creating comment thread from ADOCommentThread object"}
{"timestamp":"2025-08-19T17:46:47.484Z","level":"debug","message":"Making POST request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18795/threads"}
{"timestamp":"2025-08-19T17:46:47.695Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18795/threads"}
{"timestamp":"2025-08-19T17:46:47.695Z","level":"debug","message":"Successfully created comment thread 61446"}
{"timestamp":"2025-08-19T17:46:47.696Z","level":"info","message":"Comment posting completed: 4 threads created, 4 comments created"}
{"timestamp":"2025-08-19T17:46:47.696Z","level":"debug","message":"Completed step 7: Get approval and post comments"}
{"timestamp":"2025-08-19T17:46:47.696Z","level":"info","message":"\u001b[34m[8/8]\u001b[39m Updating PR status and cleaning up..."}
{"timestamp":"2025-08-19T17:46:47.696Z","level":"debug","message":"Starting step 8: Update PR status"}
{"timestamp":"2025-08-19T17:46:47.696Z","level":"debug","message":"Completed step 8: Update PR status"}
{"timestamp":"2025-08-19T17:46:47.696Z","level":"info","message":"\u001b[32m✅ Review completed successfully in 193943ms\u001b[39m"}
{"timestamp":"2025-08-19T17:46:47.697Z","level":"info","message":"Cleaning up workspace: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755625413758-mjw79z"}
{"timestamp":"2025-08-19T17:46:48.482Z","level":"info","message":"Workspace cleanup completed: 3976 files, 983 directories deleted"}
{"timestamp":"2025-08-19T17:47:42.204Z","level":"info","message":"\u001b[34m🚀 Starting Azure DevOps PR Review...\u001b[39m"}
{"timestamp":"2025-08-19T17:47:42.204Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T17:47:42.205Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T17:47:42.205Z","level":"info","message":"\u001b[34m[1/8]\u001b[39m Initializing and validating options..."}
{"timestamp":"2025-08-19T17:47:42.205Z","level":"debug","message":"Starting step 1: Initialize"}
{"timestamp":"2025-08-19T17:47:42.206Z","level":"info","message":"Loading configuration..."}
{"timestamp":"2025-08-19T17:47:42.207Z","level":"debug","message":"Found .adorevrc.yaml in project root, loading configuration"}
{"timestamp":"2025-08-19T17:47:42.207Z","level":"debug","message":"Project root configuration loaded successfully"}
{"timestamp":"2025-08-19T17:47:42.207Z","level":"info","message":"Using configuration from: project-root"}
{"timestamp":"2025-08-19T17:47:42.207Z","level":"debug","message":"Log level overridden by ADO_REVIEW_LOG_LEVEL: debug"}
{"timestamp":"2025-08-19T17:47:42.207Z","level":"debug","message":"Configuration loaded and merged successfully"}
{"timestamp":"2025-08-19T17:47:42.207Z","level":"debug","message":"Gemini timeout: 120000ms"}
{"timestamp":"2025-08-19T17:47:42.207Z","level":"debug","message":"Current log level: debug"}
{"timestamp":"2025-08-19T17:47:42.208Z","level":"debug","message":"Initializing GeminiAdapter with timeout: 120000ms"}
{"timestamp":"2025-08-19T17:47:42.209Z","level":"debug","message":"GeminiAdapter initialized with default timeout: 120000ms"}
{"timestamp":"2025-08-19T17:47:42.209Z","level":"debug","message":"All components initialized successfully"}
{"timestamp":"2025-08-19T17:47:42.209Z","level":"debug","message":"Completed step 1: Initialize"}
{"timestamp":"2025-08-19T17:47:42.209Z","level":"info","message":"\u001b[34m[2/8]\u001b[39m Setting up temporary workspace..."}
{"timestamp":"2025-08-19T17:47:42.209Z","level":"debug","message":"Starting step 2: Setup workspace"}
{"timestamp":"2025-08-19T17:47:42.216Z","level":"info","message":"Workspace created: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755625662210-ds6qwf"}
{"timestamp":"2025-08-19T17:47:42.217Z","level":"debug","message":"Workspace config path: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755625662210-ds6qwf/.adorevrc.yaml"}
{"timestamp":"2025-08-19T17:47:42.217Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T17:47:42.217Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T17:47:42.217Z","level":"debug","message":"Completed step 2: Setup workspace"}
{"timestamp":"2025-08-19T17:47:42.217Z","level":"info","message":"\u001b[34m[3/8]\u001b[39m Fetching PR information and changes..."}
{"timestamp":"2025-08-19T17:47:42.217Z","level":"debug","message":"Starting step 3: Fetch PR info and diffs"}
{"timestamp":"2025-08-19T17:47:42.217Z","level":"debug","message":"Fetching PR 18816 info"}
{"timestamp":"2025-08-19T17:47:42.218Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18816"}
{"timestamp":"2025-08-19T17:47:42.612Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18816"}
{"timestamp":"2025-08-19T17:47:42.612Z","level":"debug","message":"Successfully fetched PR 18816 info"}
{"timestamp":"2025-08-19T17:47:42.612Z","level":"debug","message":"Response status: 200"}
{"timestamp":"2025-08-19T17:47:42.612Z","level":"debug","message":"Response data keys:"}
{"timestamp":"2025-08-19T17:47:42.612Z","level":"debug","message":"PR Info structure:"}
{"timestamp":"2025-08-19T17:47:42.612Z","level":"debug","message":"Completed fetchPRInfo"}
{"timestamp":"2025-08-19T17:47:42.613Z","level":"debug","message":"fetchDiffs - prInfo structure:"}
{"timestamp":"2025-08-19T17:47:42.613Z","level":"info","message":"Cloning repository: https://inploid@dev.azure.com/inploid/AuditReactProject/_git/AuditReactProject.RN0.71.X"}
{"timestamp":"2025-08-19T17:47:42.613Z","level":"debug","message":"Clone options: {\"branch\":\"refs/heads/feature/TDM-14376\",\"workingDirectory\":\"/var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755625662210-ds6qwf/source\"}"}
{"timestamp":"2025-08-19T17:47:42.613Z","level":"debug","message":"Executing: git init "}
{"timestamp":"2025-08-19T17:47:42.637Z","level":"debug","message":"Executing: git remote add origin https://inploid@dev.azure.com/inploid/AuditReactProject/_git/AuditReactProject.RN0.71.X"}
{"timestamp":"2025-08-19T17:47:42.651Z","level":"debug","message":"Executing: git fetch origin refs/heads/feature/TDM-14376"}
{"timestamp":"2025-08-19T17:48:24.247Z","level":"debug","message":"Executing: git checkout -b local-branch origin/feature/TDM-14376"}
{"timestamp":"2025-08-19T17:48:24.801Z","level":"debug","message":"Executing: git rev-parse HEAD"}
{"timestamp":"2025-08-19T17:48:24.811Z","level":"info","message":"Successfully cloned repository to /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755625662210-ds6qwf/source"}
{"timestamp":"2025-08-19T17:48:24.811Z","level":"debug","message":"Commit ID: 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:48:24.811Z","level":"debug","message":"Reinitializing ConfigLoader with cloned workspace directory:"}
{"timestamp":"2025-08-19T17:48:24.811Z","level":"debug","message":"Workspace config path: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755625662210-ds6qwf/source/.adorevrc.yaml"}
{"timestamp":"2025-08-19T17:48:24.811Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T17:48:24.811Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T17:48:24.812Z","level":"debug","message":"Found .adorevrc.yaml in project root, loading configuration"}
{"timestamp":"2025-08-19T17:48:24.813Z","level":"debug","message":"Project root configuration loaded successfully"}
{"timestamp":"2025-08-19T17:48:24.813Z","level":"info","message":"Using configuration from: project-root"}
{"timestamp":"2025-08-19T17:48:24.813Z","level":"debug","message":"Log level overridden by ADO_REVIEW_LOG_LEVEL: debug"}
{"timestamp":"2025-08-19T17:48:24.813Z","level":"debug","message":"Configuration loaded and merged successfully"}
{"timestamp":"2025-08-19T17:48:24.813Z","level":"debug","message":"Gemini timeout: 120000ms"}
{"timestamp":"2025-08-19T17:48:24.813Z","level":"debug","message":"Current log level: debug"}
{"timestamp":"2025-08-19T17:48:24.813Z","level":"debug","message":"Reloaded configuration from workspace:"}
{"timestamp":"2025-08-19T17:48:24.813Z","level":"info","message":"Fetching iteration changes for PR 18816"}
{"timestamp":"2025-08-19T17:48:24.813Z","level":"debug","message":"Fetching PR 18816 iterations"}
{"timestamp":"2025-08-19T17:48:24.814Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18816/iterations"}
{"timestamp":"2025-08-19T17:48:24.996Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18816/iterations"}
{"timestamp":"2025-08-19T17:48:24.996Z","level":"debug","message":"Successfully fetched 1 iterations"}
{"timestamp":"2025-08-19T17:48:24.996Z","level":"debug","message":"Fetching changes for iteration 1"}
{"timestamp":"2025-08-19T17:48:24.997Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18816/iterations/1/changes"}
{"timestamp":"2025-08-19T17:48:25.177Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18816/iterations/1/changes"}
{"timestamp":"2025-08-19T17:48:25.177Z","level":"debug","message":"Successfully fetched 19 changes"}
{"timestamp":"2025-08-19T17:48:25.177Z","level":"debug","message":"Processing iteration changes with 19 file changes"}
{"timestamp":"2025-08-19T17:48:25.177Z","level":"debug","message":"Processing iteration change for file: /__mocks__/@react-native-community/geolocation.js"}
{"timestamp":"2025-08-19T17:48:25.178Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:48:25.178Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- __mocks__/@react-native-community/geolocation.js"}
{"timestamp":"2025-08-19T17:48:25.196Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:48:25.197Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/location-helper.test.ts"}
{"timestamp":"2025-08-19T17:48:25.197Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:48:25.197Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- __tests__/app/lib/location-helper.test.ts"}
{"timestamp":"2025-08-19T17:48:25.209Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:48:25.209Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/orientation.test.ts"}
{"timestamp":"2025-08-19T17:48:25.209Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:48:25.209Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- __tests__/app/lib/orientation.test.ts"}
{"timestamp":"2025-08-19T17:48:25.221Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:48:25.221Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/request-service-helper.test.ts"}
{"timestamp":"2025-08-19T17:48:25.221Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:48:25.221Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- __tests__/app/lib/request-service-helper.test.ts"}
{"timestamp":"2025-08-19T17:48:25.233Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:48:25.234Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/print-provider.test.ts"}
{"timestamp":"2025-08-19T17:48:25.234Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:48:25.234Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- __tests__/app/lib/print-provider.test.ts"}
{"timestamp":"2025-08-19T17:48:25.245Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:48:25.245Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/regex-validate-operation.test.ts"}
{"timestamp":"2025-08-19T17:48:25.245Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:48:25.245Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- __tests__/app/lib/regex-validate-operation.test.ts"}
{"timestamp":"2025-08-19T17:48:25.257Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:48:25.257Z","level":"debug","message":"Processing iteration change for file: /app/lib/regex-validate-operation.ts"}
{"timestamp":"2025-08-19T17:48:25.257Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:48:25.257Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- app/lib/regex-validate-operation.ts"}
{"timestamp":"2025-08-19T17:48:25.269Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:48:25.269Z","level":"debug","message":"Processing iteration change for file: /app/lib/orientation.ts"}
{"timestamp":"2025-08-19T17:48:25.269Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:48:25.269Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- app/lib/orientation.ts"}
{"timestamp":"2025-08-19T17:48:25.281Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:48:25.282Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/responsive.test.ts"}
{"timestamp":"2025-08-19T17:48:25.282Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:48:25.282Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- __tests__/app/lib/responsive.test.ts"}
{"timestamp":"2025-08-19T17:48:25.294Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:48:25.295Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/sentry/SentryMobile.test.ts"}
{"timestamp":"2025-08-19T17:48:25.295Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:48:25.295Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- __tests__/app/lib/sentry/SentryMobile.test.ts"}
{"timestamp":"2025-08-19T17:48:25.307Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:48:25.307Z","level":"debug","message":"Processing iteration change for file: /app/lib/location-helper.ts"}
{"timestamp":"2025-08-19T17:48:25.307Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:48:25.308Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- app/lib/location-helper.ts"}
{"timestamp":"2025-08-19T17:48:25.367Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:48:25.368Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/route-helper.test.ts"}
{"timestamp":"2025-08-19T17:48:25.368Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:48:25.368Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- __tests__/app/lib/route-helper.test.ts"}
{"timestamp":"2025-08-19T17:48:25.391Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:48:25.391Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/sentry/SentryBackend.test.ts"}
{"timestamp":"2025-08-19T17:48:25.391Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:48:25.391Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- __tests__/app/lib/sentry/SentryBackend.test.ts"}
{"timestamp":"2025-08-19T17:48:25.402Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:48:25.402Z","level":"debug","message":"Processing iteration change for file: /app/lib/print-provider.ts"}
{"timestamp":"2025-08-19T17:48:25.402Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:48:25.402Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- app/lib/print-provider.ts"}
{"timestamp":"2025-08-19T17:48:25.414Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:48:25.414Z","level":"debug","message":"Processing iteration change for file: /app/lib/responsive.ts"}
{"timestamp":"2025-08-19T17:48:25.414Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:48:25.414Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- app/lib/responsive.ts"}
{"timestamp":"2025-08-19T17:48:25.425Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:48:25.425Z","level":"debug","message":"Processing iteration change for file: /app/lib/sentry/SentryBackend.ts"}
{"timestamp":"2025-08-19T17:48:25.425Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:48:25.425Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- app/lib/sentry/SentryBackend.ts"}
{"timestamp":"2025-08-19T17:48:25.438Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:48:25.438Z","level":"debug","message":"Processing iteration change for file: /app/lib/route-helper.ts"}
{"timestamp":"2025-08-19T17:48:25.438Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:48:25.438Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- app/lib/route-helper.ts"}
{"timestamp":"2025-08-19T17:48:25.450Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:48:25.450Z","level":"debug","message":"Processing iteration change for file: /app/lib/sentry/SentryMobile.ts"}
{"timestamp":"2025-08-19T17:48:25.450Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:48:25.450Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- app/lib/sentry/SentryMobile.ts"}
{"timestamp":"2025-08-19T17:48:25.462Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:48:25.462Z","level":"debug","message":"Processing iteration change for file: /app/lib/request-service-helper.ts"}
{"timestamp":"2025-08-19T17:48:25.462Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:48:25.462Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- app/lib/request-service-helper.ts"}
{"timestamp":"2025-08-19T17:48:25.475Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:48:25.475Z","level":"info","message":"Successfully fetched diff: 19 files, +2233/-65 lines"}
{"timestamp":"2025-08-19T17:48:25.477Z","level":"debug","message":"Diff data saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755625662210-ds6qwf/logs/diffs/diff-pr-pr-18816-2025-08-19T17-48-25-476Z.txt"}
{"timestamp":"2025-08-19T17:48:25.477Z","level":"debug","message":"Completed step 3: Fetch PR info and diffs"}
{"timestamp":"2025-08-19T17:48:25.477Z","level":"info","message":"\u001b[34m[4/8]\u001b[39m Loading rules and building review context..."}
{"timestamp":"2025-08-19T17:48:25.477Z","level":"debug","message":"Starting step 4: Load rules and build context"}
{"timestamp":"2025-08-19T17:48:25.477Z","level":"info","message":"Loading review rules and guidelines"}
{"timestamp":"2025-08-19T17:48:25.477Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T17:48:25.478Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T17:48:25.480Z","level":"warn","message":"No rules found in /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T17:48:25.480Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T17:48:25.481Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T17:48:25.483Z","level":"debug","message":"Loaded 28 rules from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T17:48:25.484Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T17:48:25.484Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T17:48:25.484Z","level":"debug","message":"Loaded guideline \"Azure DevOps Review Rules\" from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T17:48:25.484Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T17:48:25.485Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T17:48:25.486Z","level":"debug","message":"Loaded guideline \"React Native Field App - Architecture Guide\" from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T17:48:25.487Z","level":"info","message":"Loaded 1 rule sets, 28 total rules (28 enabled), 2 guidelines"}
{"timestamp":"2025-08-19T17:48:25.487Z","level":"debug","message":"Completed loadRules"}
{"timestamp":"2025-08-19T17:48:25.487Z","level":"info","message":"Building review context"}
{"timestamp":"2025-08-19T17:48:25.488Z","level":"info","message":"Context built: 19 files, 36 hunks, 28 rules, 2 guidelines"}
{"timestamp":"2025-08-19T17:48:25.488Z","level":"debug","message":"Completed step 4: Load rules and build context"}
{"timestamp":"2025-08-19T17:48:25.488Z","level":"info","message":"\u001b[34m[5/8]\u001b[39m Planning and executing AI review..."}
{"timestamp":"2025-08-19T17:48:25.488Z","level":"debug","message":"Starting step 5: Plan and execute review"}
{"timestamp":"2025-08-19T17:48:25.488Z","level":"info","message":"Creating review plan"}
{"timestamp":"2025-08-19T17:48:25.488Z","level":"debug","message":"Completed planReview"}
{"timestamp":"2025-08-19T17:48:25.488Z","level":"debug","message":"Executing Gemini review with plan"}
{"timestamp":"2025-08-19T17:48:25.488Z","level":"info","message":"Executing single batch review"}
{"timestamp":"2025-08-19T17:48:25.488Z","level":"info","message":"Starting Gemini review with model: gemini-2.5-flash"}
{"timestamp":"2025-08-19T17:48:25.489Z","level":"debug","message":"Prompt data saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755625662210-ds6qwf/logs/prompts/prompt-pr-review-2025-08-19T17-48-25-489Z.txt"}
{"timestamp":"2025-08-19T17:48:25.489Z","level":"debug","message":"Spawning Gemini CLI with stdin approach"}
{"timestamp":"2025-08-19T17:48:26.466Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T17:48:26.542Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T17:48:26.572Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T17:48:28.719Z","level":"debug","message":"Gemini CLI stderr: Attempt 1 failed with status 429. Retrying with backoff... GaxiosError: [{\n  \"error\": {\n    \"code\": 429,\n    \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\n    \"errors\": [\n      {\n        \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\n        \"domain\": \"global\",\n        \"reason\": \"rateLimitExceeded\"\n      }\n    ],\n    \"status\": \"RESOURCE_EXHAUSTED\"\n  }\n}\n]\n    at Gaxios._request (/Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/gaxios/build/src/gaxios.js:142:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OAuth2Client.requestAsync (/Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/google-auth-library/build/src/auth/oauth2client.js:429:18)\n    at async CodeAssistServer.streamEndpoint (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/code_assist/server.js:60:21)\n    at async CodeAssistServer.generateContentStream (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/code_assist/server.js:21:23)\n    at async retryWithBackoff (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/utils/retry.js:61:20)\n    at async GeminiChat.sendMessageStream (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/core/geminiChat.js:287:36)\n    at async runNonInteractive (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/dist/src/nonInteractiveCli.js:43:36)\n    at async main (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/dist/src/gemini.js:154:5) {\n  config: {\n    url: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse',\n    method: 'POST',\n    params: { alt: 'sse' },\n    headers: {\n      'Content-Type': 'application/json',\n      'User-Agent': 'GeminiCLI/v20.19.0 (darwin; arm64) google-api-nodejs-client/9.15.1',\n      Authorization: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n      'x-goog-api-client': 'gl-node/20.19.0'\n    },\n    responseType: 'stream',\n    body: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n    signal: AbortSignal { aborted: false },\n    paramsSerializer: [Function: paramsSerializer],\n    validateStatus: [Function: validateStatus],\n    errorRedactor: [Function: defaultErrorRedactor]\n  },\n  response: {\n    config: {\n      url: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse',\n      method: 'POST',\n      params: [Object],\n      headers: [Object],\n      responseType: 'stream',\n      body: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n      signal: [AbortSignal],\n      paramsSerializer: [Function: paramsSerializer],\n      validateStatus: [Function: validateStatus],\n      errorRedactor: [Function: defaultErrorRedactor]\n    },\n    data: '[{\\n' +\n      '  \"error\": {\\n' +\n      '    \"code\": 429,\\n' +\n      '    \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\\n' +\n      '    \"errors\": [\\n' +\n      '      {\\n' +\n      '        \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\\n' +\n      '        \"domain\": \"global\",\\n' +\n      '        \"reason\": \"rateLimitExceeded\"\\n' +\n      '      }\\n' +\n      '    ],\\n' +\n      '    \"status\": \"RESOURCE_EXHAUSTED\"\\n' +\n      '  }\\n' +\n      '}\\n' +\n      ']',\n    headers: {\n      'alt-svc': 'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000',\n      'content-length': '514',\n      'content-type': 'application/json; charset=UTF-8',\n      date: 'Tue, 19 Aug 2025 17:48:28 GMT',\n      server: 'ESF',\n      'server-timing': 'gfet4t7; dur=599',\n      vary: 'Origin, X-Origin, Referer',\n      'x-content-type-options': 'nosniff',\n      'x-frame-options': 'SAMEORIGIN',\n      'x-xss-protection': '0'\n    },\n    status: 429,\n    statusText: 'Too Many Requests',\n    request: {\n      responseURL: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse'\n    }\n  },\n  error: undefined,\n  status: 429,\n  [Symbol(gaxios-gaxios-error)]: '6.7.1'\n}"}
{"timestamp":"2025-08-19T17:49:24.269Z","level":"debug","message":"Gemini CLI stdout: ```json\n{\n  \"findings\": [\n    {\n      \"file\": \"/__tests__/app/lib/request-service-helper.test.ts\",\n      \"line\": 1,\n      \"endLine\": 215,\n      \"severity\": \"warning\",\n      \""}
{"timestamp":"2025-08-19T17:49:24.271Z","level":"debug","message":"Gemini CLI stdout: message\": \"⚠️ `request-service-helper` için yazılan test dosyası, fonksiyonların gerçek implementasyonunu test etmiyor. Test edilen modüldeki fonksiyonlar `jest.fn()` ile mock'lanmış ve testler bu mock'ları çağırıyor. Bu durum, helper fonksiyonları iç"}
{"timestamp":"2025-08-19T17:49:24.642Z","level":"debug","message":"Gemini CLI stdout: indeki iş mantığı için sıfır test kapsamı anlamına geliyor ve yanıltıcı bir test sonucu üretir.\",\n      \"suggestion\": \"💡 Testleri, gerçek fonksiyonları import edip çeşitli girdilerle davranışlarını test edecek şekilde yeniden düzenleyin. Mock'lar, test edilen fonksiyonlar için değil, yalnızca harici"}
{"timestamp":"2025-08-19T17:49:25.029Z","level":"debug","message":"Gemini CLI stdout: bağımlılıklar (API çağrıları, kütüphaneler vb.) için kullanılmalıdır. Örneğin:\\n```typescript\\n// Gerçek fonksiyonu import et\\nimport { checkDynamicFieldRequiredAnswers } from \\\"../../../app/lib/request-service-helper\\\";\\n\\ndescribe(\\\""}
{"timestamp":"2025-08-19T17:49:25.496Z","level":"debug","message":"Gemini CLI stdout: checkDynamicFieldRequiredAnswers\\\", () => {\\n  it(\\\"should return success true when dynamicFields is empty\\\", () => {\\n    // Gerçek fonksiyonu çağır\\n    const result = checkDynamicFieldRequiredAnswers([], {});\\n    expect(result.success).toBe(true);\\n"}
{"timestamp":"2025-08-19T17:49:25.941Z","level":"debug","message":"Gemini CLI stdout: expect(result.field).toBe(null);\\n  });\\n});\\n```\",\n      \"ruleId\": \"unit-test-coverage\",\n      \"category\": \"testing\"\n    },\n    {\n      \"file\": \"/__tests__/app/lib/route-helper."}
{"timestamp":"2025-08-19T17:49:26.464Z","level":"debug","message":"Gemini CLI stdout: test.ts\",\n      \"line\": 153,\n      \"endLine\": 187,\n      \"severity\": \"warning\",\n      \"message\": \"⚠️ 'should return the last unfilled day' test senaryosu yanlış bir doğrulama (`assertion`) içeriyor. Sağ"}
{"timestamp":"2025-08-19T17:49:26.893Z","level":"debug","message":"Gemini CLI stdout: lanan mock veriye ve fonksiyonun mantığına göre, testin doldurulmamış gün (21 Mayıs) için bir `Road` nesnesi dönmesini beklemesi gerekirken, sonucun `undefined` olduğunu doğruluyor. Bu durum testin kendisinde bir hata olduğunu gösteriyor.\",\n      \"suggestion\":"}
{"timestamp":"2025-08-19T17:49:27.383Z","level":"debug","message":"Gemini CLI stdout: \"💡 `expect(result).toBeUndefined()` doğrulamasını, beklenen `Road` nesnesini içerecek şekilde `expect(result).toEqual(...)` olarak düzeltin. Bu, testin fonksiyon mantığını doğru bir şekilde doğrulamasını sağlayacaktır. Doldurulmamış gün verisi `mockData."}
{"timestamp":"2025-08-19T17:49:27.793Z","level":"debug","message":"Gemini CLI stdout: roadInfos[1]` olduğundan, doğrulama `expect(result).toEqual(mockData.roadInfos[1]);` gibi olmalıdır.\",\n      \"ruleId\": \"unit-test-coverage\",\n      \"category\": \"testing\"\n    }\n  ],\n  \"summary\": \""}
{"timestamp":"2025-08-19T17:49:28.305Z","level":"debug","message":"Gemini CLI stdout: Kod değişiklikleri genel olarak olumlu. Özellikle `lib` altındaki helper fonksiyonlarına JSDoc formatında açıklamalar eklenmesi ve kapsamlı yeni birim testlerinin yazılması kod kalitesini ve okunabilirliği artırıyor. Ancak, iki önemli test dosyasında kritik hatalar tespit edildi:\\n"}
{"timestamp":"2025-08-19T17:49:28.720Z","level":"debug","message":"Gemini CLI stdout: \\n1.  `request-service-helper.test.ts` dosyasındaki testler, asıl fonksiyonları test etmek yerine mock'ları test ediyor, bu da testlerin işlevsiz olmasına neden oluyor.\\n2.  `route-helper.test.ts` dosyasında hatalı"}
{"timestamp":"2025-08-19T17:49:29.116Z","level":"debug","message":"Gemini CLI stdout: bir doğrulama (assertion) mevcut, bu da testin güvenilirliğini zayıflatıyor.\\n\\nBu test hatalarının düzeltilmesi, eklenen yeni testlerin kalitesini ve projenin genel sağlığını güvence altına almak için önemlidir.\"\n}\n```"}
{"timestamp":"2025-08-19T17:49:29.121Z","level":"debug","message":"Gemini CLI stdout: "}
{"timestamp":"2025-08-19T17:49:29.133Z","level":"debug","message":"Gemini CLI exited with code: 0"}
{"timestamp":"2025-08-19T17:49:29.133Z","level":"debug","message":"Gemini CLI final stdout: [dotenv@16.6.0] injecting env (9) from .env\n[dotenv@16.6.0] injecting env (9) from .env\n[dotenv@16.6.0] injecting env (9) from .env\n```json\n{\n  \"findings\": [\n    {\n      \"file\": \"/__tests__/app/lib/request-service-helper.test.ts\",\n      \"line\": 1,\n      \"endLine\": 215,\n      \"severity\": \"warning\",\n      \"message\": \"⚠️ `request-service-helper` için yazılan test dosyası, fonksiyonların gerçek implementasyonunu test etmiyor. Test edilen modüldeki fonksiyonlar `jest.fn()` ile mock'lanmış ve testler bu mock'ları çağırıyor. Bu durum, helper fonksiyonları içindeki iş mantığı için sıfır test kapsamı anlamına geliyor ve yanıltıcı bir test sonucu üretir.\",\n      \"suggestion\": \"💡 Testleri, gerçek fonksiyonları import edip çeşitli girdilerle davranışlarını test edecek şekilde yeniden düzenleyin. Mock'lar, test edilen fonksiyonlar için değil, yalnızca harici bağımlılıklar (API çağrıları, kütüphaneler vb.) için kullanılmalıdır. Örneğin:\\n```typescript\\n// Gerçek fonksiyonu import et\\nimport { checkDynamicFieldRequiredAnswers } from \\\"../../../app/lib/request-service-helper\\\";\\n\\ndescribe(\\\"checkDynamicFieldRequiredAnswers\\\", () => {\\n  it(\\\"should return success true when dynamicFields is empty\\\", () => {\\n    // Gerçek fonksiyonu çağır\\n    const result = checkDynamicFieldRequiredAnswers([], {});\\n    expect(result.success).toBe(true);\\n    expect(result.field).toBe(null);\\n  });\\n});\\n```\",\n      \"ruleId\": \"unit-test-coverage\",\n      \"category\": \"testing\"\n    },\n    {\n      \"file\": \"/__tests__/app/lib/route-helper.test.ts\",\n      \"line\": 153,\n      \"endLine\": 187,\n      \"severity\": \"warning\",\n      \"message\": \"⚠️ 'should return the last unfilled day' test senaryosu yanlış bir doğrulama (`assertion`) içeriyor. Sağlanan mock veriye ve fonksiyonun mantığına göre, testin doldurulmamış gün (21 Mayıs) için bir `Road` nesnesi dönmesini beklemesi gerekirken, sonucun `undefined` olduğunu doğruluyor. Bu durum testin kendisinde bir hata olduğunu gösteriyor.\",\n      \"suggestion\": \"💡 `expect(result).toBeUndefined()` doğrulamasını, beklenen `Road` nesnesini içerecek şekilde `expect(result).toEqual(...)` olarak düzeltin. Bu, testin fonksiyon mantığını doğru bir şekilde doğrulamasını sağlayacaktır. Doldurulmamış gün verisi `mockData.roadInfos[1]` olduğundan, doğrulama `expect(result).toEqual(mockData.roadInfos[1]);` gibi olmalıdır.\",\n      \"ruleId\": \"unit-test-coverage\",\n      \"category\": \"testing\"\n    }\n  ],\n  \"summary\": \"Kod değişiklikleri genel olarak olumlu. Özellikle `lib` altındaki helper fonksiyonlarına JSDoc formatında açıklamalar eklenmesi ve kapsamlı yeni birim testlerinin yazılması kod kalitesini ve okunabilirliği artırıyor. Ancak, iki önemli test dosyasında kritik hatalar tespit edildi:\\n\\n1.  `request-service-helper.test.ts` dosyasındaki testler, asıl fonksiyonları test etmek yerine mock'ları test ediyor, bu da testlerin işlevsiz olmasına neden oluyor.\\n2.  `route-helper.test.ts` dosyasında hatalı bir doğrulama (assertion) mevcut, bu da testin güvenilirliğini zayıflatıyor.\\n\\nBu test hatalarının düzeltilmesi, eklenen yeni testlerin kalitesini ve projenin genel sağlığını güvence altına almak için önemlidir.\"\n}\n```"}
{"timestamp":"2025-08-19T17:49:29.133Z","level":"debug","message":"Gemini CLI final stderr: Attempt 1 failed with status 429. Retrying with backoff... GaxiosError: [{\n  \"error\": {\n    \"code\": 429,\n    \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\n    \"errors\": [\n      {\n        \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\n        \"domain\": \"global\",\n        \"reason\": \"rateLimitExceeded\"\n      }\n    ],\n    \"status\": \"RESOURCE_EXHAUSTED\"\n  }\n}\n]\n    at Gaxios._request (/Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/gaxios/build/src/gaxios.js:142:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OAuth2Client.requestAsync (/Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/google-auth-library/build/src/auth/oauth2client.js:429:18)\n    at async CodeAssistServer.streamEndpoint (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/code_assist/server.js:60:21)\n    at async CodeAssistServer.generateContentStream (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/code_assist/server.js:21:23)\n    at async retryWithBackoff (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/utils/retry.js:61:20)\n    at async GeminiChat.sendMessageStream (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/core/geminiChat.js:287:36)\n    at async runNonInteractive (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/dist/src/nonInteractiveCli.js:43:36)\n    at async main (file:///Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/@google/gemini-cli/dist/src/gemini.js:154:5) {\n  config: {\n    url: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse',\n    method: 'POST',\n    params: { alt: 'sse' },\n    headers: {\n      'Content-Type': 'application/json',\n      'User-Agent': 'GeminiCLI/v20.19.0 (darwin; arm64) google-api-nodejs-client/9.15.1',\n      Authorization: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n      'x-goog-api-client': 'gl-node/20.19.0'\n    },\n    responseType: 'stream',\n    body: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n    signal: AbortSignal { aborted: false },\n    paramsSerializer: [Function: paramsSerializer],\n    validateStatus: [Function: validateStatus],\n    errorRedactor: [Function: defaultErrorRedactor]\n  },\n  response: {\n    config: {\n      url: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse',\n      method: 'POST',\n      params: [Object],\n      headers: [Object],\n      responseType: 'stream',\n      body: '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.',\n      signal: [AbortSignal],\n      paramsSerializer: [Function: paramsSerializer],\n      validateStatus: [Function: validateStatus],\n      errorRedactor: [Function: defaultErrorRedactor]\n    },\n    data: '[{\\n' +\n      '  \"error\": {\\n' +\n      '    \"code\": 429,\\n' +\n      '    \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\\n' +\n      '    \"errors\": [\\n' +\n      '      {\\n' +\n      '        \"message\": \"Resource exhausted. Please try again later. Please refer to https://cloud.google.com/vertex-ai/generative-ai/docs/error-code-429 for more details.\",\\n' +\n      '        \"domain\": \"global\",\\n' +\n      '        \"reason\": \"rateLimitExceeded\"\\n' +\n      '      }\\n' +\n      '    ],\\n' +\n      '    \"status\": \"RESOURCE_EXHAUSTED\"\\n' +\n      '  }\\n' +\n      '}\\n' +\n      ']',\n    headers: {\n      'alt-svc': 'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000',\n      'content-length': '514',\n      'content-type': 'application/json; charset=UTF-8',\n      date: 'Tue, 19 Aug 2025 17:48:28 GMT',\n      server: 'ESF',\n      'server-timing': 'gfet4t7; dur=599',\n      vary: 'Origin, X-Origin, Referer',\n      'x-content-type-options': 'nosniff',\n      'x-frame-options': 'SAMEORIGIN',\n      'x-xss-protection': '0'\n    },\n    status: 429,\n    statusText: 'Too Many Requests',\n    request: {\n      responseURL: 'https://cloudcode-pa.googleapis.com/v1internal:streamGenerateContent?alt=sse'\n    }\n  },\n  error: undefined,\n  status: 429,\n  [Symbol(gaxios-gaxios-error)]: '6.7.1'\n}"}
{"timestamp":"2025-08-19T17:49:29.135Z","level":"debug","message":"Gemini response saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755625662210-ds6qwf/logs/responses/gemini-response-pr-req-1755625705488-fyqsa784h-2025-08-19T17-49-29-134Z.json"}
{"timestamp":"2025-08-19T17:49:29.135Z","level":"warn","message":"Failed to parse JSON response: Unterminated string in JSON at position 799"}
{"timestamp":"2025-08-19T17:49:29.135Z","level":"debug","message":"Response content: [dotenv@16.6.0] injecting env (9) from .env\n[dotenv@16.6.0] injecting env (9) from .env\n[dotenv@16.6.0] injecting env (9) from .env\n```json\n{\n  \"findings\": [\n    {\n      \"file\": \"/__tests__/app/lib/request-service-helper.test.ts\",\n      \"line\": 1,\n      \"endLine\": 215,\n      \"severity\": \"warning\",\n      \"message\": \"⚠️ `request-service-helper` için yazılan test dosyası, fonksiyonların gerçek implementasyonunu test etmiyor. Test edilen modüldeki fonksiyonlar `jest.fn()` ile mock'lanmış ve testler bu mock'ları çağırıyor. Bu durum, helper fonksiyonları içindeki iş mantığı için sıfır test kapsamı anlamına geliyor ve yanıltıcı bir test sonucu üretir.\",\n      \"suggestion\": \"💡 Testleri, gerçek fonksiyonları import edip çeşitli girdilerle davranışlarını test edecek şekilde yeniden düzenleyin. Mock'lar, test edilen fonksiyonlar için değil, yalnızca harici bağımlılıklar (API çağrıları, kütüphaneler vb.) için kullanılmalıdır. Örneğin:\\n```typescript\\n// Gerçek fonksiyonu import et\\nimport { checkDynamicFieldRequiredAnswers } from \\\"../../../app/lib/request-service-helper\\\";\\n\\ndescribe(\\\"checkDynamicFieldRequiredAnswers\\\", () => {\\n  it(\\\"should return success true when dynamicFields is empty\\\", () => {\\n    // Gerçek fonksiyonu çağır\\n    const result = checkDynamicFieldRequiredAnswers([], {});\\n    expect(result.success).toBe(true);\\n    expect(result.field).toBe(null);\\n  });\\n});\\n```\",\n      \"ruleId\": \"unit-test-coverage\",\n      \"category\": \"testing\"\n    },\n    {\n      \"file\": \"/__tests__/app/lib/route-helper.test.ts\",\n      \"line\": 153,\n      \"endLine\": 187,\n      \"severity\": \"warning\",\n      \"message\": \"⚠️ 'should return the last unfilled day' test senaryosu yanlış bir doğrulama (`assertion`) içeriyor. Sağlanan mock veriye ve fonksiyonun mantığına göre, testin doldurulmamış gün (21 Mayıs) için bir `Road` nesnesi dönmesini beklemesi gerekirken, sonucun `undefined` olduğunu doğruluyor. Bu durum testin kendisinde bir hata olduğunu gösteriyor.\",\n      \"suggestion\": \"💡 `expect(result).toBeUndefined()` doğrulamasını, beklenen `Road` nesnesini içerecek şekilde `expect(result).toEqual(...)` olarak düzeltin. Bu, testin fonksiyon mantığını doğru bir şekilde doğrulamasını sağlayacaktır. Doldurulmamış gün verisi `mockData.roadInfos[1]` olduğundan, doğrulama `expect(result).toEqual(mockData.roadInfos[1]);` gibi olmalıdır.\",\n      \"ruleId\": \"unit-test-coverage\",\n      \"category\": \"testing\"\n    }\n  ],\n  \"summary\": \"Kod değişiklikleri genel olarak olumlu. Özellikle `lib` altındaki helper fonksiyonlarına JSDoc formatında açıklamalar eklenmesi ve kapsamlı yeni birim testlerinin yazılması kod kalitesini ve okunabilirliği artırıyor. Ancak, iki önemli test dosyasında kritik hatalar tespit edildi:\\n\\n1.  `request-service-helper.test.ts` dosyasındaki testler, asıl fonksiyonları test etmek yerine mock'ları test ediyor, bu da testlerin işlevsiz olmasına neden oluyor.\\n2.  `route-helper.test.ts` dosyasında hatalı bir doğrulama (assertion) mevcut, bu da testin güvenilirliğini zayıflatıyor.\\n\\nBu test hatalarının düzeltilmesi, eklenen yeni testlerin kalitesini ve projenin genel sağlığını güvence altına almak için önemlidir.\"\n}\n```"}
{"timestamp":"2025-08-19T17:49:29.135Z","level":"debug","message":"Parsing response as plain text"}
{"timestamp":"2025-08-19T17:49:29.135Z","level":"info","message":"Review completed: 0 findings"}
{"timestamp":"2025-08-19T17:49:29.135Z","level":"debug","message":"Completed step 5: Plan and execute review"}
{"timestamp":"2025-08-19T17:49:29.136Z","level":"info","message":"\u001b[34m[6/8]\u001b[39m Processing and filtering findings..."}
{"timestamp":"2025-08-19T17:49:29.136Z","level":"debug","message":"Starting step 6: Process findings"}
{"timestamp":"2025-08-19T17:49:29.136Z","level":"info","message":"Found 0 total findings, 0 above threshold"}
{"timestamp":"2025-08-19T17:49:29.136Z","level":"debug","message":"Completed step 6: Process findings"}
{"timestamp":"2025-08-19T17:49:29.136Z","level":"info","message":"\u001b[34m[7/8]\u001b[39m Getting approval and posting comments..."}
{"timestamp":"2025-08-19T17:49:29.136Z","level":"debug","message":"Starting step 7: Get approval and post comments"}
{"timestamp":"2025-08-19T17:49:29.136Z","level":"info","message":"\u001b[32m✅ No issues found!\u001b[39m"}
{"timestamp":"2025-08-19T17:51:47.884Z","level":"debug","message":"Completed getApproval"}
{"timestamp":"2025-08-19T17:51:47.885Z","level":"info","message":"No findings to post"}
{"timestamp":"2025-08-19T17:51:47.885Z","level":"debug","message":"Completed step 7: Get approval and post comments"}
{"timestamp":"2025-08-19T17:51:47.885Z","level":"info","message":"\u001b[34m[8/8]\u001b[39m Updating PR status and cleaning up..."}
{"timestamp":"2025-08-19T17:51:47.885Z","level":"debug","message":"Starting step 8: Update PR status"}
{"timestamp":"2025-08-19T17:51:47.885Z","level":"debug","message":"Completed step 8: Update PR status"}
{"timestamp":"2025-08-19T17:51:47.885Z","level":"info","message":"\u001b[32m✅ Review completed successfully in 245680ms\u001b[39m"}
{"timestamp":"2025-08-19T17:51:47.886Z","level":"info","message":"Cleaning up workspace: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755625662210-ds6qwf"}
{"timestamp":"2025-08-19T17:51:48.551Z","level":"info","message":"Workspace cleanup completed: 3977 files, 983 directories deleted"}
{"timestamp":"2025-08-19T17:51:59.069Z","level":"info","message":"\u001b[34m🚀 Starting Azure DevOps PR Review...\u001b[39m"}
{"timestamp":"2025-08-19T17:51:59.070Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T17:51:59.070Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T17:51:59.070Z","level":"info","message":"\u001b[34m[1/8]\u001b[39m Initializing and validating options..."}
{"timestamp":"2025-08-19T17:51:59.070Z","level":"debug","message":"Starting step 1: Initialize"}
{"timestamp":"2025-08-19T17:51:59.071Z","level":"info","message":"Loading configuration..."}
{"timestamp":"2025-08-19T17:51:59.072Z","level":"debug","message":"Found .adorevrc.yaml in project root, loading configuration"}
{"timestamp":"2025-08-19T17:51:59.072Z","level":"debug","message":"Project root configuration loaded successfully"}
{"timestamp":"2025-08-19T17:51:59.072Z","level":"info","message":"Using configuration from: project-root"}
{"timestamp":"2025-08-19T17:51:59.073Z","level":"debug","message":"Log level overridden by ADO_REVIEW_LOG_LEVEL: debug"}
{"timestamp":"2025-08-19T17:51:59.073Z","level":"debug","message":"Configuration loaded and merged successfully"}
{"timestamp":"2025-08-19T17:51:59.073Z","level":"debug","message":"Gemini timeout: 120000ms"}
{"timestamp":"2025-08-19T17:51:59.073Z","level":"debug","message":"Current log level: debug"}
{"timestamp":"2025-08-19T17:51:59.073Z","level":"debug","message":"Initializing GeminiAdapter with timeout: 120000ms"}
{"timestamp":"2025-08-19T17:51:59.074Z","level":"debug","message":"GeminiAdapter initialized with default timeout: 120000ms"}
{"timestamp":"2025-08-19T17:51:59.074Z","level":"debug","message":"All components initialized successfully"}
{"timestamp":"2025-08-19T17:51:59.074Z","level":"debug","message":"Completed step 1: Initialize"}
{"timestamp":"2025-08-19T17:51:59.074Z","level":"info","message":"\u001b[34m[2/8]\u001b[39m Setting up temporary workspace..."}
{"timestamp":"2025-08-19T17:51:59.074Z","level":"debug","message":"Starting step 2: Setup workspace"}
{"timestamp":"2025-08-19T17:51:59.092Z","level":"info","message":"Workspace created: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755625919074-7bdvve"}
{"timestamp":"2025-08-19T17:51:59.092Z","level":"debug","message":"Workspace config path: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755625919074-7bdvve/.adorevrc.yaml"}
{"timestamp":"2025-08-19T17:51:59.092Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T17:51:59.093Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T17:51:59.093Z","level":"debug","message":"Completed step 2: Setup workspace"}
{"timestamp":"2025-08-19T17:51:59.094Z","level":"info","message":"\u001b[34m[3/8]\u001b[39m Fetching PR information and changes..."}
{"timestamp":"2025-08-19T17:51:59.094Z","level":"debug","message":"Starting step 3: Fetch PR info and diffs"}
{"timestamp":"2025-08-19T17:51:59.094Z","level":"debug","message":"Fetching PR 18816 info"}
{"timestamp":"2025-08-19T17:51:59.095Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18816"}
{"timestamp":"2025-08-19T17:51:59.587Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18816"}
{"timestamp":"2025-08-19T17:51:59.587Z","level":"debug","message":"Successfully fetched PR 18816 info"}
{"timestamp":"2025-08-19T17:51:59.587Z","level":"debug","message":"Response status: 200"}
{"timestamp":"2025-08-19T17:51:59.587Z","level":"debug","message":"Response data keys:"}
{"timestamp":"2025-08-19T17:51:59.587Z","level":"debug","message":"PR Info structure:"}
{"timestamp":"2025-08-19T17:51:59.587Z","level":"debug","message":"Completed fetchPRInfo"}
{"timestamp":"2025-08-19T17:51:59.587Z","level":"debug","message":"fetchDiffs - prInfo structure:"}
{"timestamp":"2025-08-19T17:51:59.588Z","level":"info","message":"Cloning repository: https://inploid@dev.azure.com/inploid/AuditReactProject/_git/AuditReactProject.RN0.71.X"}
{"timestamp":"2025-08-19T17:51:59.588Z","level":"debug","message":"Clone options: {\"branch\":\"refs/heads/feature/TDM-14376\",\"workingDirectory\":\"/var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755625919074-7bdvve/source\"}"}
{"timestamp":"2025-08-19T17:51:59.588Z","level":"debug","message":"Executing: git init "}
{"timestamp":"2025-08-19T17:51:59.612Z","level":"debug","message":"Executing: git remote add origin https://inploid@dev.azure.com/inploid/AuditReactProject/_git/AuditReactProject.RN0.71.X"}
{"timestamp":"2025-08-19T17:51:59.622Z","level":"debug","message":"Executing: git fetch origin refs/heads/feature/TDM-14376"}
{"timestamp":"2025-08-19T17:55:05.486Z","level":"debug","message":"Executing: git checkout -b local-branch origin/feature/TDM-14376"}
{"timestamp":"2025-08-19T17:55:06.038Z","level":"debug","message":"Executing: git rev-parse HEAD"}
{"timestamp":"2025-08-19T17:55:06.049Z","level":"info","message":"Successfully cloned repository to /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755625919074-7bdvve/source"}
{"timestamp":"2025-08-19T17:55:06.049Z","level":"debug","message":"Commit ID: 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:55:06.049Z","level":"debug","message":"Reinitializing ConfigLoader with cloned workspace directory:"}
{"timestamp":"2025-08-19T17:55:06.049Z","level":"debug","message":"Workspace config path: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755625919074-7bdvve/source/.adorevrc.yaml"}
{"timestamp":"2025-08-19T17:55:06.049Z","level":"debug","message":"Default config path: /Users/caglar/.nvm/versions/node/v20.19.0/lib/node_modules/ado-review-cli/dist/config/defaults.yaml"}
{"timestamp":"2025-08-19T17:55:06.049Z","level":"debug","message":"User config path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.adorevrc.yaml"}
{"timestamp":"2025-08-19T17:55:06.051Z","level":"debug","message":"Found .adorevrc.yaml in project root, loading configuration"}
{"timestamp":"2025-08-19T17:55:06.051Z","level":"debug","message":"Project root configuration loaded successfully"}
{"timestamp":"2025-08-19T17:55:06.052Z","level":"info","message":"Using configuration from: project-root"}
{"timestamp":"2025-08-19T17:55:06.052Z","level":"debug","message":"Log level overridden by ADO_REVIEW_LOG_LEVEL: debug"}
{"timestamp":"2025-08-19T17:55:06.052Z","level":"debug","message":"Configuration loaded and merged successfully"}
{"timestamp":"2025-08-19T17:55:06.052Z","level":"debug","message":"Gemini timeout: 120000ms"}
{"timestamp":"2025-08-19T17:55:06.052Z","level":"debug","message":"Current log level: debug"}
{"timestamp":"2025-08-19T17:55:06.053Z","level":"debug","message":"Reloaded configuration from workspace:"}
{"timestamp":"2025-08-19T17:55:06.053Z","level":"info","message":"Fetching iteration changes for PR 18816"}
{"timestamp":"2025-08-19T17:55:06.053Z","level":"debug","message":"Fetching PR 18816 iterations"}
{"timestamp":"2025-08-19T17:55:06.053Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18816/iterations"}
{"timestamp":"2025-08-19T17:55:06.057Z","level":"warn","message":"HTTP EPIPE error from /git/repositories/AuditReactProject.RN0.71.X/pullrequests/18816/iterations: write EPIPE. Retrying in 1000ms (attempt 1/3)"}
{"timestamp":"2025-08-19T17:55:07.060Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18816/iterations"}
{"timestamp":"2025-08-19T17:55:07.456Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18816/iterations"}
{"timestamp":"2025-08-19T17:55:07.456Z","level":"debug","message":"Successfully fetched 1 iterations"}
{"timestamp":"2025-08-19T17:55:07.457Z","level":"debug","message":"Fetching changes for iteration 1"}
{"timestamp":"2025-08-19T17:55:07.457Z","level":"debug","message":"Making GET request to https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18816/iterations/1/changes"}
{"timestamp":"2025-08-19T17:55:07.644Z","level":"debug","message":"Received 200 response from https://dev.azure.com/inploid/AuditReactProject/_apis/git/repositories/AuditReactProject.RN0.71.X/pullrequests/18816/iterations/1/changes"}
{"timestamp":"2025-08-19T17:55:07.644Z","level":"debug","message":"Successfully fetched 19 changes"}
{"timestamp":"2025-08-19T17:55:07.644Z","level":"debug","message":"Processing iteration changes with 19 file changes"}
{"timestamp":"2025-08-19T17:55:07.645Z","level":"debug","message":"Processing iteration change for file: /__mocks__/@react-native-community/geolocation.js"}
{"timestamp":"2025-08-19T17:55:07.645Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:55:07.645Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- __mocks__/@react-native-community/geolocation.js"}
{"timestamp":"2025-08-19T17:55:07.660Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:55:07.660Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/location-helper.test.ts"}
{"timestamp":"2025-08-19T17:55:07.660Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:55:07.660Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- __tests__/app/lib/location-helper.test.ts"}
{"timestamp":"2025-08-19T17:55:07.673Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:55:07.674Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/orientation.test.ts"}
{"timestamp":"2025-08-19T17:55:07.674Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:55:07.674Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- __tests__/app/lib/orientation.test.ts"}
{"timestamp":"2025-08-19T17:55:07.693Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:55:07.693Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/request-service-helper.test.ts"}
{"timestamp":"2025-08-19T17:55:07.694Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:55:07.694Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- __tests__/app/lib/request-service-helper.test.ts"}
{"timestamp":"2025-08-19T17:55:07.709Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:55:07.709Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/print-provider.test.ts"}
{"timestamp":"2025-08-19T17:55:07.709Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:55:07.709Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- __tests__/app/lib/print-provider.test.ts"}
{"timestamp":"2025-08-19T17:55:07.724Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:55:07.724Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/regex-validate-operation.test.ts"}
{"timestamp":"2025-08-19T17:55:07.724Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:55:07.724Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- __tests__/app/lib/regex-validate-operation.test.ts"}
{"timestamp":"2025-08-19T17:55:07.736Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:55:07.736Z","level":"debug","message":"Processing iteration change for file: /app/lib/regex-validate-operation.ts"}
{"timestamp":"2025-08-19T17:55:07.736Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:55:07.736Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- app/lib/regex-validate-operation.ts"}
{"timestamp":"2025-08-19T17:55:07.749Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:55:07.750Z","level":"debug","message":"Processing iteration change for file: /app/lib/orientation.ts"}
{"timestamp":"2025-08-19T17:55:07.750Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:55:07.750Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- app/lib/orientation.ts"}
{"timestamp":"2025-08-19T17:55:07.763Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:55:07.763Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/responsive.test.ts"}
{"timestamp":"2025-08-19T17:55:07.763Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:55:07.763Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- __tests__/app/lib/responsive.test.ts"}
{"timestamp":"2025-08-19T17:55:07.777Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:55:07.777Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/sentry/SentryMobile.test.ts"}
{"timestamp":"2025-08-19T17:55:07.777Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:55:07.777Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- __tests__/app/lib/sentry/SentryMobile.test.ts"}
{"timestamp":"2025-08-19T17:55:07.791Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:55:07.791Z","level":"debug","message":"Processing iteration change for file: /app/lib/location-helper.ts"}
{"timestamp":"2025-08-19T17:55:07.791Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:55:07.791Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- app/lib/location-helper.ts"}
{"timestamp":"2025-08-19T17:55:07.805Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:55:07.805Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/route-helper.test.ts"}
{"timestamp":"2025-08-19T17:55:07.806Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:55:07.806Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- __tests__/app/lib/route-helper.test.ts"}
{"timestamp":"2025-08-19T17:55:07.819Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:55:07.819Z","level":"debug","message":"Processing iteration change for file: /__tests__/app/lib/sentry/SentryBackend.test.ts"}
{"timestamp":"2025-08-19T17:55:07.819Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:55:07.819Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- __tests__/app/lib/sentry/SentryBackend.test.ts"}
{"timestamp":"2025-08-19T17:55:07.833Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:55:07.833Z","level":"debug","message":"Processing iteration change for file: /app/lib/print-provider.ts"}
{"timestamp":"2025-08-19T17:55:07.833Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:55:07.833Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- app/lib/print-provider.ts"}
{"timestamp":"2025-08-19T17:55:07.845Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:55:07.846Z","level":"debug","message":"Processing iteration change for file: /app/lib/responsive.ts"}
{"timestamp":"2025-08-19T17:55:07.846Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:55:07.846Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- app/lib/responsive.ts"}
{"timestamp":"2025-08-19T17:55:07.858Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:55:07.858Z","level":"debug","message":"Processing iteration change for file: /app/lib/sentry/SentryBackend.ts"}
{"timestamp":"2025-08-19T17:55:07.858Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:55:07.858Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- app/lib/sentry/SentryBackend.ts"}
{"timestamp":"2025-08-19T17:55:07.870Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:55:07.870Z","level":"debug","message":"Processing iteration change for file: /app/lib/route-helper.ts"}
{"timestamp":"2025-08-19T17:55:07.870Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:55:07.870Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- app/lib/route-helper.ts"}
{"timestamp":"2025-08-19T17:55:07.882Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:55:07.882Z","level":"debug","message":"Processing iteration change for file: /app/lib/sentry/SentryMobile.ts"}
{"timestamp":"2025-08-19T17:55:07.882Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:55:07.882Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- app/lib/sentry/SentryMobile.ts"}
{"timestamp":"2025-08-19T17:55:07.894Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:55:07.894Z","level":"debug","message":"Processing iteration change for file: /app/lib/request-service-helper.ts"}
{"timestamp":"2025-08-19T17:55:07.894Z","level":"debug","message":"Getting diff from 71176c6f1376191e2c2b16b0261983c607f09190 to 560d522af8587bacb7a5da88bd55fc0124a5c87d"}
{"timestamp":"2025-08-19T17:55:07.894Z","level":"debug","message":"Executing: git diff 71176c6f1376191e2c2b16b0261983c607f09190 560d522af8587bacb7a5da88bd55fc0124a5c87d -- app/lib/request-service-helper.ts"}
{"timestamp":"2025-08-19T17:55:07.905Z","level":"debug","message":"Successfully retrieved diff"}
{"timestamp":"2025-08-19T17:55:07.905Z","level":"info","message":"Successfully fetched diff: 19 files, +2233/-65 lines"}
{"timestamp":"2025-08-19T17:55:07.906Z","level":"debug","message":"Diff data saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755625919074-7bdvve/logs/diffs/diff-pr-pr-18816-2025-08-19T17-55-07-906Z.txt"}
{"timestamp":"2025-08-19T17:55:07.906Z","level":"debug","message":"Completed step 3: Fetch PR info and diffs"}
{"timestamp":"2025-08-19T17:55:07.907Z","level":"info","message":"\u001b[34m[4/8]\u001b[39m Loading rules and building review context..."}
{"timestamp":"2025-08-19T17:55:07.907Z","level":"debug","message":"Starting step 4: Load rules and build context"}
{"timestamp":"2025-08-19T17:55:07.907Z","level":"info","message":"Loading review rules and guidelines"}
{"timestamp":"2025-08-19T17:55:07.907Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T17:55:07.908Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T17:55:07.910Z","level":"warn","message":"No rules found in /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/unit_test_pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T17:55:07.910Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T17:55:07.911Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T17:55:07.912Z","level":"debug","message":"Loaded 28 rules from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/pull_request_review_rules.yaml"}
{"timestamp":"2025-08-19T17:55:07.912Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T17:55:07.913Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T17:55:07.913Z","level":"debug","message":"Loaded guideline \"Azure DevOps Review Rules\" from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/azdo_review_rules.md"}
{"timestamp":"2025-08-19T17:55:07.913Z","level":"debug","message":"Processing rules path: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T17:55:07.914Z","level":"debug","message":"Processing file: /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T17:55:07.914Z","level":"debug","message":"Loaded guideline \"React Native Field App - Architecture Guide\" from /Users/caglar/Desktop/audit.0.74.x/v5/field-v5/.trae/rules/project_rules.md"}
{"timestamp":"2025-08-19T17:55:07.915Z","level":"info","message":"Loaded 1 rule sets, 28 total rules (28 enabled), 2 guidelines"}
{"timestamp":"2025-08-19T17:55:07.915Z","level":"debug","message":"Completed loadRules"}
{"timestamp":"2025-08-19T17:55:07.915Z","level":"info","message":"Building review context"}
{"timestamp":"2025-08-19T17:55:07.916Z","level":"info","message":"Context built: 19 files, 36 hunks, 28 rules, 2 guidelines"}
{"timestamp":"2025-08-19T17:55:07.916Z","level":"debug","message":"Completed step 4: Load rules and build context"}
{"timestamp":"2025-08-19T17:55:07.916Z","level":"info","message":"\u001b[34m[5/8]\u001b[39m Planning and executing AI review..."}
{"timestamp":"2025-08-19T17:55:07.916Z","level":"debug","message":"Starting step 5: Plan and execute review"}
{"timestamp":"2025-08-19T17:55:07.916Z","level":"info","message":"Creating review plan"}
{"timestamp":"2025-08-19T17:55:07.916Z","level":"debug","message":"Completed planReview"}
{"timestamp":"2025-08-19T17:55:07.917Z","level":"debug","message":"Executing Gemini review with plan"}
{"timestamp":"2025-08-19T17:55:07.917Z","level":"info","message":"Executing single batch review"}
{"timestamp":"2025-08-19T17:55:07.917Z","level":"info","message":"Starting Gemini review with model: gemini-2.5-flash"}
{"timestamp":"2025-08-19T17:55:07.918Z","level":"debug","message":"Prompt data saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755625919074-7bdvve/logs/prompts/prompt-pr-review-2025-08-19T17-55-07-917Z.txt"}
{"timestamp":"2025-08-19T17:55:07.918Z","level":"debug","message":"Spawning Gemini CLI with stdin approach"}
{"timestamp":"2025-08-19T17:55:08.699Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T17:55:08.776Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T17:55:08.805Z","level":"debug","message":"Gemini CLI stdout: [dotenv@16.6.0] injecting env (9) from .env"}
{"timestamp":"2025-08-19T17:56:02.787Z","level":"debug","message":"Gemini CLI stdout: ```json\n{\n  \"findings\": [\n    {\n      \"file\": \"/__tests__/app/lib/request-service-helper.test.ts\",\n      \"line\": 1,\n      \"endLine\": 215,\n      \"severity\": \"warning\",\n      \""}
{"timestamp":"2025-08-19T17:56:02.788Z","level":"debug","message":"Gemini CLI stdout: message\": \"⚠️ `request-service-helper` için yazılan test dosyası, fonksiyonların gerçek implementasyonunu test etmiyor. Test edilen modüldeki fonksiyonlar `jest.fn()` ile mock'lanmış ve testler bu mock'ları çağırıyor. Bu durum, helper fonksiyonları iç"}
{"timestamp":"2025-08-19T17:56:02.843Z","level":"debug","message":"Gemini CLI stdout: indeki iş mantığı için sıfır test kapsamı anlamına geliyor ve yanıltıcı bir test sonucu üretir.\",\n      \"suggestion\": \"💡 Testleri, gerçek fonksiyonları import edip çeşitli girdilerle davranışlarını test edecek şekilde yeniden düzenleyin. Mock'lar, test edilen fonksiyonlar için değil, yalnızca harici"}
{"timestamp":"2025-08-19T17:56:03.300Z","level":"debug","message":"Gemini CLI stdout: bağımlılıklar (API çağrıları, kütüphaneler vb.) için kullanılmalıdır. Örneğin:\\n```typescript\\n// Gerçek fonksiyonu import et\\nimport { checkDynamicFieldRequiredAnswers } from \\\"../../../app/lib/request-service-helper\\\";\\n\\ndescribe(\\\""}
{"timestamp":"2025-08-19T17:56:03.786Z","level":"debug","message":"Gemini CLI stdout: checkDynamicFieldRequiredAnswers\\\", () => {\\n  it(\\\"should return success true when dynamicFields is empty\\\", () => {\\n    // Gerçek fonksiyonu çağır\\n    const result = checkDynamicFieldRequiredAnswers([], {});\\n    expect(result.success).toBe(true);\\n"}
{"timestamp":"2025-08-19T17:56:04.303Z","level":"debug","message":"Gemini CLI stdout: expect(result.field).toBe(null);\\n  });\\n});\\n```\",\n      \"ruleId\": \"unit-test-coverage\",\n      \"category\": \"testing\"\n    },\n    {\n      \"file\": \"/__tests__/app/lib/route-helper."}
{"timestamp":"2025-08-19T17:56:04.656Z","level":"debug","message":"Gemini CLI stdout: test.ts\",\n      \"line\": 153,\n      \"endLine\": 187,\n      \"severity\": \"warning\",\n      \"message\": \"⚠️ 'should return the last unfilled day' test senaryosu yanlış bir doğrulama (`assertion`) içeriyor. Sağ"}
{"timestamp":"2025-08-19T17:56:05.208Z","level":"debug","message":"Gemini CLI stdout: lanan mock veriye ve fonksiyonun mantığına göre, testin doldurulmamış gün (21 Mayıs) için bir `Road` nesnesi dönmesini beklemesi gerekirken, sonucun `undefined` olduğunu doğruluyor. Bu durum testin kendisinde bir hata olduğunu gösteriyor.\",\n      \"suggestion\":"}
{"timestamp":"2025-08-19T17:56:05.619Z","level":"debug","message":"Gemini CLI stdout: \"💡 `expect(result).toBeUndefined()` doğrulamasını, beklenen `Road` nesnesini içerecek şekilde `expect(result).toEqual(...)` olarak düzeltin. Bu, testin fonksiyon mantığını doğru bir şekilde doğrulamasını sağlayacaktır. Doldurulmamış gün verisi `mockData."}
{"timestamp":"2025-08-19T17:56:06.452Z","level":"debug","message":"Gemini CLI stdout: roadInfos[1]` olduğundan, doğrulama `expect(result).toEqual(mockData.roadInfos[1]);` gibi olmalıdır.\",\n      \"ruleId\": \"unit-test-coverage\",\n      \"category\": \"testing\"\n    }\n  ],\n  \"summary\": \""}
{"timestamp":"2025-08-19T17:56:06.860Z","level":"debug","message":"Gemini CLI stdout: Kod değişiklikleri genel olarak olumlu. Özellikle `lib` altındaki helper fonksiyonlarına JSDoc formatında açıklamalar eklenmesi ve kapsamlı yeni birim testlerinin yazılması kod kalitesini ve okunabilirliği artırıyor. Ancak, iki önemli test dosyasında kritik hatalar tespit edildi:\\n"}
{"timestamp":"2025-08-19T17:56:07.292Z","level":"debug","message":"Gemini CLI stdout: \\n1.  `request-service-helper.test.ts` dosyasındaki testler, asıl fonksiyonları test etmek yerine mock'ları test ediyor, bu da testlerin işlevsiz olmasına neden oluyor.\\n2.  `route-helper.test.ts` dosyasında hatalı"}
{"timestamp":"2025-08-19T17:56:07.782Z","level":"debug","message":"Gemini CLI stdout: bir doğrulama (assertion) mevcut, bu da testin güvenilirliğini zayıflatıyor.\\n\\nBu test hatalarının düzeltilmesi, eklenen yeni testlerin kalitesini ve projenin genel sağlığını güvence altına almak için önemlidir.\"\n}\n```"}
{"timestamp":"2025-08-19T17:56:07.790Z","level":"debug","message":"Gemini CLI stdout: "}
{"timestamp":"2025-08-19T17:56:07.812Z","level":"debug","message":"Gemini CLI exited with code: 0"}
{"timestamp":"2025-08-19T17:56:07.812Z","level":"debug","message":"Gemini CLI final stdout: [dotenv@16.6.0] injecting env (9) from .env\n[dotenv@16.6.0] injecting env (9) from .env\n[dotenv@16.6.0] injecting env (9) from .env\n```json\n{\n  \"findings\": [\n    {\n      \"file\": \"/__tests__/app/lib/request-service-helper.test.ts\",\n      \"line\": 1,\n      \"endLine\": 215,\n      \"severity\": \"warning\",\n      \"message\": \"⚠️ `request-service-helper` için yazılan test dosyası, fonksiyonların gerçek implementasyonunu test etmiyor. Test edilen modüldeki fonksiyonlar `jest.fn()` ile mock'lanmış ve testler bu mock'ları çağırıyor. Bu durum, helper fonksiyonları içindeki iş mantığı için sıfır test kapsamı anlamına geliyor ve yanıltıcı bir test sonucu üretir.\",\n      \"suggestion\": \"💡 Testleri, gerçek fonksiyonları import edip çeşitli girdilerle davranışlarını test edecek şekilde yeniden düzenleyin. Mock'lar, test edilen fonksiyonlar için değil, yalnızca harici bağımlılıklar (API çağrıları, kütüphaneler vb.) için kullanılmalıdır. Örneğin:\\n```typescript\\n// Gerçek fonksiyonu import et\\nimport { checkDynamicFieldRequiredAnswers } from \\\"../../../app/lib/request-service-helper\\\";\\n\\ndescribe(\\\"checkDynamicFieldRequiredAnswers\\\", () => {\\n  it(\\\"should return success true when dynamicFields is empty\\\", () => {\\n    // Gerçek fonksiyonu çağır\\n    const result = checkDynamicFieldRequiredAnswers([], {});\\n    expect(result.success).toBe(true);\\n    expect(result.field).toBe(null);\\n  });\\n});\\n```\",\n      \"ruleId\": \"unit-test-coverage\",\n      \"category\": \"testing\"\n    },\n    {\n      \"file\": \"/__tests__/app/lib/route-helper.test.ts\",\n      \"line\": 153,\n      \"endLine\": 187,\n      \"severity\": \"warning\",\n      \"message\": \"⚠️ 'should return the last unfilled day' test senaryosu yanlış bir doğrulama (`assertion`) içeriyor. Sağlanan mock veriye ve fonksiyonun mantığına göre, testin doldurulmamış gün (21 Mayıs) için bir `Road` nesnesi dönmesini beklemesi gerekirken, sonucun `undefined` olduğunu doğruluyor. Bu durum testin kendisinde bir hata olduğunu gösteriyor.\",\n      \"suggestion\": \"💡 `expect(result).toBeUndefined()` doğrulamasını, beklenen `Road` nesnesini içerecek şekilde `expect(result).toEqual(...)` olarak düzeltin. Bu, testin fonksiyon mantığını doğru bir şekilde doğrulamasını sağlayacaktır. Doldurulmamış gün verisi `mockData.roadInfos[1]` olduğundan, doğrulama `expect(result).toEqual(mockData.roadInfos[1]);` gibi olmalıdır.\",\n      \"ruleId\": \"unit-test-coverage\",\n      \"category\": \"testing\"\n    }\n  ],\n  \"summary\": \"Kod değişiklikleri genel olarak olumlu. Özellikle `lib` altındaki helper fonksiyonlarına JSDoc formatında açıklamalar eklenmesi ve kapsamlı yeni birim testlerinin yazılması kod kalitesini ve okunabilirliği artırıyor. Ancak, iki önemli test dosyasında kritik hatalar tespit edildi:\\n\\n1.  `request-service-helper.test.ts` dosyasındaki testler, asıl fonksiyonları test etmek yerine mock'ları test ediyor, bu da testlerin işlevsiz olmasına neden oluyor.\\n2.  `route-helper.test.ts` dosyasında hatalı bir doğrulama (assertion) mevcut, bu da testin güvenilirliğini zayıflatıyor.\\n\\nBu test hatalarının düzeltilmesi, eklenen yeni testlerin kalitesini ve projenin genel sağlığını güvence altına almak için önemlidir.\"\n}\n```"}
{"timestamp":"2025-08-19T17:56:07.812Z","level":"debug","message":"Gemini CLI final stderr: "}
{"timestamp":"2025-08-19T17:56:07.814Z","level":"debug","message":"Gemini response saved to: /var/folders/hl/9z317kz51qb0yg2b93bz3d680000gn/T/ado-review-1755625919074-7bdvve/logs/responses/gemini-response-pr-req-1755626107917-lstjt3kyv-2025-08-19T17-56-07-813Z.json"}
{"timestamp":"2025-08-19T17:56:07.814Z","level":"warn","message":"Failed to parse JSON response: Unterminated string in JSON at position 799"}
{"timestamp":"2025-08-19T17:56:07.815Z","level":"debug","message":"Response content: [dotenv@16.6.0] injecting env (9) from .env\n[dotenv@16.6.0] injecting env (9) from .env\n[dotenv@16.6.0] injecting env (9) from .env\n```json\n{\n  \"findings\": [\n    {\n      \"file\": \"/__tests__/app/lib/request-service-helper.test.ts\",\n      \"line\": 1,\n      \"endLine\": 215,\n      \"severity\": \"warning\",\n      \"message\": \"⚠️ `request-service-helper` için yazılan test dosyası, fonksiyonların gerçek implementasyonunu test etmiyor. Test edilen modüldeki fonksiyonlar `jest.fn()` ile mock'lanmış ve testler bu mock'ları çağırıyor. Bu durum, helper fonksiyonları içindeki iş mantığı için sıfır test kapsamı anlamına geliyor ve yanıltıcı bir test sonucu üretir.\",\n      \"suggestion\": \"💡 Testleri, gerçek fonksiyonları import edip çeşitli girdilerle davranışlarını test edecek şekilde yeniden düzenleyin. Mock'lar, test edilen fonksiyonlar için değil, yalnızca harici bağımlılıklar (API çağrıları, kütüphaneler vb.) için kullanılmalıdır. Örneğin:\\n```typescript\\n// Gerçek fonksiyonu import et\\nimport { checkDynamicFieldRequiredAnswers } from \\\"../../../app/lib/request-service-helper\\\";\\n\\ndescribe(\\\"checkDynamicFieldRequiredAnswers\\\", () => {\\n  it(\\\"should return success true when dynamicFields is empty\\\", () => {\\n    // Gerçek fonksiyonu çağır\\n    const result = checkDynamicFieldRequiredAnswers([], {});\\n    expect(result.success).toBe(true);\\n    expect(result.field).toBe(null);\\n  });\\n});\\n```\",\n      \"ruleId\": \"unit-test-coverage\",\n      \"category\": \"testing\"\n    },\n    {\n      \"file\": \"/__tests__/app/lib/route-helper.test.ts\",\n      \"line\": 153,\n      \"endLine\": 187,\n      \"severity\": \"warning\",\n      \"message\": \"⚠️ 'should return the last unfilled day' test senaryosu yanlış bir doğrulama (`assertion`) içeriyor. Sağlanan mock veriye ve fonksiyonun mantığına göre, testin doldurulmamış gün (21 Mayıs) için bir `Road` nesnesi dönmesini beklemesi gerekirken, sonucun `undefined` olduğunu doğruluyor. Bu durum testin kendisinde bir hata olduğunu gösteriyor.\",\n      \"suggestion\": \"💡 `expect(result).toBeUndefined()` doğrulamasını, beklenen `Road` nesnesini içerecek şekilde `expect(result).toEqual(...)` olarak düzeltin. Bu, testin fonksiyon mantığını doğru bir şekilde doğrulamasını sağlayacaktır. Doldurulmamış gün verisi `mockData.roadInfos[1]` olduğundan, doğrulama `expect(result).toEqual(mockData.roadInfos[1]);` gibi olmalıdır.\",\n      \"ruleId\": \"unit-test-coverage\",\n      \"category\": \"testing\"\n    }\n  ],\n  \"summary\": \"Kod değişiklikleri genel olarak olumlu. Özellikle `lib` altındaki helper fonksiyonlarına JSDoc formatında açıklamalar eklenmesi ve kapsamlı yeni birim testlerinin yazılması kod kalitesini ve okunabilirliği artırıyor. Ancak, iki önemli test dosyasında kritik hatalar tespit edildi:\\n\\n1.  `request-service-helper.test.ts` dosyasındaki testler, asıl fonksiyonları test etmek yerine mock'ları test ediyor, bu da testlerin işlevsiz olmasına neden oluyor.\\n2.  `route-helper.test.ts` dosyasında hatalı bir doğrulama (assertion) mevcut, bu da testin güvenilirliğini zayıflatıyor.\\n\\nBu test hatalarının düzeltilmesi, eklenen yeni testlerin kalitesini ve projenin genel sağlığını güvence altına almak için önemlidir.\"\n}\n```"}
{"timestamp":"2025-08-19T17:56:07.815Z","level":"debug","message":"Parsing response as plain text"}
{"timestamp":"2025-08-19T17:56:07.815Z","level":"info","message":"Review completed: 0 findings"}
{"timestamp":"2025-08-19T17:56:07.815Z","level":"debug","message":"Completed step 5: Plan and execute review"}
{"timestamp":"2025-08-19T17:56:07.815Z","level":"info","message":"\u001b[34m[6/8]\u001b[39m Processing and filtering findings..."}
{"timestamp":"2025-08-19T17:56:07.815Z","level":"debug","message":"Starting step 6: Process findings"}
{"timestamp":"2025-08-19T17:56:07.816Z","level":"info","message":"Found 0 total findings, 0 above threshold"}
{"timestamp":"2025-08-19T17:56:07.816Z","level":"debug","message":"Completed step 6: Process findings"}
{"timestamp":"2025-08-19T17:56:07.816Z","level":"info","message":"\u001b[34m[7/8]\u001b[39m Getting approval and posting comments..."}
{"timestamp":"2025-08-19T17:56:07.816Z","level":"debug","message":"Starting step 7: Get approval and post comments"}
{"timestamp":"2025-08-19T17:56:07.816Z","level":"info","message":"\u001b[32m✅ No issues found!\u001b[39m"}
